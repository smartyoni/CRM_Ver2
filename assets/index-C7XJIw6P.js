(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Tf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function GE(){if(Wp)return zl;Wp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var ty;function QE(){return ty||(ty=1,Tf.exports=GE()),Tf.exports}var E=QE(),Af={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function FE(){if(ey)return Dt;ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,st={};function H(R,F,tt){this.props=R,this.context=F,this.refs=st,this.updater=tt||G}H.prototype.isReactComponent={},H.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},H.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function K(){}K.prototype=H.prototype;function lt(R,F,tt){this.props=R,this.context=F,this.refs=st,this.updater=tt||G}var it=lt.prototype=new K;it.constructor=lt,Z(it,H.prototype),it.isPureReactComponent=!0;var St=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function V(R,F,tt,et,at,ht){return tt=ht.ref,{$$typeof:a,type:R,key:F,ref:tt!==void 0?tt:null,props:ht}}function b(R,F){return V(R.type,F,void 0,void 0,void 0,R.props)}function C(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function I(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(tt){return F[tt]})}var N=/\/+/g;function M(R,F){return typeof R=="object"&&R!==null&&R.key!=null?I(""+R.key):F.toString(36)}function w(){}function ot(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(w,w):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function gt(R,F,tt,et,at){var ht=typeof R;(ht==="undefined"||ht==="boolean")&&(R=null);var dt=!1;if(R===null)dt=!0;else switch(ht){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(R.$$typeof){case a:case e:dt=!0;break;case A:return dt=R._init,gt(dt(R._payload),F,tt,et,at)}}if(dt)return at=at(R),dt=et===""?"."+M(R,0):et,St(at)?(tt="",dt!=null&&(tt=dt.replace(N,"$&/")+"/"),gt(at,F,tt,"",function(Qt){return Qt})):at!=null&&(C(at)&&(at=b(at,tt+(at.key==null||R&&R.key===at.key?"":(""+at.key).replace(N,"$&/")+"/")+dt)),F.push(at)),1;dt=0;var Gt=et===""?".":et+":";if(St(R))for(var Rt=0;Rt<R.length;Rt++)et=R[Rt],ht=Gt+M(et,Rt),dt+=gt(et,F,tt,ht,at);else if(Rt=j(R),typeof Rt=="function")for(R=Rt.call(R),Rt=0;!(et=R.next()).done;)et=et.value,ht=Gt+M(et,Rt++),dt+=gt(et,F,tt,ht,at);else if(ht==="object"){if(typeof R.then=="function")return gt(ot(R),F,tt,et,at);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return dt}function z(R,F,tt){if(R==null)return R;var et=[],at=0;return gt(R,et,"","",function(ht){return F.call(tt,ht,at++)}),et}function W(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(tt){(R._status===0||R._status===-1)&&(R._status=1,R._result=tt)},function(tt){(R._status===0||R._status===-1)&&(R._status=2,R._result=tt)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var ft=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Nt(){}return Dt.Children={map:z,forEach:function(R,F,tt){z(R,function(){F.apply(this,arguments)},tt)},count:function(R){var F=0;return z(R,function(){F++}),F},toArray:function(R){return z(R,function(F){return F})||[]},only:function(R){if(!C(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Dt.Component=H,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=lt,Dt.StrictMode=r,Dt.Suspense=v,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return ut.H.useMemoCache(R)}},Dt.cache=function(R){return function(){return R.apply(null,arguments)}},Dt.cloneElement=function(R,F,tt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var et=Z({},R.props),at=R.key,ht=void 0;if(F!=null)for(dt in F.ref!==void 0&&(ht=void 0),F.key!==void 0&&(at=""+F.key),F)!_t.call(F,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&F.ref===void 0||(et[dt]=F[dt]);var dt=arguments.length-2;if(dt===1)et.children=tt;else if(1<dt){for(var Gt=Array(dt),Rt=0;Rt<dt;Rt++)Gt[Rt]=arguments[Rt+2];et.children=Gt}return V(R.type,at,void 0,void 0,ht,et)},Dt.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:h,_context:R},R},Dt.createElement=function(R,F,tt){var et,at={},ht=null;if(F!=null)for(et in F.key!==void 0&&(ht=""+F.key),F)_t.call(F,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(at[et]=F[et]);var dt=arguments.length-2;if(dt===1)at.children=tt;else if(1<dt){for(var Gt=Array(dt),Rt=0;Rt<dt;Rt++)Gt[Rt]=arguments[Rt+2];at.children=Gt}if(R&&R.defaultProps)for(et in dt=R.defaultProps,dt)at[et]===void 0&&(at[et]=dt[et]);return V(R,ht,void 0,void 0,null,at)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(R){return{$$typeof:p,render:R}},Dt.isValidElement=C,Dt.lazy=function(R){return{$$typeof:A,_payload:{_status:-1,_result:R},_init:W}},Dt.memo=function(R,F){return{$$typeof:_,type:R,compare:F===void 0?null:F}},Dt.startTransition=function(R){var F=ut.T,tt={};ut.T=tt;try{var et=R(),at=ut.S;at!==null&&at(tt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Nt,ft)}catch(ht){ft(ht)}finally{ut.T=F}},Dt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Dt.use=function(R){return ut.H.use(R)},Dt.useActionState=function(R,F,tt){return ut.H.useActionState(R,F,tt)},Dt.useCallback=function(R,F){return ut.H.useCallback(R,F)},Dt.useContext=function(R){return ut.H.useContext(R)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(R,F){return ut.H.useDeferredValue(R,F)},Dt.useEffect=function(R,F,tt){var et=ut.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(R,F)},Dt.useId=function(){return ut.H.useId()},Dt.useImperativeHandle=function(R,F,tt){return ut.H.useImperativeHandle(R,F,tt)},Dt.useInsertionEffect=function(R,F){return ut.H.useInsertionEffect(R,F)},Dt.useLayoutEffect=function(R,F){return ut.H.useLayoutEffect(R,F)},Dt.useMemo=function(R,F){return ut.H.useMemo(R,F)},Dt.useOptimistic=function(R,F){return ut.H.useOptimistic(R,F)},Dt.useReducer=function(R,F,tt){return ut.H.useReducer(R,F,tt)},Dt.useRef=function(R){return ut.H.useRef(R)},Dt.useState=function(R){return ut.H.useState(R)},Dt.useSyncExternalStore=function(R,F,tt){return ut.H.useSyncExternalStore(R,F,tt)},Dt.useTransition=function(){return ut.H.useTransition()},Dt.version="19.1.1",Dt}var ny;function rd(){return ny||(ny=1,Af.exports=FE()),Af.exports}var jt=rd(),Sf={exports:{}},Bl={},bf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function YE(){return iy||(iy=1,(function(a){function e(z,W){var ft=z.length;z.push(W);t:for(;0<ft;){var Nt=ft-1>>>1,R=z[Nt];if(0<o(R,W))z[Nt]=W,z[ft]=R,ft=Nt;else break t}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],ft=z.pop();if(ft!==W){z[0]=ft;t:for(var Nt=0,R=z.length,F=R>>>1;Nt<F;){var tt=2*(Nt+1)-1,et=z[tt],at=tt+1,ht=z[at];if(0>o(et,ft))at<R&&0>o(ht,et)?(z[Nt]=ht,z[at]=ft,Nt=at):(z[Nt]=et,z[tt]=ft,Nt=tt);else if(at<R&&0>o(ht,ft))z[Nt]=ht,z[at]=ft,Nt=at;else break t}}return W}function o(z,W){var ft=z.sortIndex-W.sortIndex;return ft!==0?ft:z.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,x=null,j=3,G=!1,Z=!1,st=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function St(z){for(var W=i(_);W!==null;){if(W.callback===null)r(_);else if(W.startTime<=z)r(_),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(_)}}function ut(z){if(st=!1,St(z),!Z)if(i(v)!==null)Z=!0,_t||(_t=!0,M());else{var W=i(_);W!==null&&gt(ut,W.startTime-z)}}var _t=!1,V=-1,b=5,C=-1;function I(){return H?!0:!(a.unstable_now()-C<b)}function N(){if(H=!1,_t){var z=a.unstable_now();C=z;var W=!0;try{t:{Z=!1,st&&(st=!1,lt(V),V=-1),G=!0;var ft=j;try{e:{for(St(z),x=i(v);x!==null&&!(x.expirationTime>z&&I());){var Nt=x.callback;if(typeof Nt=="function"){x.callback=null,j=x.priorityLevel;var R=Nt(x.expirationTime<=z);if(z=a.unstable_now(),typeof R=="function"){x.callback=R,St(z),W=!0;break e}x===i(v)&&r(v),St(z)}else r(v);x=i(v)}if(x!==null)W=!0;else{var F=i(_);F!==null&&gt(ut,F.startTime-z),W=!1}}break t}finally{x=null,j=ft,G=!1}W=void 0}}finally{W?M():_t=!1}}}var M;if(typeof it=="function")M=function(){it(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ot=w.port2;w.port1.onmessage=N,M=function(){ot.postMessage(null)}}else M=function(){K(N,0)};function gt(z,W){V=K(function(){z(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(z){switch(j){case 1:case 2:case 3:var W=3;break;default:W=j}var ft=j;j=W;try{return z()}finally{j=ft}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ft=j;j=z;try{return W()}finally{j=ft}},a.unstable_scheduleCallback=function(z,W,ft){var Nt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Nt+ft:Nt):ft=Nt,z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ft+R,z={id:A++,callback:W,priorityLevel:z,startTime:ft,expirationTime:R,sortIndex:-1},ft>Nt?(z.sortIndex=ft,e(_,z),i(v)===null&&z===i(_)&&(st?(lt(V),V=-1):st=!0,gt(ut,ft-Nt))):(z.sortIndex=R,e(v,z),Z||G||(Z=!0,_t||(_t=!0,M()))),z},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(z){var W=j;return function(){var ft=j;j=W;try{return z.apply(this,arguments)}finally{j=ft}}}})(Rf)),Rf}var sy;function XE(){return sy||(sy=1,bf.exports=YE()),bf.exports}var wf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function KE(){if(ry)return Qe;ry=1;var a=rd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin),j=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:j,fetchPriority:G}):A==="script"&&r.d.X(v,{crossOrigin:x,integrity:j,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var ay;function ZE(){if(ay)return wf.exports;ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wf.exports=KE(),wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function $E(){if(ly)return Bl;ly=1;var a=XE(),e=rd(),i=ZE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,T=c.child;T;){if(T===s){y=!0,s=c,l=f;break}if(T===l){y=!0,l=c,s=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===s){y=!0,s=f,l=c;break}if(T===l){y=!0,l=f,s=c;break}T=T.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case H:return"Profiler";case st:return"StrictMode";case ut:return"Suspense";case _t:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case it:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case St:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:ot(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ot(t(n))}catch{}}return null}var gt=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Nt=[],R=-1;function F(t){return{current:t}}function tt(t){0>R||(t.current=Nt[R],Nt[R]=null,R--)}function et(t,n){R++,Nt[R]=t.current,t.current=n}var at=F(null),ht=F(null),dt=F(null),Gt=F(null);function Rt(t,n){switch(et(dt,n),et(ht,t),et(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cp(n),t=xp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(at),et(at,t)}function Qt(){tt(at),tt(ht),tt(dt)}function Cs(t){t.memoizedState!==null&&et(Gt,t);var n=at.current,s=xp(n,t.type);n!==s&&(et(ht,t),et(at,s))}function Ar(t){ht.current===t&&(tt(at),tt(ht)),Gt.current===t&&(tt(Gt),Ol._currentValue=ft)}var Sr=Object.prototype.hasOwnProperty,xs=a.unstable_scheduleCallback,br=a.unstable_cancelCallback,Tc=a.unstable_shouldYield,Oa=a.unstable_requestPaint,tn=a.unstable_now,co=a.unstable_getCurrentPriorityLevel,Ae=a.unstable_ImmediatePriority,De=a.unstable_UserBlockingPriority,oi=a.unstable_NormalPriority,Ac=a.unstable_LowPriority,ja=a.unstable_IdlePriority,Sc=a.log,Ds=a.unstable_setDisableYieldValue,Mi=null,qe=null;function mn(t){if(typeof Sc=="function"&&Ds(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Mi,t)}catch{}}var Ke=Math.clz32?Math.clz32:fo,bc=Math.log,ho=Math.LN2;function fo(t){return t>>>=0,t===0?32:31-(bc(t)/ho|0)|0}var Bn=256,Oi=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=Dn(l):(y&=T,y!==0?c=Dn(y):s||(s=T&~t,s!==0&&(c=Dn(s))))):(T=l&~f,T!==0?c=Dn(T):y!==0?c=Dn(y):s||(s=l&~t,s!==0&&(c=Dn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function ji(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var t=Bn;return Bn<<=1,(Bn&4194048)===0&&(Bn=256),t}function Ui(){var t=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),t}function wr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function he(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mo(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(s=y&~s;0<s;){var Y=31-Ke(s),$=1<<Y;T[Y]=0,D[Y]=-1;var k=B[Y];if(k!==null)for(B[Y]=null,Y=0;Y<k.length;Y++){var q=k[Y];q!==null&&(q.lane&=-536870913)}s&=~$}l!==0&&Li(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Li(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Pi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Ke(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function La(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Yp(t.type))}function Rc(t,n){var s=W.p;try{return W.p=t,n()}finally{W.p=s}}var kn=Math.random().toString(36).slice(2),fe="__reactFiber$"+kn,je="__reactProps$"+kn,ci="__reactContainer$"+kn,Ns="__reactEvents$"+kn,Vs="__reactListeners$"+kn,wc="__reactHandles$"+kn,Nn="__reactResources$"+kn,zi="__reactMarker$"+kn;function Cr(t){delete t[fe],delete t[je],delete t[Ns],delete t[Vs],delete t[wc]}function qn(t){var n=t[fe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ci]||s[fe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ip(t);t!==null;){if(s=t[fe])return s;t=Ip(t)}return n}t=s,s=t.parentNode}return null}function Hn(t){if(t=t[fe]||t[ci]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ki(t){var n=t[Nn];return n||(n=t[Nn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(t){t[zi]=!0}var go=new Set,Is={};function Gn(t,n){Qn(t,n),Qn(t+"Capture",n)}function Qn(t,n){for(Is[t]=n,t=0;t<n.length;t++)go.add(n[t])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fn={},xr={};function Cc(t){return Sr.call(xr,t)?!0:Sr.call(Fn,t)?!1:Ms.test(t)?xr[t]=!0:(Fn[t]=!0,!1)}function Os(t,n,s){if(Cc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function js(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function pn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Us,Dr;function hi(t){if(Us===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Us=n&&n[1]||"",Dr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+t+Dr}var Nr=!1;function Vr(t,n){if(!t||Nr)return"";Nr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var k=q}Reflect.construct(t,[],$)}else{try{$.call()}catch(q){k=q}t.call($.prototype)}}else{try{throw Error()}catch(q){k=q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var D=y.split(`
`),B=T.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===B.length)for(l=D.length-1,c=B.length-1;1<=l&&0<=c&&D[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==B[c]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=c);break}}}finally{Nr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?hi(s):""}function xc(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Vr(t.type,!1);case 11:return Vr(t.type.render,!1);case 1:return Vr(t.type,!0);case 31:return hi("Activity");default:return""}}function Vn(t){try{var n="";do n+=xc(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ls(t){var n=qi(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Hi(t){t._valueTracker||(t._valueTracker=Ls(t))}function Kt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=qi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ps=/[\n"\\]/g;function Ne(t){return t.replace(Ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function za(t,n,s,l,c,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ae(n)):t.value!==""+ae(n)&&(t.value=""+ae(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ka(t,y,ae(n)):s!=null?ka(t,y,ae(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ae(T):t.removeAttribute("name")}function Ba(t,n,s,l,c,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+ae(s):"",n=n!=null?""+ae(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ka(t,n,s){n==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Gi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ae(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function po(t,n,s){if(n!=null&&(n=""+ae(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ae(s):""}function yo(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(gt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ae(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qa(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||di.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Ha(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&qa(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&qa(t,f,n[f])}function Ir(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function In(t){return vo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ga=null;function Qa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,Ze=null;function Eo(t){var n=Hn(t);if(n&&(t=n.stateNode)){var s=t[je]||null;t:switch(t=n.stateNode,n.type){case"input":if(za(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ne(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[je]||null;if(!c)throw Error(r(90));za(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Kt(l)}break t;case"textarea":po(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Gi(t,!!s.multiple,n,!1)}}}var zs=!1;function Bs(t,n,s){if(zs)return t(n,s);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,(Qi!==null||Ze!==null)&&(uu(),Qi&&(n=Qi,t=Ze,Ze=Qi=null,Eo(n),t)))for(n=0;n<t.length;n++)Eo(t[n])}}function Fi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[je]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var $e=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=!1;if($e)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){mi=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{mi=!1}var _n=null,te=null,Mr=null;function To(){if(Mr)return Mr;var t,n=te,s=n.length,l,c="value"in _n?_n.value:_n.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return Mr=c.slice(t,1<l?1-l:void 0)}function ks(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qs(){return!0}function Fa(){return!1}function Se(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qs:Fa,this.isPropagationStopped=Fa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Se(He),Gs=A({},He,{view:0,detail:0}),Qs=Se(Gs),Or,Fs,Yn,Ys=A({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Or=t.screenX-Yn.screenX,Fs=t.screenY-Yn.screenY):Fs=Or=0,Yn=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Fs}}),Xs=Se(Ys),Dc=A({},Ys,{dataTransfer:0}),Ao=Se(Dc),Ks=A({},Gs,{relatedTarget:0}),jr=Se(Ks),So=A({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Se(So),Xa=A({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bo=Se(Xa),Ur=A({},He,{data:0}),Ka=Se(Ur),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wo[t])?!!n[t]:!1}function Lr(){return Co}var xo=A({},Gs,{key:function(t){if(t.key){var n=Ro[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pr=Se(xo),Je=A({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=Se(Je),Do=A({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),Xi=Se(Do),u=A({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Se(u),g=A({},Ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Se(g),P=A({},He,{newState:0,oldState:0}),Q=Se(P),rt=[9,13,27,32],Ct=$e&&"CompositionEvent"in window,ne=null;$e&&"documentMode"in document&&(ne=document.documentMode);var Ft=$e&&"TextEvent"in window&&!ne,me=$e&&(!Ct||ne&&8<ne&&11>=ne),an=" ",Xn=!1;function Mn(t,n){switch(t){case"keyup":return rt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jn=!1;function $a(t,n){switch(t){case"compositionend":return On(n);case"keypress":return n.which!==32?null:(Xn=!0,an);case"textInput":return t=n.data,t===an&&Xn?null:t;default:return null}}function y0(t,n){if(jn)return t==="compositionend"||!Ct&&Mn(t,n)?(t=To(),Mr=te=_n=null,jn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return me&&n.locale!=="ko"?null:n.data;default:return null}}var _0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_0[t.type]:n==="textarea"}function qd(t,n,s,l){Qi?Ze?Ze.push(l):Ze=[l]:Qi=l,n=gu(n,"onChange"),0<n.length&&(s=new Hs("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ja=null,Wa=null;function v0(t){Ap(t,0)}function No(t){var n=Bi(t);if(Kt(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if($e){var Nc;if($e){var Vc="oninput"in document;if(!Vc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Vc=typeof Qd.oninput=="function"}Nc=Vc}else Nc=!1;Gd=Nc&&(!document.documentMode||9<document.documentMode)}function Fd(){Ja&&(Ja.detachEvent("onpropertychange",Yd),Wa=Ja=null)}function Yd(t){if(t.propertyName==="value"&&No(Wa)){var n=[];qd(n,Wa,t,Qa(t)),Bs(v0,n)}}function E0(t,n,s){t==="focusin"?(Fd(),Ja=n,Wa=s,Ja.attachEvent("onpropertychange",Yd)):t==="focusout"&&Fd()}function T0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return No(Wa)}function A0(t,n){if(t==="click")return No(n)}function S0(t,n){if(t==="input"||t==="change")return No(n)}function b0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:b0;function tl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Sr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,n){var s=Xd(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Xd(s)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $d(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=fi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=fi(t.document)}return n}function Ic(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var R0=$e&&"documentMode"in document&&11>=document.documentMode,zr=null,Mc=null,el=null,Oc=!1;function Jd(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oc||zr==null||zr!==fi(l)||(l=zr,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=gu(Mc,"onSelect"),0<l.length&&(n=new Hs("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=zr)))}function Zs(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Br={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},jc={},Wd={};$e&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function $s(t){if(jc[t])return jc[t];if(!Br[t])return t;var n=Br[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Wd)return jc[t]=n[s];return t}var tm=$s("animationend"),em=$s("animationiteration"),nm=$s("animationstart"),w0=$s("transitionrun"),C0=$s("transitionstart"),x0=$s("transitioncancel"),im=$s("transitionend"),sm=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Un(t,n){sm.set(t,n),Gn(n,[t])}var rm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var s=rm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Vn(n)},rm.set(t,n),n)}return{value:t,source:n,stack:Vn(n)}}var En=[],kr=0,Lc=0;function Vo(){for(var t=kr,n=Lc=kr=0;n<t;){var s=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&am(s,c,f)}}function Io(t,n,s,l){En[kr++]=t,En[kr++]=n,En[kr++]=s,En[kr++]=l,Lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pc(t,n,s,l){return Io(t,n,s,l),Mo(t)}function qr(t,n){return Io(t,null,null,n),Mo(t)}function am(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ke(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Mo(t){if(50<wl)throw wl=0,Gh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Hr={};function D0(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,s,l){return new D0(t,n,s,l)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,n){var s=t.alternate;return s===null?(s=on(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function lm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Oo(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")zc(t)&&(y=1);else if(typeof t=="string")y=VE(t,s,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=on(31,s,n,c),t.elementType=C,t.lanes=f,t;case Z:return Js(s.children,c,f,n);case st:y=8,c|=24;break;case H:return t=on(12,s,n,c|2),t.elementType=H,t.lanes=f,t;case ut:return t=on(13,s,n,c),t.elementType=ut,t.lanes=f,t;case _t:return t=on(19,s,n,c),t.elementType=_t,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case it:y=10;break t;case lt:y=9;break t;case St:y=11;break t;case V:y=14;break t;case b:y=16,l=null;break t}y=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=on(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Js(t,n,s,l){return t=on(7,t,l,n),t.lanes=s,t}function Bc(t,n,s){return t=on(6,t,null,n),t.lanes=s,t}function kc(t,n,s){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gr=[],Qr=0,jo=null,Uo=0,Tn=[],An=0,Ws=null,yi=1,_i="";function tr(t,n){Gr[Qr++]=Uo,Gr[Qr++]=jo,jo=t,Uo=n}function om(t,n,s){Tn[An++]=yi,Tn[An++]=_i,Tn[An++]=Ws,Ws=t;var l=yi;t=_i;var c=32-Ke(l)-1;l&=~(1<<c),s+=1;var f=32-Ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ke(n)+c|s<<c|l,_i=f+t}else yi=1<<f|s<<c|l,_i=t}function qc(t){t.return!==null&&(tr(t,1),om(t,1,0))}function Hc(t){for(;t===jo;)jo=Gr[--Qr],Gr[Qr]=null,Uo=Gr[--Qr],Gr[Qr]=null;for(;t===Ws;)Ws=Tn[--An],Tn[An]=null,_i=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null}var We=null,ue=null,qt=!1,er=null,Kn=!1,Gc=Error(r(519));function nr(t){var n=Error(r(418,""));throw sl(vn(n,t)),Gc}function um(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[fe]=t,n[je]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<xl.length;s++)Ot(xl[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Ba(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Hi(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),yo(n,l.value,l.defaultValue,l.children),Hi(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||wp(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=pu),n=!0):n=!1,n||nr(t)}function cm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:We=We.return}}function nl(t){if(t!==We)return!1;if(!qt)return cm(t),qt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||lf(t.type,t.memoizedProps)),s=!s),s&&ue&&nr(t),cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ue=Pn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ue=null}}else n===27?(n=ue,cs(t.type)?(t=hf,hf=null,ue=t):ue=n):ue=We?Pn(t.stateNode.nextSibling):null;return!0}function il(){ue=We=null,qt=!1}function hm(){var t=er;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),er=null),t}function sl(t){er===null?er=[t]:er.push(t)}var Qc=F(null),ir=null,vi=null;function Ki(t,n,s){et(Qc,n._currentValue),n._currentValue=s}function Ei(t){t._currentValue=Qc.current,tt(Qc)}function Fc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Yc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Fc(f.return,s,t),l||(y=null);break t}f=T.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Fc(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function rl(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(c===Gt.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Yc(n,t,s,l),n.flags|=262144}function Lo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sr(t){ir=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return fm(ir,t)}function Po(t,n){return ir===null&&sr(t),fm(t,n)}function fm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},vi===null){if(t===null)throw Error(r(308));vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vi=vi.next=n;return s}var N0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},V0=a.unstable_scheduleCallback,I0=a.unstable_NormalPriority,be={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new N0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&V0(I0,function(){t.controller.abort()})}var ll=null,Kc=0,Fr=0,Yr=null;function M0(t,n){if(ll===null){var s=ll=[];Kc=0,Fr=$h(),Yr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Kc++,n.then(dm,dm),n}function dm(){if(--Kc===0&&ll!==null){Yr!==null&&(Yr.status="fulfilled");var t=ll;ll=null,Fr=0,Yr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function O0(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var mm=z.S;z.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&M0(t,n),mm!==null&&mm(t,n)};var rr=F(null);function Zc(){var t=rr.current;return t!==null?t:ee.pooledCache}function zo(t,n){n===null?et(rr,rr.current):et(rr,n.pool)}function gm(){var t=Zc();return t===null?null:{parent:be._currentValue,pool:t}}var ol=Error(r(460)),pm=Error(r(474)),Bo=Error(r(542)),$c={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ko(){}function _m(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ko,ko),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t;default:if(typeof n.status=="string")n.then(ko,ko);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t}throw ul=n,ol}}var ul=null;function vm(){if(ul===null)throw Error(r(459));var t=ul;return ul=null,t}function Em(t){if(t===ol||t===Bo)throw Error(r(483))}var Zi=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mo(t),am(t,null,s),n}return Io(t,l,n,s),Mo(t)}function cl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Pi(t,s)}}function th(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var eh=!1;function hl(){if(eh){var t=Yr;if(t!==null)throw t}}function fl(t,n,s,l){eh=!1;var c=t.updateQueue;Zi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var D=T,B=D.next;D.next=null,y===null?f=B:y.next=B,y=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==y&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=D))}if(f!==null){var $=c.baseState;y=0,Y=B=D=null,T=f;do{var k=T.lane&-536870913,q=k!==T.lane;if(q?(Pt&k)===k:(l&k)===k){k!==0&&k===Fr&&(eh=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=t,Et=T;k=n;var Jt=s;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){$=bt.call(Jt,$,k);break t}$=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,k=typeof bt=="function"?bt.call(Jt,$,k):bt,k==null)break t;$=A({},$,k);break t;case 2:Zi=!0}}k=T.callback,k!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=q,D=$):Y=Y.next=q,y|=k;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;q=T,T=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);Y===null&&(D=$),c.baseState=D,c.firstBaseUpdate=B,c.lastBaseUpdate=Y,f===null&&(c.shared.lanes=0),as|=y,t.lanes=y,t.memoizedState=$}}function Tm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Am(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Tm(s[t],n)}var Xr=F(null),qo=F(0);function Sm(t,n){t=Ci,et(qo,t),et(Xr,n),Ci=t|n.baseLanes}function nh(){et(qo,Ci),et(Xr,Xr.current)}function ih(){Ci=qo.current,tt(Xr),tt(qo)}var Wi=0,Vt=null,Zt=null,_e=null,Ho=!1,Kr=!1,ar=!1,Go=0,dl=0,Zr=null,j0=0;function ge(){throw Error(r(321))}function sh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ln(t[s],n[s]))return!1;return!0}function rh(t,n,s,l,c,f){return Wi=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?ag:lg,ar=!1,f=s(l,c),ar=!1,Kr&&(f=Rm(n,s,l,c)),bm(t),f}function bm(t){z.H=Zo;var n=Zt!==null&&Zt.next!==null;if(Wi=0,_e=Zt=Vt=null,Ho=!1,dl=0,Zr=null,n)throw Error(r(300));t===null||Ve||(t=t.dependencies,t!==null&&Lo(t)&&(Ve=!0))}function Rm(t,n,s,l){Vt=t;var c=0;do{if(Kr&&(Zr=null),dl=0,Kr=!1,25<=c)throw Error(r(301));if(c+=1,_e=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=q0,f=n(s,l)}while(Kr);return f}function U0(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?ml(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Vt.flags|=1024),n}function ah(){var t=Go!==0;return Go=0,t}function lh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function oh(t){if(Ho){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ho=!1}Wi=0,_e=Zt=Vt=null,Kr=!1,dl=Go=0,Zr=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Vt.memoizedState=_e=t:_e=_e.next=t,_e}function ve(){if(Zt===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=_e===null?Vt.memoizedState:_e.next;if(n!==null)_e=n,Zt=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},_e===null?Vt.memoizedState=_e=t:_e=_e.next=t}return _e}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var n=dl;return dl+=1,Zr===null&&(Zr=[]),t=_m(Zr,t,n),n=Vt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?ag:lg),t}function Qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===it)return Ge(t)}throw Error(r(438,String(t)))}function ch(t){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=uh(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function Ti(t,n){return typeof n=="function"?n(t):n}function Fo(t){var n=ve();return hh(n,Zt,t)}function hh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=y=null,D=null,B=n,Y=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Pt&$)===$:(Wi&$)===$){var k=B.revertLane;if(k===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Fr&&(Y=!0);else if((Wi&k)===k){B=B.next,k===Fr&&(Y=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=$,y=f):D=D.next=$,Vt.lanes|=k,as|=k;$=B.action,ar&&s(f,$),f=B.hasEagerState?B.eagerState:s(f,$)}else k={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=k,y=f):D=D.next=k,Vt.lanes|=$,as|=$;B=B.next}while(B!==null&&B!==n);if(D===null?y=f:D.next=T,!ln(f,t.memoizedState)&&(Ve=!0,Y&&(s=Yr,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=ve(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function wm(t,n,s){var l=Vt,c=ve(),f=qt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var y=!ln((Zt||c).memoizedState,s);y&&(c.memoizedState=s,Ve=!0),c=c.queue;var T=Dm.bind(null,l,c,t);if(gl(2048,8,T,[t]),c.getSnapshot!==n||y||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,$r(9,Yo(),xm.bind(null,l,c,s,n),null),ee===null)throw Error(r(349));f||(Wi&124)!==0||Cm(l,n,s)}return s}function Cm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=uh(),Vt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function xm(t,n,s,l){n.value=s,n.getSnapshot=l,Nm(n)&&Vm(t)}function Dm(t,n,s){return s(function(){Nm(n)&&Vm(t)})}function Nm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ln(t,s)}catch{return!0}}function Vm(t){var n=qr(t,2);n!==null&&dn(n,t,2)}function dh(t){var n=en();if(typeof t=="function"){var s=t;if(t=s(),ar){mn(!0);try{s()}finally{mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},n}function Im(t,n,s,l){return t.baseState=s,hh(t,Zt,typeof l=="function"?l:Ti)}function L0(t,n,s,l,c){if(Ko(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};z.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Mm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Mm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=z.T,y={};z.T=y;try{var T=s(c,l),D=z.S;D!==null&&D(y,T),Om(t,n,T)}catch(B){mh(t,n,B)}finally{z.T=f}}else try{f=s(c,l),Om(t,n,f)}catch(B){mh(t,n,B)}}function Om(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){jm(t,n,l)},function(l){return mh(t,n,l)}):jm(t,n,s)}function jm(t,n,s){n.status="fulfilled",n.value=s,Um(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Mm(t,s)))}function mh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Um(n),n=n.next;while(n!==l)}t.action=null}function Um(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lm(t,n){return n}function Pm(t,n){if(qt){var s=ee.formState;if(s!==null){t:{var l=Vt;if(qt){if(ue){e:{for(var c=ue,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=Pn(c.nextSibling),l=c.data==="F!";break t}}nr(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:n},s.queue=l,s=ig.bind(null,Vt,l),l.dispatch=s,l=dh(!1),f=vh.bind(null,Vt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=L0.bind(null,Vt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function zm(t){var n=ve();return Bm(n,Zt,t)}function Bm(t,n,s){if(n=hh(t,n,Lm)[0],t=Fo(Ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(y){throw y===ol?Bo:y}else l=n;n=ve();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Vt.flags|=2048,$r(9,Yo(),P0.bind(null,c,s),null)),[l,f,t]}function P0(t,n){t.action=n}function km(t){var n=ve(),s=Zt;if(s!==null)return Bm(n,s,t);ve(),n=n.memoizedState,s=ve();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function $r(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=uh(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Yo(){return{destroy:void 0,resource:void 0}}function qm(){return ve().memoizedState}function Xo(t,n,s,l){var c=en();l=l===void 0?null:l,Vt.flags|=t,c.memoizedState=$r(1|n,Yo(),s,l)}function gl(t,n,s,l){var c=ve();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&sh(l,Zt.memoizedState.deps)?c.memoizedState=$r(n,f,s,l):(Vt.flags|=t,c.memoizedState=$r(1|n,f,s,l))}function Hm(t,n){Xo(8390656,8,t,n)}function Gm(t,n){gl(2048,8,t,n)}function Qm(t,n){return gl(4,2,t,n)}function Fm(t,n){return gl(4,4,t,n)}function Ym(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xm(t,n,s){s=s!=null?s.concat([t]):null,gl(4,4,Ym.bind(null,n,t),s)}function gh(){}function Km(t,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Zm(t,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ar){mn(!0);try{t()}finally{mn(!1)}}return s.memoizedState=[l,n],l}function ph(t,n,s){return s===void 0||(Wi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Wg(),Vt.lanes|=t,as|=t,s)}function $m(t,n,s,l){return ln(s,n)?s:Xr.current!==null?(t=ph(t,s,l),ln(t,n)||(Ve=!0),t):(Wi&42)===0?(Ve=!0,t.memoizedState=s):(t=Wg(),Vt.lanes|=t,as|=t,n)}function Jm(t,n,s,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var y=z.T,T={};z.T=T,vh(t,!1,n,s);try{var D=c(),B=z.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=O0(D,l);pl(t,n,Y,fn(t))}else pl(t,n,l,fn(t))}catch($){pl(t,n,{then:function(){},status:"rejected",reason:$},fn())}finally{W.p=f,z.T=y}}function z0(){}function yh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=Wm(t).queue;Jm(t,c,n,ft,s===null?z0:function(){return tg(t),s(l)})}function Wm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wm(t).next.queue;pl(t,n,{},fn())}function _h(){return Ge(Ol)}function eg(){return ve().memoizedState}function ng(){return ve().memoizedState}function B0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=fn();t=$i(s);var l=Ji(n,t,s);l!==null&&(dn(l,n,s),cl(l,n,s)),n={cache:Xc()},t.payload=n;return}n=n.return}}function k0(t,n,s){var l=fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ko(t)?sg(n,s):(s=Pc(t,n,s,l),s!==null&&(dn(s,t,l),rg(s,n,l)))}function ig(t,n,s){var l=fn();pl(t,n,s,l)}function pl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))sg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,s);if(c.hasEagerState=!0,c.eagerState=T,ln(T,y))return Io(t,n,c,0),ee===null&&Vo(),!1}catch{}finally{}if(s=Pc(t,n,c,l),s!==null)return dn(s,t,l),rg(s,n,l),!0}return!1}function vh(t,n,s,l){if(l={lane:2,revertLane:$h(),action:l,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(n)throw Error(r(479))}else n=Pc(t,s,l,2),n!==null&&dn(n,t,2)}function Ko(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function sg(t,n){Kr=Ho=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function rg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Pi(t,s)}}var Zo={readContext:Ge,use:Qo,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},ag={readContext:Ge,use:Qo,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Hm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Xo(4194308,4,Ym.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Xo(4194308,4,t,n)},useInsertionEffect:function(t,n){Xo(4,2,t,n)},useMemo:function(t,n){var s=en();n=n===void 0?null:n;var l=t();if(ar){mn(!0);try{t()}finally{mn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=en();if(s!==void 0){var c=s(n);if(ar){mn(!0);try{s(n)}finally{mn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=k0.bind(null,Vt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,s=ig.bind(null,Vt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:gh,useDeferredValue:function(t,n){var s=en();return ph(s,t,n)},useTransition:function(){var t=dh(!1);return t=Jm.bind(null,Vt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Vt,c=en();if(qt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ee===null)throw Error(r(349));(Pt&124)!==0||Cm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Hm(Dm.bind(null,l,f,t),[t]),l.flags|=2048,$r(9,Yo(),xm.bind(null,l,f,s,n),null),s},useId:function(){var t=en(),n=ee.identifierPrefix;if(qt){var s=_i,l=yi;s=(l&~(1<<32-Ke(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=Go++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=j0++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:_h,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vh.bind(null,Vt,!0,s),s.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return en().memoizedState=B0.bind(null,Vt)}},lg={readContext:Ge,use:Qo,useCallback:Km,useContext:Ge,useEffect:Gm,useImperativeHandle:Xm,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:Fo,useRef:qm,useState:function(){return Fo(Ti)},useDebugValue:gh,useDeferredValue:function(t,n){var s=ve();return $m(s,Zt.memoizedState,t,n)},useTransition:function(){var t=Fo(Ti)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:_h,useFormState:zm,useActionState:zm,useOptimistic:function(t,n){var s=ve();return Im(s,Zt,t,n)},useMemoCache:ch,useCacheRefresh:ng},q0={readContext:Ge,use:Qo,useCallback:Km,useContext:Ge,useEffect:Gm,useImperativeHandle:Xm,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:fh,useRef:qm,useState:function(){return fh(Ti)},useDebugValue:gh,useDeferredValue:function(t,n){var s=ve();return Zt===null?ph(s,t,n):$m(s,Zt.memoizedState,t,n)},useTransition:function(){var t=fh(Ti)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:_h,useFormState:km,useActionState:km,useOptimistic:function(t,n){var s=ve();return Zt!==null?Im(s,Zt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ch,useCacheRefresh:ng},Jr=null,yl=0;function $o(t){var n=yl;return yl+=1,Jr===null&&(Jr=[]),_m(Jr,t,n)}function _l(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jo(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){var n=t._init;return n(t._payload)}function ug(t){function n(U,O){if(t){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function s(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=pi(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,L,X){return O===null||O.tag!==6?(O=Bc(L,U.mode,X),O.return=U,O):(O=c(O,L),O.return=U,O)}function D(U,O,L,X){var mt=L.type;return mt===Z?Y(U,O,L.props.children,X,L.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&og(mt)===O.type)?(O=c(O,L.props),_l(O,L),O.return=U,O):(O=Oo(L.type,L.key,L.props,null,U.mode,X),_l(O,L),O.return=U,O)}function B(U,O,L,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=kc(L,U.mode,X),O.return=U,O):(O=c(O,L.children||[]),O.return=U,O)}function Y(U,O,L,X,mt){return O===null||O.tag!==7?(O=Js(L,U.mode,X,mt),O.return=U,O):(O=c(O,L),O.return=U,O)}function $(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bc(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return L=Oo(O.type,O.key,O.props,null,U.mode,L),_l(L,O),L.return=U,L;case G:return O=kc(O,U.mode,L),O.return=U,O;case b:var X=O._init;return O=X(O._payload),$(U,O,L)}if(gt(O)||M(O))return O=Js(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return $(U,$o(O),L);if(O.$$typeof===it)return $(U,Po(U,O),L);Jo(U,O)}return null}function k(U,O,L,X){var mt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return mt!==null?null:T(U,O,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return L.key===mt?D(U,O,L,X):null;case G:return L.key===mt?B(U,O,L,X):null;case b:return mt=L._init,L=mt(L._payload),k(U,O,L,X)}if(gt(L)||M(L))return mt!==null?null:Y(U,O,L,X,null);if(typeof L.then=="function")return k(U,O,$o(L),X);if(L.$$typeof===it)return k(U,O,Po(U,L),X);Jo(U,L)}return null}function q(U,O,L,X,mt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(L)||null,T(O,U,""+X,mt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return U=U.get(X.key===null?L:X.key)||null,D(O,U,X,mt);case G:return U=U.get(X.key===null?L:X.key)||null,B(O,U,X,mt);case b:var It=X._init;return X=It(X._payload),q(U,O,L,X,mt)}if(gt(X)||M(X))return U=U.get(L)||null,Y(O,U,X,mt,null);if(typeof X.then=="function")return q(U,O,L,$o(X),mt);if(X.$$typeof===it)return q(U,O,L,Po(O,X),mt);Jo(O,X)}return null}function bt(U,O,L,X){for(var mt=null,It=null,yt=O,Tt=O=0,Me=null;yt!==null&&Tt<L.length;Tt++){yt.index>Tt?(Me=yt,yt=null):Me=yt.sibling;var kt=k(U,yt,L[Tt],X);if(kt===null){yt===null&&(yt=Me);break}t&&yt&&kt.alternate===null&&n(U,yt),O=f(kt,O,Tt),It===null?mt=kt:It.sibling=kt,It=kt,yt=Me}if(Tt===L.length)return s(U,yt),qt&&tr(U,Tt),mt;if(yt===null){for(;Tt<L.length;Tt++)yt=$(U,L[Tt],X),yt!==null&&(O=f(yt,O,Tt),It===null?mt=yt:It.sibling=yt,It=yt);return qt&&tr(U,Tt),mt}for(yt=l(yt);Tt<L.length;Tt++)Me=q(yt,U,Tt,L[Tt],X),Me!==null&&(t&&Me.alternate!==null&&yt.delete(Me.key===null?Tt:Me.key),O=f(Me,O,Tt),It===null?mt=Me:It.sibling=Me,It=Me);return t&&yt.forEach(function(gs){return n(U,gs)}),qt&&tr(U,Tt),mt}function Et(U,O,L,X){if(L==null)throw Error(r(151));for(var mt=null,It=null,yt=O,Tt=O=0,Me=null,kt=L.next();yt!==null&&!kt.done;Tt++,kt=L.next()){yt.index>Tt?(Me=yt,yt=null):Me=yt.sibling;var gs=k(U,yt,kt.value,X);if(gs===null){yt===null&&(yt=Me);break}t&&yt&&gs.alternate===null&&n(U,yt),O=f(gs,O,Tt),It===null?mt=gs:It.sibling=gs,It=gs,yt=Me}if(kt.done)return s(U,yt),qt&&tr(U,Tt),mt;if(yt===null){for(;!kt.done;Tt++,kt=L.next())kt=$(U,kt.value,X),kt!==null&&(O=f(kt,O,Tt),It===null?mt=kt:It.sibling=kt,It=kt);return qt&&tr(U,Tt),mt}for(yt=l(yt);!kt.done;Tt++,kt=L.next())kt=q(yt,U,Tt,kt.value,X),kt!==null&&(t&&kt.alternate!==null&&yt.delete(kt.key===null?Tt:kt.key),O=f(kt,O,Tt),It===null?mt=kt:It.sibling=kt,It=kt);return t&&yt.forEach(function(HE){return n(U,HE)}),qt&&tr(U,Tt),mt}function Jt(U,O,L,X){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case j:t:{for(var mt=L.key;O!==null;){if(O.key===mt){if(mt=L.type,mt===Z){if(O.tag===7){s(U,O.sibling),X=c(O,L.props.children),X.return=U,U=X;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&og(mt)===O.type){s(U,O.sibling),X=c(O,L.props),_l(X,L),X.return=U,U=X;break t}s(U,O);break}else n(U,O);O=O.sibling}L.type===Z?(X=Js(L.props.children,U.mode,X,L.key),X.return=U,U=X):(X=Oo(L.type,L.key,L.props,null,U.mode,X),_l(X,L),X.return=U,U=X)}return y(U);case G:t:{for(mt=L.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(U,O.sibling),X=c(O,L.children||[]),X.return=U,U=X;break t}else{s(U,O);break}else n(U,O);O=O.sibling}X=kc(L,U.mode,X),X.return=U,U=X}return y(U);case b:return mt=L._init,L=mt(L._payload),Jt(U,O,L,X)}if(gt(L))return bt(U,O,L,X);if(M(L)){if(mt=M(L),typeof mt!="function")throw Error(r(150));return L=mt.call(L),Et(U,O,L,X)}if(typeof L.then=="function")return Jt(U,O,$o(L),X);if(L.$$typeof===it)return Jt(U,O,Po(U,L),X);Jo(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(U,O.sibling),X=c(O,L),X.return=U,U=X):(s(U,O),X=Bc(L,U.mode,X),X.return=U,U=X),y(U)):s(U,O)}return function(U,O,L,X){try{yl=0;var mt=Jt(U,O,L,X);return Jr=null,mt}catch(yt){if(yt===ol||yt===Bo)throw yt;var It=on(29,yt,null,U.mode);return It.lanes=X,It.return=U,It}finally{}}}var Wr=ug(!0),cg=ug(!1),Sn=F(null),Zn=null;function ts(t){var n=t.alternate;et(Re,Re.current&1),et(Sn,t),Zn===null&&(n===null||Xr.current!==null||n.memoizedState!==null)&&(Zn=t)}function hg(t){if(t.tag===22){if(et(Re,Re.current),et(Sn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else es()}function es(){et(Re,Re.current),et(Sn,Sn.current)}function Ai(t){tt(Sn),Zn===t&&(Zn=null),tt(Re)}var Re=F(0);function Wo(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||cf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Eh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Th={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=fn(),c=$i(l);c.payload=n,s!=null&&(c.callback=s),n=Ji(t,c,l),n!==null&&(dn(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=fn(),c=$i(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Ji(t,c,l),n!==null&&(dn(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=fn(),l=$i(s);l.tag=2,n!=null&&(l.callback=n),n=Ji(t,l,s),n!==null&&(dn(n,t,s),cl(n,t,s))}};function fg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!tl(s,l)||!tl(c,f):!0}function dg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Th.enqueueReplaceState(n,n.state,null)}function lr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mg(t){tu(t)}function gg(t){console.error(t)}function pg(t){tu(t)}function eu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function yg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ah(t,n,s){return s=$i(s),s.tag=3,s.payload={element:null},s.callback=function(){eu(t,n)},s}function _g(t){return t=$i(t),t.tag=3,t}function vg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){yg(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yg(n,s,l),typeof c!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function H0(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&rl(n,s,c,!0),s=Sn.current,s!==null){switch(s.tag){case 13:return Zn===null?Fh():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===$c?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return s.flags|=65536,l===$c?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Xh(t,l,c)),!1}throw Error(r(435,s.tag))}return Xh(t,l,c),Fh(),!1}if(qt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Gc&&(t=Error(r(422),{cause:l}),sl(vn(t,s)))):(l!==Gc&&(n=Error(r(423),{cause:l}),sl(vn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,s),c=Ah(t.stateNode,l,c),th(t,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=vn(f,s),Rl===null?Rl=[f]:Rl.push(f),ce!==4&&(ce=2),n===null)return!0;l=vn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Ah(s.stateNode,l,t),th(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ls===null||!ls.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=_g(c),vg(c,t,s,l),th(s,c),!1}s=s.return}while(s!==null);return!1}var Eg=Error(r(461)),Ve=!1;function Ue(t,n,s,l){n.child=t===null?cg(n,null,s,l):Wr(n,t.child,s,l)}function Tg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return sr(n),l=rh(t,n,s,y,f,c),T=ah(),t!==null&&!Ve?(lh(t,n,c),Si(t,n,c)):(qt&&T&&qc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Ag(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!zc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Sg(t,n,f,l,c)):(t=Oo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Nh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:tl,s(y,l)&&t.ref===n.ref)return Si(t,n,c)}return n.flags|=1,t=pi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(tl(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Nh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Si(t,n,c)}return Sh(t,n,s,l,c)}function bg(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Rg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zo(n,f!==null?f.cachePool:null),f!==null?Sm(n,f):nh(),hg(n);else return n.lanes=n.childLanes=536870912,Rg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(zo(n,f.cachePool),Sm(n,f),es(),n.memoizedState=null):(t!==null&&zo(n,null),nh(),es());return Ue(t,n,c,s),n.child}function Rg(t,n,s,l){var c=Zc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&zo(n,null),nh(),hg(n),t!==null&&rl(t,n,l,!0),null}function nu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Sh(t,n,s,l,c){return sr(n),s=rh(t,n,s,l,void 0,c),l=ah(),t!==null&&!Ve?(lh(t,n,c),Si(t,n,c)):(qt&&l&&qc(n),n.flags|=1,Ue(t,n,s,c),n.child)}function wg(t,n,s,l,c,f){return sr(n),n.updateQueue=null,s=Rm(n,l,s,c),bm(t),l=ah(),t!==null&&!Ve?(lh(t,n,f),Si(t,n,f)):(qt&&l&&qc(n),n.flags|=1,Ue(t,n,s,f),n.child)}function Cg(t,n,s,l,c){if(sr(n),n.stateNode===null){var f=Hr,y=s.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jc(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Hr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Eh(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Th.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=lr(s,T);f.props=D;var B=f.context,Y=s.contextType;y=Hr,typeof Y=="object"&&Y!==null&&(y=Ge(Y));var $=s.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==y)&&dg(n,f,l,y),Zi=!1;var k=n.memoizedState;f.state=k,fl(n,l,f,c),hl(),B=n.memoizedState,T||k!==B||Zi?(typeof $=="function"&&(Eh(n,s,$,l),B=n.memoizedState),(D=Zi||fg(n,s,D,l,k,B,y))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wc(t,n),y=n.memoizedProps,Y=lr(s,y),f.props=Y,$=n.pendingProps,k=f.context,B=s.contextType,D=Hr,typeof B=="object"&&B!==null&&(D=Ge(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||k!==D)&&dg(n,f,l,D),Zi=!1,k=n.memoizedState,f.state=k,fl(n,l,f,c),hl();var q=n.memoizedState;y!==$||k!==q||Zi||t!==null&&t.dependencies!==null&&Lo(t.dependencies)?(typeof T=="function"&&(Eh(n,s,T,l),q=n.memoizedState),(Y=Zi||fg(n,s,Y,l,k,q,D)||t!==null&&t.dependencies!==null&&Lo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=D,l=Y):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,nu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wr(n,t.child,null,c),n.child=Wr(n,null,s,c)):Ue(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Si(t,n,c),t}function xg(t,n,s,l){return il(),n.flags|=256,Ue(t,n,s,l),n.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(t){return{baseLanes:t,cachePool:gm()}}function wh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=bn),t}function Dg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(c?ts(n):es(),qt){var T=ue,D;if(D=T){t:{for(D=T,T=Kn;D.nodeType!==8;){if(!T){T=null;break t}if(D=Pn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:Ws!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},D=on(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,We=n,ue=null,D=!0):D=!1}D||nr(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return cf(T)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return T=l.children,l=l.fallback,c?(es(),c=n.mode,T=iu({mode:"hidden",children:T},c),l=Js(l,c,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,c=n.child,c.memoizedState=Rh(s),c.childLanes=wh(t,y,s),n.memoizedState=bh,l):(ts(n),Ch(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ts(n),n.flags&=-257,n=xh(t,n,s)):n.memoizedState!==null?(es(),n.child=t.child,n.flags|=128,n=null):(es(),c=l.fallback,T=n.mode,l=iu({mode:"visible",children:l.children},T),c=Js(c,T,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Wr(n,t.child,null,s),l=n.child,l.memoizedState=Rh(s),l.childLanes=wh(t,y,s),n.memoizedState=bh,n=c);else if(ts(n),cf(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(r(419)),l.stack="",l.digest=y,sl({value:l,source:null,stack:null}),n=xh(t,n,s)}else if(Ve||rl(t,n,s,!1),y=(s&t.childLanes)!==0,Ve||y){if(y=ee,y!==null&&(l=s&-s,l=(l&42)!==0?1:La(l),l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,qr(t,l),dn(y,t,l),Eg;T.data==="$?"||Fh(),n=xh(t,n,s)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ue=Pn(T.nextSibling),We=n,qt=!0,er=null,Kn=!1,t!==null&&(Tn[An++]=yi,Tn[An++]=_i,Tn[An++]=Ws,yi=t.id,_i=t.overflow,Ws=n),n=Ch(n,l.children),n.flags|=4096);return n}return c?(es(),c=l.fallback,T=n.mode,D=t.child,B=D.sibling,l=pi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?c=pi(B,c):(c=Js(c,T,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,T=t.child.memoizedState,T===null?T=Rh(s):(D=T.cachePool,D!==null?(B=be._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=gm(),T={baseLanes:T.baseLanes|s,cachePool:D}),c.memoizedState=T,c.childLanes=wh(t,y,s),n.memoizedState=bh,l):(ts(n),s=t.child,t=s.sibling,s=pi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function Ch(t,n){return n=iu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function iu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xh(t,n,s){return Wr(n,t.child,null,s),t=Ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ng(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fc(t.return,n,s)}function Dh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function Vg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,s),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ng(t,s,n);else if(t.tag===19)Ng(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Re,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Wo(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Dh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Wo(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Dh(n,!0,s,null,f);break;case"together":Dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Si(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),as|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(rl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=pi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=pi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Nh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lo(t)))}function G0(t,n,s){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Ki(n,be,t.memoizedState.cache),il();break;case 27:case 5:Cs(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Dg(t,n,s):(ts(n),t=Si(t,n,s),t!==null?t.sibling:null);ts(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(rl(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Vg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,s);case 24:Ki(n,be,t.memoizedState.cache)}return Si(t,n,s)}function Ig(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Nh(t,s)&&(n.flags&128)===0)return Ve=!1,G0(t,n,s);Ve=(t.flags&131072)!==0}else Ve=!1,qt&&(n.flags&1048576)!==0&&om(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")zc(l)?(t=lr(l,t),n.tag=1,n=Cg(null,n,l,t,s)):(n.tag=0,n=Sh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===St){n.tag=11,n=Tg(null,n,l,t,s);break t}else if(c===V){n.tag=14,n=Ag(null,n,l,t,s);break t}}throw n=ot(l)||l,Error(r(306,n,""))}}return n;case 0:return Sh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=lr(l,n.pendingProps),Cg(t,n,l,c,s);case 3:t:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Wc(t,n),fl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,Ki(n,be,l),l!==f.cache&&Yc(n,[be],s,!0),hl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xg(t,n,l,s);break t}else if(l!==c){c=vn(Error(r(424)),n),sl(c),n=xg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=Pn(t.firstChild),We=n,qt=!0,er=null,Kn=!0,s=cg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(il(),l===c){n=Si(t,n,s);break t}Ue(t,n,l,s)}n=n.child}return n;case 26:return nu(t,n),t===null?(s=Up(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,t=n.pendingProps,l=yu(dt.current).createElement(s),l[fe]=n,l[je]=t,Pe(l,s,t),de(l),n.stateNode=l):n.memoizedState=Up(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Cs(n),t===null&&qt&&(l=n.stateNode=Mp(n.type,n.pendingProps,dt.current),We=n,Kn=!0,c=ue,cs(n.type)?(hf=c,ue=Pn(l.firstChild)):ue=c),Ue(t,n,n.pendingProps.children,s),nu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((c=l=ue)&&(l=_E(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,We=n,ue=Pn(l.firstChild),Kn=!1,c=!0):c=!1),c||nr(n)),Cs(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:y!==null&&lf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=rh(t,n,U0,null,null,s),Ol._currentValue=c),nu(t,n),Ue(t,n,l,s),n.child;case 6:return t===null&&qt&&((t=s=ue)&&(s=vE(s,n.pendingProps,Kn),s!==null?(n.stateNode=s,We=n,ue=null,t=!0):t=!1),t||nr(n)),null;case 13:return Dg(t,n,s);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wr(n,null,l,s):Ue(t,n,l,s),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,s);case 7:return Ue(t,n,n.pendingProps,s),n.child;case 8:return Ue(t,n,n.pendingProps.children,s),n.child;case 12:return Ue(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ki(n,n.type,l.value),Ue(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sr(n),c=Ge(c),l=l(c),n.flags|=1,Ue(t,n,l,s),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,s);case 15:return Sg(t,n,n.type,n.pendingProps,s);case 19:return Vg(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=iu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=pi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return bg(t,n,s);case 24:return sr(n),l=Ge(be),t===null?(c=Zc(),c===null&&(c=ee,f=Xc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Jc(n),Ki(n,be,c)):((t.lanes&s)!==0&&(Wc(t,n),fl(n,null,null,s),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ki(n,be,l)):(l=f.cache,Ki(n,be,l),l!==c.cache&&Yc(n,[be],s,!0))),Ue(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function bi(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kp(n)){if(n=Sn.current,n!==null&&((Pt&4194048)===Pt?Zn!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==Zn))throw ul=$c,pm;t.flags|=8192}}function su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ui():536870912,t.lanes|=n,ia|=n)}function vl(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function le(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function Q0(t,n,s){var l=n.pendingProps;switch(Hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(be),Qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(nl(n)?bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hm())),le(n),null;case 26:return s=n.memoizedState,t===null?(bi(n),s!==null?(le(n),Mg(n,s)):(le(n),n.flags&=-16777217)):s?s!==t.memoizedState?(bi(n),le(n),Mg(n,s)):(le(n),n.flags&=-16777217):(t.memoizedProps!==l&&bi(n),le(n),n.flags&=-16777217),null;case 27:Ar(n),s=dt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return le(n),null}t=at.current,nl(n)?um(n):(t=Mp(c,l,s),n.stateNode=t,bi(n))}return le(n),null;case 5:if(Ar(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return le(n),null}if(t=at.current,nl(n))um(n);else{switch(c=yu(dt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[fe]=n,t[je]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&bi(n)}}return le(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=dt.current,nl(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[fe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||wp(t.nodeValue,s)),t||nr(n)}else t=yu(t).createTextNode(l),t[fe]=n,n.stateNode=t}return le(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=nl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[fe]=n}else il(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),c=!1}else c=hm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),su(n,n.updateQueue),le(n),null;case 4:return Qt(),t===null&&ef(n.stateNode.containerInfo),le(n),null;case 10:return Ei(n.type),le(n),null;case 19:if(tt(Re),c=n.memoizedState,c===null)return le(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)vl(c,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wo(t),f!==null){for(n.flags|=128,vl(c,!1),t=f.updateQueue,n.updateQueue=t,su(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)lm(s,t),s=s.sibling;return et(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>lu&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Wo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,su(n,t),vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return le(n),null}else 2*tn()-c.renderingStartTime>lu&&s!==536870912&&(n.flags|=128,l=!0,vl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Re.current,et(Re,l?t&1|2:t&1),n):(le(n),null);case 22:case 23:return Ai(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&su(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&tt(rr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ei(be),le(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function F0(t,n){switch(Hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ei(be),Qt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ar(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));il()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(Re),null;case 4:return Qt(),null;case 10:return Ei(n.type),null;case 22:case 23:return Ai(n),ih(),t!==null&&tt(rr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ei(be),null;case 25:return null;default:return null}}function Og(t,n){switch(Hc(n),n.tag){case 3:Ei(be),Qt();break;case 26:case 27:case 5:Ar(n);break;case 4:Qt();break;case 13:Ai(n);break;case 19:tt(Re);break;case 10:Ei(n.type);break;case 22:case 23:Ai(n),ih(),t!==null&&tt(rr);break;case 24:Ei(be)}}function El(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(T){Wt(n,n.return,T)}}function ns(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,c=n;var D=s,B=T;try{B()}catch(Y){Wt(c,D,Y)}}}l=l.next}while(l!==f)}}catch(Y){Wt(n,n.return,Y)}}function jg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Am(n,s)}catch(l){Wt(t,t.return,l)}}}function Ug(t,n,s){s.props=lr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Wt(t,n,l)}}function Tl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Wt(t,n,c)}}function $n(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Wt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Wt(t,n,c)}else s.current=null}function Lg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Wt(t,t.return,c)}}function Vh(t,n,s){try{var l=t.stateNode;dE(l,t.type,s,n),l[je]=n}catch(c){Wt(t,t.return,c)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cs(t.type)||t.tag===4}function Ih(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=pu));else if(l!==4&&(l===27&&cs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Mh(t,n,s),t=t.sibling;t!==null;)Mh(t,n,s),t=t.sibling}function ru(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&cs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ru(t,n,s),t=t.sibling;t!==null;)ru(t,n,s),t=t.sibling}function zg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,s),n[fe]=t,n[je]=s}catch(f){Wt(t,t.return,f)}}var Ri=!1,pe=!1,Oh=!1,Bg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Y0(t,n){if(t=t.containerInfo,rf=Su,t=$d(t),Ic(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,T=-1,D=-1,B=0,Y=0,$=t,k=null;e:for(;;){for(var q;$!==s||c!==0&&$.nodeType!==3||(T=y+c),$!==f||l!==0&&$.nodeType!==3||(D=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(q=$.firstChild)!==null;)k=$,$=q;for(;;){if($===t)break e;if(k===s&&++B===c&&(T=y),k===f&&++Y===l&&(D=y),(q=$.nextSibling)!==null)break;$=k,k=$.parentNode}$=q}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(af={focusedElem:t,selectionRange:s},Su=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var bt=lr(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(bt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Et){Wt(s,s.return,Et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)uf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function kg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:is(t,s),l&4&&El(5,s);break;case 1:if(is(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){Wt(s,s.return,y)}else{var c=lr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Wt(s,s.return,y)}}l&64&&jg(s),l&512&&Tl(s,s.return);break;case 3:if(is(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Am(t,n)}catch(y){Wt(s,s.return,y)}}break;case 27:n===null&&l&4&&zg(s);case 26:case 5:is(t,s),n===null&&l&4&&Lg(s),l&512&&Tl(s,s.return);break;case 12:is(t,s);break;case 13:is(t,s),l&4&&Gg(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=nE.bind(null,s),EE(t,s))));break;case 22:if(l=s.memoizedState!==null||Ri,!l){n=n!==null&&n.memoizedState!==null||pe,c=Ri;var f=pe;Ri=l,(pe=n)&&!f?ss(t,s,(s.subtreeFlags&8772)!==0):is(t,s),Ri=c,pe=f}break;case 30:break;default:is(t,s)}}function qg(t){var n=t.alternate;n!==null&&(t.alternate=null,qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Cr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,nn=!1;function wi(t,n,s){for(s=s.child;s!==null;)Hg(t,n,s),s=s.sibling}function Hg(t,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Mi,s)}catch{}switch(s.tag){case 26:pe||$n(s,n),wi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pe||$n(s,n);var l=re,c=nn;cs(s.type)&&(re=s.stateNode,nn=!1),wi(t,n,s),Nl(s.stateNode),re=l,nn=c;break;case 5:pe||$n(s,n);case 6:if(l=re,c=nn,re=null,wi(t,n,s),re=l,nn=c,re!==null)if(nn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{re.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:re!==null&&(nn?(t=re,Vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Pl(t)):Vp(re,s.stateNode));break;case 4:l=re,c=nn,re=s.stateNode.containerInfo,nn=!0,wi(t,n,s),re=l,nn=c;break;case 0:case 11:case 14:case 15:pe||ns(2,s,n),pe||ns(4,s,n),wi(t,n,s);break;case 1:pe||($n(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ug(s,n,l)),wi(t,n,s);break;case 21:wi(t,n,s);break;case 22:pe=(l=pe)||s.memoizedState!==null,wi(t,n,s),pe=l;break;default:wi(t,n,s)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(s){Wt(n,n.return,s)}}function X0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Bg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Bg),n;default:throw Error(r(435,t.tag))}}function jh(t,n){var s=X0(t);n.forEach(function(l){var c=iE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(cs(T.type)){re=T.stateNode,nn=!1;break t}break;case 5:re=T.stateNode,nn=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(re===null)throw Error(r(160));Hg(f,y,c),re=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var Ln=null;function Qg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ns(3,t,t.return),El(3,t),ns(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(pe||s===null||$n(s,s.return)),l&64&&Ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Ln;if(un(n,t),cn(t),l&512&&(pe||s===null||$n(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[zi]||f[fe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,s),f[fe]=t,de(f),l=f;break t;case"link":var y=zp("link","href",c).get(l+(s.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(T,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;case"meta":if(y=zp("meta","content",c).get(l+(s.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(T,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[fe]=t,de(f),l=f}t.stateNode=l}else Bp(c,t.type,t.stateNode);else t.stateNode=Pp(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Bp(c,t.type,t.stateNode):Pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vh(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(pe||s===null||$n(s,s.return)),s!==null&&l&4&&Vh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(pe||s===null||$n(s,s.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(q){Wt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Vh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Oh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(q){Wt(t,t.return,q)}}break;case 3:if(Eu=null,c=Ln,Ln=_u(n.containerInfo),un(n,t),Ln=c,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pl(n.containerInfo)}catch(q){Wt(t,t.return,q)}Oh&&(Oh=!1,Fg(t));break;case 4:l=Ln,Ln=_u(t.stateNode.containerInfo),un(n,t),cn(t),Ln=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(kh=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 22:c=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=Ri,Y=pe;if(Ri=B||c,pe=Y||D,un(n,t),pe=Y,Ri=B,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||Ri||pe||or(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=D.stateNode;var $=D.memoizedProps.style,k=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(q){Wt(D,D.return,q)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(q){Wt(D,D.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,jh(t,s))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Pg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Ih(t);ru(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(yn(y,""),s.flags&=-33);var T=Ih(t);ru(t,T,y);break;case 3:case 4:var D=s.stateNode.containerInfo,B=Ih(t);Mh(t,B,D);break;default:throw Error(r(161))}}catch(Y){Wt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(t,n.alternate,n),n=n.sibling}function or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ns(4,n,n.return),or(n);break;case 1:$n(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ug(n,n.return,s),or(n);break;case 27:Nl(n.stateNode);case 26:case 5:$n(n,n.return),or(n);break;case 22:n.memoizedState===null&&or(n);break;case 30:or(n);break;default:or(n)}t=t.sibling}}function ss(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ss(c,f,s),El(4,f);break;case 1:if(ss(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Wt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Tm(D[c],T)}catch(B){Wt(l,l.return,B)}}s&&y&64&&jg(f),Tl(f,f.return);break;case 27:zg(f);case 26:case 5:ss(c,f,s),s&&l===null&&y&4&&Lg(f),Tl(f,f.return);break;case 12:ss(c,f,s);break;case 13:ss(c,f,s),s&&y&4&&Gg(c,f);break;case 22:f.memoizedState===null&&ss(c,f,s),Tl(f,f.return);break;case 30:break;default:ss(c,f,s)}n=n.sibling}}function Uh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&al(s))}function Lh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Jn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(t,n,s,l),n=n.sibling}function Yg(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,s,l),c&2048&&El(9,n);break;case 1:Jn(t,n,s,l);break;case 3:Jn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Jn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Wt(n,n.return,D)}}else Jn(t,n,s,l);break;case 13:Jn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,s,l):Al(t,n):f._visibility&2?Jn(t,n,s,l):(f._visibility|=2,ta(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Uh(y,n);break;case 24:Jn(t,n,s,l),c&2048&&Lh(n.alternate,n);break;default:Jn(t,n,s,l)}}function ta(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,T=s,D=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:ta(f,y,T,D,c),El(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?ta(f,y,T,D,c):Al(f,y):(Y._visibility|=2,ta(f,y,T,D,c)),c&&B&2048&&Uh(y.alternate,y);break;case 24:ta(f,y,T,D,c),c&&B&2048&&Lh(y.alternate,y);break;default:ta(f,y,T,D,c)}n=n.sibling}}function Al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Al(s,l),c&2048&&Uh(l.alternate,l);break;case 24:Al(s,l),c&2048&&Lh(l.alternate,l);break;default:Al(s,l)}n=n.sibling}}var Sl=8192;function ea(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)Xg(t),t=t.sibling}function Xg(t){switch(t.tag){case 26:ea(t),t.flags&Sl&&t.memoizedState!==null&&ME(Ln,t.memoizedState,t.memoizedProps);break;case 5:ea(t);break;case 3:case 4:var n=Ln;Ln=_u(t.stateNode.containerInfo),ea(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Sl,Sl=16777216,ea(t),Sl=n):ea(t));break;default:ea(t)}}function Kg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,$g(l,t)}Kg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&ns(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,au(t)):bl(t);break;default:bl(t)}}function au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,$g(l,t)}Kg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ns(8,n,n.return),au(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,au(n));break;default:au(n)}t=t.sibling}}function $g(t,n){for(;Ie!==null;){var s=Ie;switch(s.tag){case 0:case 11:case 15:ns(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ie=l;else t:for(s=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(qg(l),l===s){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var K0={getCacheForType:function(t){var n=Ge(be),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},Z0=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Mt=null,Pt=0,Xt=0,hn=null,rs=!1,na=!1,Ph=!1,Ci=0,ce=0,as=0,ur=0,zh=0,bn=0,ia=0,Rl=null,sn=null,Bh=!1,kh=0,lu=1/0,ou=null,ls=null,Le=0,os=null,sa=null,ra=0,qh=0,Hh=null,Jg=null,wl=0,Gh=null;function fn(){if((Yt&2)!==0&&Pt!==0)return Pt&-Pt;if(z.T!==null){var t=Fr;return t!==0?t:$h()}return ui()}function Wg(){bn===0&&(bn=(Pt&536870912)===0||qt?Ua():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function dn(t,n,s){(t===ee&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(aa(t,0),us(t,Pt,bn,!1)),he(t,s),((Yt&2)===0||t!==ee)&&(t===ee&&((Yt&2)===0&&(ur|=s),ce===4&&us(t,Pt,bn,!1)),Wn(t))}function tp(t,n,s){if((Yt&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||ji(t,n),c=l?W0(t,n):Yh(t,n,!0),f=l;do{if(c===0){na&&!l&&us(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!$0(s)){c=Yh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=t;c=Rl;var D=T.current.memoizedState.isDehydrated;if(D&&(aa(T,y).flags|=256),y=Yh(T,y,!1),y!==2){if(Ph&&!D){T.errorRecoveryDisabledLanes|=f,ur|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){aa(t,0),us(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:us(l,n,bn,!rs);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=kh+300-tn(),10<c)){if(us(l,n,bn,!rs),gn(l,0,!0)!==0)break t;l.timeoutHandle=Dp(ep.bind(null,l,s,sn,ou,Bh,n,bn,ur,ia,rs,f,2,-0,0),c);break t}ep(l,s,sn,ou,Bh,n,bn,ur,ia,rs,f,0,-0,0)}}break}while(!0);Wn(t)}function ep(t,n,s,l,c,f,y,T,D,B,Y,$,k,q){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:IE},Xg(n),$=OE(),$!==null)){t.cancelPendingCommit=$(op.bind(null,t,n,f,s,l,c,y,T,D,Y,1,k,q)),us(t,f,y,!B);return}op(t,n,f,s,l,c,y,T,D)}function $0(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function us(t,n,s,l){n&=~zh,n&=~ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&Li(t,s,n)}function uu(){return(Yt&6)===0?(Cl(0),!1):!0}function Qh(){if(Mt!==null){if(Xt===0)var t=Mt.return;else t=Mt,vi=ir=null,oh(t),Jr=null,yl=0,t=Mt;for(;t!==null;)Og(t.alternate,t),t=t.return;Mt=null}}function aa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,gE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qh(),ee=t,Mt=s=pi(t.current,null),Pt=n,Xt=0,hn=null,rs=!1,na=ji(t,n),Ph=!1,ia=bn=zh=ur=as=ce=0,sn=Rl=null,Bh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Vo(),s}function np(t,n){Vt=null,z.H=Zo,n===ol||n===Bo?(n=vm(),Xt=3):n===pm?(n=vm(),Xt=4):Xt=n===Eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Mt===null&&(ce=1,eu(t,vn(n,t.current)))}function ip(){var t=z.H;return z.H=Zo,t===null?Zo:t}function sp(){var t=z.A;return z.A=K0,t}function Fh(){ce=4,rs||(Pt&4194048)!==Pt&&Sn.current!==null||(na=!0),(as&134217727)===0&&(ur&134217727)===0||ee===null||us(ee,Pt,bn,!1)}function Yh(t,n,s){var l=Yt;Yt|=2;var c=ip(),f=sp();(ee!==t||Pt!==n)&&(ou=null,aa(t,n)),n=!1;var y=ce;t:do try{if(Xt!==0&&Mt!==null){var T=Mt,D=hn;switch(Xt){case 8:Qh(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var B=Xt;if(Xt=0,hn=null,la(t,T,D,B),s&&na){y=0;break t}break;default:B=Xt,Xt=0,hn=null,la(t,T,D,B)}}J0(),y=ce;break}catch(Y){np(t,Y)}while(!0);return n&&t.shellSuspendCounter++,vi=ir=null,Yt=l,z.H=c,z.A=f,Mt===null&&(ee=null,Pt=0,Vo()),y}function J0(){for(;Mt!==null;)rp(Mt)}function W0(t,n){var s=Yt;Yt|=2;var l=ip(),c=sp();ee!==t||Pt!==n?(ou=null,lu=tn()+500,aa(t,n)):na=ji(t,n);t:do try{if(Xt!==0&&Mt!==null){n=Mt;var f=hn;e:switch(Xt){case 1:Xt=0,hn=null,la(t,n,f,1);break;case 2:case 9:if(ym(f)){Xt=0,hn=null,ap(n);break}n=function(){Xt!==2&&Xt!==9||ee!==t||(Xt=7),Wn(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:ym(f)?(Xt=0,hn=null,ap(n)):(Xt=0,hn=null,la(t,n,f,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var T=Mt;if(!y||kp(y)){Xt=0,hn=null;var D=T.sibling;if(D!==null)Mt=D;else{var B=T.return;B!==null?(Mt=B,cu(B)):Mt=null}break e}}Xt=0,hn=null,la(t,n,f,5);break;case 6:Xt=0,hn=null,la(t,n,f,6);break;case 8:Qh(),ce=6;break t;default:throw Error(r(462))}}tE();break}catch(Y){np(t,Y)}while(!0);return vi=ir=null,z.H=l,z.A=c,Yt=s,Mt!==null?0:(ee=null,Pt=0,Vo(),ce)}function tE(){for(;Mt!==null&&!Tc();)rp(Mt)}function rp(t){var n=Ig(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?cu(t):Mt=n}function ap(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=wg(s,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=wg(s,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:oh(n);default:Og(s,n),n=Mt=lm(n,Ci),n=Ig(s,n,Ci)}t.memoizedProps=t.pendingProps,n===null?cu(t):Mt=n}function la(t,n,s,l){vi=ir=null,oh(n),Jr=null,yl=0;var c=n.return;try{if(H0(t,c,n,s,Pt)){ce=1,eu(t,vn(s,t.current)),Mt=null;return}}catch(f){if(c!==null)throw Mt=c,f;ce=1,eu(t,vn(s,t.current)),Mt=null;return}n.flags&32768?(qt||l===1?t=!0:na||(Pt&536870912)!==0?t=!1:(rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lp(n,t)):cu(n)}function cu(t){var n=t;do{if((n.flags&32768)!==0){lp(n,rs);return}t=n.return;var s=Q0(n.alternate,n,Ci);if(s!==null){Mt=s;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=t}while(n!==null);ce===0&&(ce=5)}function lp(t,n){do{var s=F0(t.alternate,t);if(s!==null){s.flags&=32767,Mt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Mt=t;return}Mt=t=s}while(t!==null);ce=6,Mt=null}function op(t,n,s,l,c,f,y,T,D){t.cancelPendingCommit=null;do hu();while(Le!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Lc,mo(t,s,f,y,T,D),t===ee&&(Mt=ee=null,Pt=0),sa=n,os=t,ra=s,qh=f,Hh=c,Jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sE(oi,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=W.p,W.p=2,y=Yt,Yt|=4;try{Y0(t,n,s)}finally{Yt=y,W.p=c,z.T=l}}Le=1,up(),cp(),hp()}}function up(){if(Le===1){Le=0;var t=os,n=sa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=W.p;W.p=2;var c=Yt;Yt|=4;try{Qg(n,t);var f=af,y=$d(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Zd(T.ownerDocument.documentElement,T)){if(D!==null&&Ic(T)){var B=D.start,Y=D.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,k=$&&$.defaultView||window;if(k.getSelection){var q=k.getSelection(),bt=T.textContent.length,Et=Math.min(D.start,bt),Jt=D.end===void 0?Et:Math.min(D.end,bt);!q.extend&&Et>Jt&&(y=Jt,Jt=Et,Et=y);var U=Kd(T,Et),O=Kd(T,Jt);if(U&&O&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=$.createRange();L.setStart(U.node,U.offset),q.removeAllRanges(),Et>Jt?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Su=!!rf,af=rf=null}finally{Yt=c,W.p=l,z.T=s}}t.current=n,Le=2}}function cp(){if(Le===2){Le=0;var t=os,n=sa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=W.p;W.p=2;var c=Yt;Yt|=4;try{kg(t,n.alternate,n)}finally{Yt=c,W.p=l,z.T=s}}Le=3}}function hp(){if(Le===4||Le===3){Le=0,Oa();var t=os,n=sa,s=ra,l=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,sa=os=null,fp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ls=null),Pa(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Mi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=W.p,W.p=2,z.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{z.T=n,W.p=c}}(ra&3)!==0&&hu(),Wn(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Gh?wl++:(wl=0,Gh=t):wl=0,Cl(0)}}function fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function hu(t){return up(),cp(),hp(),dp()}function dp(){if(Le!==5)return!1;var t=os,n=qh;qh=0;var s=Pa(ra),l=z.T,c=W.p;try{W.p=32>s?32:s,z.T=null,s=Hh,Hh=null;var f=os,y=ra;if(Le=0,sa=os=null,ra=0,(Yt&6)!==0)throw Error(r(331));var T=Yt;if(Yt|=4,Zg(f.current),Yg(f,f.current,y,s),Yt=T,Cl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Mi,f)}catch{}return!0}finally{W.p=c,z.T=l,fp(t,n)}}function mp(t,n,s){n=vn(s,n),n=Ah(t.stateNode,n,2),t=Ji(t,n,2),t!==null&&(he(t,2),Wn(t))}function Wt(t,n,s){if(t.tag===3)mp(t,t,s);else for(;n!==null;){if(n.tag===3){mp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ls===null||!ls.has(l))){t=vn(s,t),s=_g(2),l=Ji(n,s,2),l!==null&&(vg(s,l,n,t),he(l,2),Wn(l));break}}n=n.return}}function Xh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Z0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Ph=!0,c.add(s),t=eE.bind(null,t,n,s),n.then(t,t))}function eE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ee===t&&(Pt&s)===s&&(ce===4||ce===3&&(Pt&62914560)===Pt&&300>tn()-kh?(Yt&2)===0&&aa(t,0):zh|=s,ia===Pt&&(ia=0)),Wn(t)}function gp(t,n){n===0&&(n=Ui()),t=qr(t,n),t!==null&&(he(t,n),Wn(t))}function nE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),gp(t,s)}function iE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),gp(t,s)}function sE(t,n){return xs(t,n)}var fu=null,oa=null,Kh=!1,du=!1,Zh=!1,cr=0;function Wn(t){t!==oa&&t.next===null&&(oa===null?fu=oa=t:oa=oa.next=t),du=!0,Kh||(Kh=!0,aE())}function Cl(t,n){if(!Zh&&du){Zh=!0;do for(var s=!1,l=fu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,vp(l,f))}else f=Pt,f=gn(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ji(l,f)||(s=!0,vp(l,f));l=l.next}while(s);Zh=!1}}function rE(){pp()}function pp(){du=Kh=!1;var t=0;cr!==0&&(mE()&&(t=cr),cr=0);for(var n=tn(),s=null,l=fu;l!==null;){var c=l.next,f=yp(l,n);f===0?(l.next=null,s===null?fu=c:s.next=c,c===null&&(oa=s)):(s=l,(t!==0||(f&3)!==0)&&(du=!0)),l=c}Cl(t)}function yp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ke(f),T=1<<y,D=c[y];D===-1?((T&s)===0||(T&l)!==0)&&(c[y]=Rr(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=ee,s=Pt,s=gn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ji(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&br(l),Pa(s)){case 2:case 8:s=De;break;case 32:s=oi;break;case 268435456:s=ja;break;default:s=oi}return l=_p.bind(null,t),s=xs(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function _p(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(hu()&&t.callbackNode!==s)return null;var l=Pt;return l=gn(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),yp(t,tn()),t.callbackNode!=null&&t.callbackNode===s?_p.bind(null,t):null)}function vp(t,n){if(hu())return null;tp(t,n,!0)}function aE(){pE(function(){(Yt&6)!==0?xs(Ae,rE):pp()})}function $h(){return cr===0&&(cr=Ua()),cr}function Ep(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:In(""+t)}function Tp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function lE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Ep((c[je]||null).action),y=l.submitter;y&&(n=(n=y[je]||null)?Ep(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Hs("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cr!==0){var D=y?Tp(c,y):new FormData(c);yh(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=y?Tp(c,y):new FormData(c),yh(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var Jh=0;Jh<Uc.length;Jh++){var Wh=Uc[Jh],oE=Wh.toLowerCase(),uE=Wh[0].toUpperCase()+Wh.slice(1);Un(oE,"on"+uE)}Un(tm,"onAnimationEnd"),Un(em,"onAnimationIteration"),Un(nm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(w0,"onTransitionRun"),Un(C0,"onTransitionStart"),Un(x0,"onTransitionCancel"),Un(im,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Ap(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=B;try{f(c)}catch(Y){tu(Y)}c.currentTarget=null,f=D}else for(y=0;y<l.length;y++){if(T=l[y],D=T.instance,B=T.currentTarget,T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=B;try{f(c)}catch(Y){tu(Y)}c.currentTarget=null,f=D}}}}function Ot(t,n){var s=n[Ns];s===void 0&&(s=n[Ns]=new Set);var l=t+"__bubble";s.has(l)||(Sp(n,t,2,!1),s.add(l))}function tf(t,n,s){var l=0;n&&(l|=4),Sp(s,t,l,n)}var mu="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[mu]){t[mu]=!0,go.forEach(function(s){s!=="selectionchange"&&(cE.has(s)||tf(s,!1,t),tf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mu]||(n[mu]=!0,tf("selectionchange",!1,n))}}function Sp(t,n,s,l){switch(Yp(n)){case 2:var c=LE;break;case 8:c=PE;break;default:c=pf}s=c.bind(null,n,s,t),c=void 0,!mi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function nf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===c)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;T!==null;){if(y=qn(T),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=f=y;continue t}T=T.parentNode}}l=l.return}Bs(function(){var B=f,Y=Qa(s),$=[];t:{var k=sm.get(t);if(k!==void 0){var q=Hs,bt=t;switch(t){case"keypress":if(ks(s)===0)break t;case"keydown":case"keyup":q=Pr;break;case"focusin":bt="focus",q=jr;break;case"focusout":bt="blur",q=jr;break;case"beforeblur":case"afterblur":q=jr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Xi;break;case tm:case em:case nm:q=Ya;break;case im:q=m;break;case"scroll":case"scrollend":q=Qs;break;case"wheel":q=S;break;case"copy":case"cut":case"paste":q=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Za;break;case"toggle":case"beforetoggle":q=Q}var Et=(n&4)!==0,Jt=!Et&&(t==="scroll"||t==="scrollend"),U=Et?k!==null?k+"Capture":null:k;Et=[];for(var O=B,L;O!==null;){var X=O;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||U===null||(X=Fi(O,U),X!=null&&Et.push(Dl(O,X,L))),Jt)break;O=O.return}0<Et.length&&(k=new q(k,bt,null,s,Y),$.push({event:k,listeners:Et}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",k&&s!==Ga&&(bt=s.relatedTarget||s.fromElement)&&(qn(bt)||bt[ci]))break t;if((q||k)&&(k=Y.window===Y?Y:(k=Y.ownerDocument)?k.defaultView||k.parentWindow:window,q?(bt=s.relatedTarget||s.toElement,q=B,bt=bt?qn(bt):null,bt!==null&&(Jt=h(bt),Et=bt.tag,bt!==Jt||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(q=null,bt=B),q!==bt)){if(Et=Xs,X="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Et=Za,X="onPointerLeave",U="onPointerEnter",O="pointer"),Jt=q==null?k:Bi(q),L=bt==null?k:Bi(bt),k=new Et(X,O+"leave",q,s,Y),k.target=Jt,k.relatedTarget=L,X=null,qn(Y)===B&&(Et=new Et(U,O+"enter",bt,s,Y),Et.target=L,Et.relatedTarget=Jt,X=Et),Jt=X,q&&bt)e:{for(Et=q,U=bt,O=0,L=Et;L;L=ua(L))O++;for(L=0,X=U;X;X=ua(X))L++;for(;0<O-L;)Et=ua(Et),O--;for(;0<L-O;)U=ua(U),L--;for(;O--;){if(Et===U||U!==null&&Et===U.alternate)break e;Et=ua(Et),U=ua(U)}Et=null}else Et=null;q!==null&&bp($,k,q,Et,!1),bt!==null&&Jt!==null&&bp($,Jt,bt,Et,!0)}}t:{if(k=B?Bi(B):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var mt=Hd;else if(kd(k))if(Gd)mt=S0;else{mt=T0;var It=E0}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Ir(B.elementType)&&(mt=Hd):mt=A0;if(mt&&(mt=mt(t,B))){qd($,mt,s,Y);break t}It&&It(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&ka(k,"number",k.value)}switch(It=B?Bi(B):window,t){case"focusin":(kd(It)||It.contentEditable==="true")&&(zr=It,Mc=B,el=null);break;case"focusout":el=Mc=zr=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Jd($,s,Y);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":Jd($,s,Y)}var yt;if(Ct)t:{switch(t){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else jn?Mn(t,s)&&(Tt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(me&&s.locale!=="ko"&&(jn||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&jn&&(yt=To()):(_n=Y,te="value"in _n?_n.value:_n.textContent,jn=!0)),It=gu(B,Tt),0<It.length&&(Tt=new Ka(Tt,t,null,s,Y),$.push({event:Tt,listeners:It}),yt?Tt.data=yt:(yt=On(s),yt!==null&&(Tt.data=yt)))),(yt=Ft?$a(t,s):y0(t,s))&&(Tt=gu(B,"onBeforeInput"),0<Tt.length&&(It=new Ka("onBeforeInput","beforeinput",null,s,Y),$.push({event:It,listeners:Tt}),It.data=yt)),lE($,t,B,s,Y)}Ap($,n)})}function Dl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function gu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Fi(t,s),c!=null&&l.unshift(Dl(t,c,f)),c=Fi(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var T=s,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,c?(B=Fi(s,f),B!=null&&y.unshift(Dl(s,B,D))):c||(B=Fi(s,f),B!=null&&y.push(Dl(s,B,D)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var hE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function Rp(t){return(typeof t=="string"?t:""+t).replace(hE,`
`).replace(fE,"")}function wp(t,n){return n=Rp(n),Rp(t)===n}function pu(){}function $t(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":js(t,"class",l);break;case"tabIndex":js(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":js(t,s,l);break;case"style":Ha(t,l,f);break;case"data":if(n!=="object"){js(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=In(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=In(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=pu);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=In(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Os(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Os(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_o.get(s)||s,Os(t,s,l))}}function sf(t,n,s,l,c,f){switch(s){case"style":Ha(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Is.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Os(t,s,l)}}}function Pe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,f,y,s,null)}}c&&$t(t,n,"srcSet",s.srcSet,s,null),l&&$t(t,n,"src",s.src,s,null);return;case"input":Ot("invalid",t);var T=f=y=c=null,D=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":y=Y;break;case"checked":D=Y;break;case"defaultChecked":B=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:$t(t,n,l,Y,s,null)}}Ba(t,f,T,D,B,y,c,!1),Hi(t);return;case"select":Ot("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:$t(t,n,c,T,s,null)}n=f,s=y,t.multiple=!!l,n!=null?Gi(t,!!l,n,!1):s!=null&&Gi(t,!!l,s,!0);return;case"textarea":Ot("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(T=s[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:$t(t,n,y,T,s,null)}yo(t,l,c,f),Hi(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,D,l,s,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ot(xl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,B,l,s,null)}return;default:if(Ir(n)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&sf(t,n,Y,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&$t(t,n,T,l,s,null))}function dE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,T=null,D=null,B=null,Y=null;for(q in s){var $=s[q];if(s.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(q)||$t(t,n,q,null,l,$)}}for(var k in l){var q=l[k];if($=s[k],l.hasOwnProperty(k)&&(q!=null||$!=null))switch(k){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":Y=q;break;case"value":y=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==$&&$t(t,n,k,q,l,$)}}za(t,y,T,D,B,Y,f,c);return;case"select":q=y=T=k=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=s[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":k=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==D&&$t(t,n,c,f,l,D)}n=T,s=y,l=q,k!=null?Gi(t,!!s,k,!1):!!l!=!!s&&(n!=null?Gi(t,!!s,n,!0):Gi(t,!!s,s?[]:"",!1));return;case"textarea":q=k=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&$t(t,n,y,c,l,f)}po(t,k,q);return;case"option":for(var bt in s)if(k=s[bt],s.hasOwnProperty(bt)&&k!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":t.selected=!1;break;default:$t(t,n,bt,null,l,k)}for(D in l)if(k=l[D],q=s[D],l.hasOwnProperty(D)&&k!==q&&(k!=null||q!=null))switch(D){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:$t(t,n,D,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)k=s[Et],s.hasOwnProperty(Et)&&k!=null&&!l.hasOwnProperty(Et)&&$t(t,n,Et,null,l,k);for(B in l)if(k=l[B],q=s[B],l.hasOwnProperty(B)&&k!==q&&(k!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:$t(t,n,B,k,l,q)}return;default:if(Ir(n)){for(var Jt in s)k=s[Jt],s.hasOwnProperty(Jt)&&k!==void 0&&!l.hasOwnProperty(Jt)&&sf(t,n,Jt,void 0,l,k);for(Y in l)k=l[Y],q=s[Y],!l.hasOwnProperty(Y)||k===q||k===void 0&&q===void 0||sf(t,n,Y,k,l,q);return}}for(var U in s)k=s[U],s.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&$t(t,n,U,null,l,k);for($ in l)k=l[$],q=s[$],!l.hasOwnProperty($)||k===q||k==null&&q==null||$t(t,n,$,k,l,q)}var rf=null,af=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function Cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function mE(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var Dp=typeof setTimeout=="function"?setTimeout:void 0,gE=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(t){return Np.resolve(null).then(t).catch(yE)}:Dp;function yE(t){setTimeout(function(){throw t})}function cs(t){return t==="head"}function Vp(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var y=t.ownerDocument;if(s&1&&Nl(y.documentElement),s&2&&Nl(y.body),s&4)for(s=y.head,Nl(s),y=s.firstChild;y;){var T=y.nextSibling,D=y.nodeName;y[zi]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=T}}if(c===0){t.removeChild(f),Pl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Pl(n)}function uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":uf(s),Cr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function _E(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function vE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pn(t.nextSibling),t===null))return null;return t}function cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function EE(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var hf=null;function Ip(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Mp(t,n,s){switch(n=yu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Cr(t)}var Rn=new Map,Op=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=W.d;W.d={f:TE,r:AE,D:SE,C:bE,L:RE,m:wE,X:xE,S:CE,M:DE};function TE(){var t=xi.f(),n=uu();return t||n}function AE(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):xi.r(t)}var ca=typeof document>"u"?null:document;function jp(t,n,s){var l=ca;if(l&&typeof n=="string"&&n){var c=Ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Op.has(c)||(Op.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),de(n),l.head.appendChild(n)))}}function SE(t){xi.D(t),jp("dns-prefetch",t,null)}function bE(t,n){xi.C(t,n),jp("preconnect",t,n)}function RE(t,n,s){xi.L(t,n,s);var l=ca;if(l&&t&&n){var c='link[rel="preload"][as="'+Ne(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ne(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ne(s.imageSizes)+'"]')):c+='[href="'+Ne(t)+'"]';var f=c;switch(n){case"style":f=ha(t);break;case"script":f=fa(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Pe(n,"link",t),de(n),l.head.appendChild(n)))}}function wE(t,n){xi.m(t,n);var s=ca;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ne(l)+'"][href="'+Ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fa(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Il(f)))return}l=s.createElement("link"),Pe(l,"link",t),de(l),s.head.appendChild(l)}}}function CE(t,n,s){xi.S(t,n,s);var l=ca;if(l&&t){var c=ki(l).hoistableStyles,f=ha(t);n=n||"default";var y=c.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Vl(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Rn.get(f))&&ff(t,s);var D=y=l.createElement("link");de(D),Pe(D,"link",t),D._p=new Promise(function(B,Y){D.onload=B,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,vu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},c.set(f,y)}}}function xE(t,n){xi.X(t,n);var s=ca;if(s&&t){var l=ki(s).hoistableScripts,c=fa(t),f=l.get(c);f||(f=s.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&df(t,n),f=s.createElement("script"),de(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function DE(t,n){xi.M(t,n);var s=ca;if(s&&t){var l=ki(s).hoistableScripts,c=fa(t),f=l.get(c);f||(f=s.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&df(t,n),f=s.createElement("script"),de(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Up(t,n,s,l){var c=(c=dt.current)?_u(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ha(s.href),s=ki(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ha(s.href);var f=ki(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Rn.set(t,s),f||NE(c,t,s,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fa(s),s=ki(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ha(t){return'href="'+Ne(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Lp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function NE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",s),de(n),t.head.appendChild(n))}function fa(t){return'[src="'+Ne(t)+'"]'}function Il(t){return"script[async]"+t}function Pp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ne(s.href)+'"]');if(l)return n.instance=l,de(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),de(l),Pe(l,"style",c),vu(l,s.precedence,t),n.instance=l;case"stylesheet":c=ha(s.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,de(f),f;l=Lp(s),(c=Rn.get(c))&&ff(l,c),f=(t.ownerDocument||t).createElement("link"),de(f);var y=f;return y._p=new Promise(function(T,D){y.onload=T,y.onerror=D}),Pe(f,"link",l),n.state.loading|=4,vu(f,s.precedence,t),n.instance=f;case"script":return f=fa(s.src),(c=t.querySelector(Il(f)))?(n.instance=c,de(c),c):(l=s,(c=Rn.get(f))&&(l=A({},s),df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),de(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vu(l,s.precedence,t));return n.instance}function vu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eu=null;function zp(t,n,s){if(Eu===null){var l=new Map,c=Eu=new Map;c.set(s,l)}else c=Eu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[zi]||f[fe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function Bp(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function VE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function IE(){}function ME(t,n,s){if(Ml===null)throw Error(r(475));var l=Ml;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ha(s.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Tu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,de(f);return}f=t.ownerDocument||t,s=Lp(s),(c=Rn.get(c))&&ff(s,c),f=f.createElement("link"),de(f);var y=f;y._p=new Promise(function(T,D){y.onload=T,y.onerror=D}),Pe(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Tu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function OE(){if(Ml===null)throw Error(r(475));var t=Ml;return t.stylesheets&&t.count===0&&mf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&mf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function mf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,n.forEach(jE,t),Au=null,Tu.call(t))}function jE(t,n){if(!(n.state.loading&4)){var s=Au.get(t);if(s)var l=s.get(null);else{s=new Map,Au.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=Tu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:it,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function UE(t,n,s,l,c,f,y,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function qp(t,n,s,l,c,f,y,T,D,B,Y,$){return t=new UE(t,n,s,y,T,D,B,$),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Jc(f),t}function Hp(t){return t?(t=Hr,t):Hr}function Gp(t,n,s,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=$i(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ji(t,l,n),s!==null&&(dn(s,t,n),cl(s,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function gf(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Fp(t){if(t.tag===13){var n=qr(t,67108864);n!==null&&dn(n,t,67108864),gf(t,67108864)}}var Su=!0;function LE(t,n,s,l){var c=z.T;z.T=null;var f=W.p;try{W.p=2,pf(t,n,s,l)}finally{W.p=f,z.T=c}}function PE(t,n,s,l){var c=z.T;z.T=null;var f=W.p;try{W.p=8,pf(t,n,s,l)}finally{W.p=f,z.T=c}}function pf(t,n,s,l){if(Su){var c=yf(l);if(c===null)nf(t,n,l,bu,s),Xp(t,l);else if(BE(c,t,n,s,l))l.stopPropagation();else if(Xp(t,l),n&4&&-1<zE.indexOf(t)){for(;c!==null;){var f=Hn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var D=1<<31-Ke(y);T.entanglements[1]|=D,y&=~D}Wn(f),(Yt&6)===0&&(lu=tn()+500,Cl(0))}}break;case 13:T=qr(f,2),T!==null&&dn(T,f,2),uu(),gf(f,2)}if(f=yf(l),f===null&&nf(t,n,l,bu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,s)}}function yf(t){return t=Qa(t),_f(t)}var bu=null;function _f(t){if(bu=null,t=qn(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bu=t,null}function Yp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(co()){case Ae:return 2;case De:return 8;case oi:case Ac:return 32;case ja:return 268435456;default:return 32}default:return 32}}var vf=!1,hs=null,fs=null,ds=null,jl=new Map,Ul=new Map,ms=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(t,n){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Ll(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Hn(n),n!==null&&Fp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function BE(t,n,s,l,c){switch(n){case"focusin":return hs=Ll(hs,t,n,s,l,c),!0;case"dragenter":return fs=Ll(fs,t,n,s,l,c),!0;case"mouseover":return ds=Ll(ds,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,Ll(jl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,Ll(Ul.get(f)||null,t,n,s,l,c)),!0}return!1}function Kp(t){var n=qn(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Rc(t.priority,function(){if(s.tag===13){var l=fn();l=La(l);var c=qr(s,l);c!==null&&dn(c,s,l),gf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=yf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ga=l,s.target.dispatchEvent(l),Ga=null}else return n=Hn(s),n!==null&&Fp(n),t.blockedOn=s,!1;n.shift()}return!0}function Zp(t,n,s){Ru(t)&&s.delete(n)}function kE(){vf=!1,hs!==null&&Ru(hs)&&(hs=null),fs!==null&&Ru(fs)&&(fs=null),ds!==null&&Ru(ds)&&(ds=null),jl.forEach(Zp),Ul.forEach(Zp)}function wu(t,n){t.blockedOn===n&&(t.blockedOn=null,vf||(vf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kE)))}var Cu=null;function $p(t){Cu!==t&&(Cu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(_f(l||s)===null)continue;break}var f=Hn(s);f!==null&&(t.splice(n,3),n-=3,yh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Pl(t){function n(D){return wu(D,t)}hs!==null&&wu(hs,t),fs!==null&&wu(fs,t),ds!==null&&wu(ds,t),jl.forEach(n),Ul.forEach(n);for(var s=0;s<ms.length;s++){var l=ms[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ms.length&&(s=ms[0],s.blockedOn===null);)Kp(s),s.blockedOn===null&&ms.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[je]||null;if(typeof f=="function")y||$p(s);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[je]||null)T=y.formAction;else if(_f(c)!==null)continue}else T=y.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),$p(s)}}}function Ef(t){this._internalRoot=t}xu.prototype.render=Ef.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=fn();Gp(s,l,t,n,null,null)},xu.prototype.unmount=Ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gp(t.current,2,null,t,null,null),uu(),n[ci]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ui();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ms.length&&n!==0&&n<ms[s].priority;s++);ms.splice(s,0,t),s===0&&Kp(t)}};var Jp=e.version;if(Jp!=="19.1.1")throw Error(r(527,Jp,"19.1.1"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var qE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Mi=Du.inject(qE),qe=Du}catch{}}return Bl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=mg,f=gg,y=pg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=qp(t,1,!1,null,null,s,l,c,f,y,T,null),t[ci]=n.current,ef(t),new Ef(n)},Bl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=mg,y=gg,T=pg,D=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),n=qp(t,1,!0,n,s??null,l,c,f,y,T,D,B),n.context=Hp(null),s=n.current,l=fn(),l=La(l),c=$i(l),c.callback=null,Ji(s,c,l),s=l,n.current.lanes=s,he(n,s),Wn(n),t[ci]=n.current,ef(t),new xu(n)},Bl.version="19.1.1",Bl}var oy;function JE(){if(oy)return Sf.exports;oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=$E(),Sf.exports}var WE=JE();const tT="modulepreload",eT=function(a,e){return new URL(a,e).href},uy={},nT=function(e,i,r){let o=Promise.resolve();if(i&&i.length>0){let _=function(A){return Promise.all(A.map(x=>Promise.resolve(x).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};const d=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),v=p?.nonce||p?.getAttribute("nonce");o=_(i.map(A=>{if(A=eT(A,r),A in uy)return;uy[A]=!0;const x=A.endsWith(".css"),j=x?'[rel="stylesheet"]':"";if(r)for(let Z=d.length-1;Z>=0;Z--){const st=d[Z];if(st.href===A&&(!x||st.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${j}`))return;const G=document.createElement("link");if(G.rel=x?"stylesheet":tT,x||(G.as="script"),G.crossOrigin="",G.href=A,v&&G.setAttribute("nonce",v),document.head.appendChild(G),x)return new Promise((Z,st)=>{G.addEventListener("load",Z),G.addEventListener("error",()=>st(new Error(`Unable to preload CSS for ${A}`)))})}))}function h(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&h(p.reason);return e().catch(h)})},cy=["네이버광고","블로그","워킹","지인소개","기존고객","불명"],hy=["매매","월세","전세","상가","사무실","지식산업센터","아파트"],Uf=["신규","진행중"],A_=["매물제안예정","매물제안중","미팅일확정","오늘미팅","접수후대기중"],fy=["전화상담","문자/카톡","매물제안","워킹상담","현장안내","미팅진행","기타"],Nu=["확인전","확인중","볼수있음","오늘못봄","계약됨"],iT=({activeFilter:a,onFilterChange:e,customers:i,meetings:r,activities:o,isMobileOpen:h,onMobileClose:d})=>{const[p,v]=jt.useState(!1),_=Z=>{const st=o.filter(K=>K.customerId===Z);if(st.length===0)return null;const H=st.sort((K,lt)=>new Date(lt.date)-new Date(K.date));return new Date(H[0].date)},A=(Z,st)=>{const H=Math.abs(Z-st);return Math.floor(H/(1e3*60*60*24))},x=Z=>{const st=new Date;return st.setHours(0,0,0,0),Z==="전체"?i.length:Z==="오늘미팅"?i.filter(H=>r.filter(lt=>lt.customerId===H.id).some(lt=>{const it=new Date(lt.date);return it.setHours(0,0,0,0),it.getTime()===st.getTime()})).length:Z==="미팅일확정"?i.filter(H=>r.filter(lt=>lt.customerId===H.id).some(lt=>{const it=new Date(lt.date);return it.setHours(0,0,0,0),it>st})).length:Z==="오늘접촉"?i.filter(H=>{const K=_(H.id);if(!K)return!1;const lt=new Date(K);return lt.setHours(0,0,0,0),lt.getTime()===st.getTime()}).length:Z==="연락할고객"?i.filter(H=>{const K=_(H.id);return K?A(st,K)>=2:!1}).length:Z==="일주일무접촉"?i.filter(H=>{const K=_(H.id);return K?A(st,K)>=7:!1}).length:Z==="신규무접촉"?i.filter(H=>H.status==="신규"&&o.filter(K=>K.customerId===H.id).length===0).length:Z==="진행중무접촉"?i.filter(H=>{if(H.status!=="진행중")return!1;const K=_(H.id);return K?A(st,K)>=3:!0}).length:i.filter(H=>H.status===Z).length},j=["전체",...Uf,"오늘미팅","미팅일확정","오늘접촉","연락할고객","일주일무접촉","신규무접촉","진행중무접촉"],G=Z=>{e(Z),d()};return E.jsxs("aside",{className:`filter-sidebar ${p?"collapsed":""} ${h?"mobile-open":""}`,children:[E.jsxs("div",{className:"filter-header",children:[!p&&E.jsx("h4",{children:"필터"}),E.jsx("button",{onClick:()=>v(!p),className:"btn-close desktop-only",children:p?"☰":"✕"}),E.jsx("button",{onClick:d,className:"btn-close mobile-only",children:"✕"})]}),!p&&E.jsx("ul",{className:"filter-list",children:j.map(Z=>E.jsxs("li",{className:`filter-item ${a===Z?"active":""}`,onClick:()=>G(Z),children:[E.jsx("span",{children:Z}),E.jsx("span",{className:"count-badge",children:x(Z)})]},Z))})]})},sT=({customers:a,onSelectCustomer:e,onEdit:i,onDelete:r,selectedCustomerId:o,activeFilter:h,activeProgressFilter:d,onProgressFilterChange:p,allCustomers:v})=>{const[_,A]=jt.useState(""),[x,j]=jt.useState({visible:!1,x:0,y:0,selectedCustomer:null}),[G,Z]=jt.useState({key:"moveInDate",direction:"asc"}),st=jt.useMemo(()=>[...a.filter(I=>I.name.toLowerCase().includes(_.toLowerCase())||I.phone.includes(_))].sort((I,N)=>{const M=I[G.key],w=N[G.key];if(M==null&&w==null)return 0;if(M==null)return 1;if(w==null)return-1;if(G.key==="hopefulDeposit"||G.key==="hopefulMonthlyRent"){const z=Number(M)||0,W=Number(w)||0;return G.direction==="asc"?z-W:W-z}const ot=String(M).toLowerCase(),gt=String(w).toLowerCase();return ot<gt?G.direction==="asc"?-1:1:ot>gt?G.direction==="asc"?1:-1:0}),[a,_,G]),H=(b,C)=>{b.preventDefault(),j({visible:!0,x:b.pageX,y:b.pageY,selectedCustomer:C})},K=()=>{j({...x,visible:!1})},lt=()=>{x.selectedCustomer&&i(x.selectedCustomer),K()},it=()=>{x.selectedCustomer&&r(x.selectedCustomer),K()},St=b=>v.filter(C=>(h==="전체"||C.status===h)&&C.progress===b).length,ut=h==="신규"||h==="진행중",_t=b=>{Z(C=>({key:b,direction:C.key===b&&C.direction==="asc"?"desc":"asc"}))},V=b=>G.key!==b?" ↕":G.direction==="asc"?" ↑":" ↓";return E.jsxs("div",{className:"table-container",onClick:K,children:[E.jsx("div",{style:{marginBottom:"15px"},children:E.jsx("input",{type:"text",placeholder:"고객명, 연락처 검색...",value:_,onChange:b=>A(b.target.value),style:{width:"100%",padding:"8px"}})}),ut&&E.jsxs("div",{className:"progress-tabs",style:{marginBottom:"15px"},children:[E.jsxs("button",{className:`progress-tab ${d?"":"active"}`,onClick:()=>p(null),children:["전체 (",v.filter(b=>h==="전체"||b.status===h).length,")"]}),A_.map(b=>E.jsxs("button",{className:`progress-tab ${d===b?"active":""} progress-${b}`,onClick:()=>p(b),children:[b," (",St(b),")"]},b))]}),E.jsxs("table",{className:"customer-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"#"}),E.jsx("th",{children:"매물종류"}),E.jsxs("th",{onClick:()=>_t("name"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["고객명",V("name")]}),E.jsx("th",{children:"연락처"}),E.jsxs("th",{onClick:()=>_t("hopefulDeposit"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["희망보증금",V("hopefulDeposit")]}),E.jsxs("th",{onClick:()=>_t("hopefulMonthlyRent"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["희망월세",V("hopefulMonthlyRent")]}),E.jsx("th",{children:"선호지역"}),E.jsxs("th",{onClick:()=>_t("moveInDate"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["입주희망일",V("moveInDate")]}),E.jsx("th",{children:"상태"})]})}),E.jsx("tbody",{children:st.map((b,C)=>E.jsxs("tr",{className:o===b.id?"selected":"",onClick:()=>e(b),onContextMenu:I=>H(I,b),children:[E.jsx("td",{children:C+1}),E.jsx("td",{children:b.propertyType}),E.jsx("td",{className:"customer-name",title:b.name,children:b.name}),E.jsx("td",{children:E.jsx("a",{href:`sms:${b.phone}`,children:b.phone})}),E.jsx("td",{children:b.hopefulDeposit?`${b.hopefulDeposit}만원`:"-"}),E.jsx("td",{children:b.hopefulMonthlyRent?`${b.hopefulMonthlyRent}만원`:"-"}),E.jsx("td",{className:"preferred-area",title:b.preferredArea,children:b.preferredArea}),E.jsx("td",{children:b.moveInDate}),E.jsx("td",{children:b.status})]},b.id))})]}),x.visible&&E.jsx("div",{style:{top:x.y,left:x.x,position:"absolute",zIndex:100,background:"white",border:"1px solid #ccc",borderRadius:"5px",padding:"5px"},children:E.jsxs("ul",{style:{listStyle:"none",margin:0,padding:"5px"},children:[E.jsx("li",{style:{padding:"8px",cursor:"pointer"},onClick:lt,children:"수정"}),E.jsx("li",{style:{padding:"8px",cursor:"pointer"},onClick:it,children:"삭제"})]})})]})},rT=a=>!a.name||a.name.trim()===""?(alert("고객명은 필수 입력 항목입니다."),!1):a.phone&&!aT(a.phone)?(alert("연락처는 010-xxxx-xxxx 형식으로 입력하세요."),!1):!0,aT=a=>a?/^010-\d{4}-\d{4}$/.test(a):!0,ya=()=>"_"+Math.random().toString(36).substr(2,9),Lf=a=>{if(!a)return"";try{return new Date(a).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date-time:",a,e),""}},lT=({isOpen:a,onClose:e,onSave:i,editData:r})=>{const o=()=>({id:r?.id||null,name:r?.name||"",phone:r?.phone||"",source:r?.source||cy[0],propertyType:r?.propertyType||hy[0],preferredArea:r?.preferredArea||"",hopefulDeposit:r?.hopefulDeposit||"",hopefulMonthlyRent:r?.hopefulMonthlyRent||"",moveInDate:r?.moveInDate||"",memo:r?.memo||"",status:r?.status||Uf[0],progress:r?.progress||null,createdAt:r?.createdAt||new Date().toISOString()}),[h,d]=jt.useState(o());if(jt.useEffect(()=>{d(o())},[r,a]),!a)return null;const p=A=>{const{name:x,value:j}=A.target,G={[x]:j};x==="status"&&(j==="계약완료"||j==="포기")&&(G.progress=null),d(Z=>({...Z,...G}))},v=A=>{let x=A.target.value.replace(/[^0-9]/g,"");x.length>3&&x.length<=7?x=`${x.slice(0,3)}-${x.slice(3)}`:x.length>7&&(x=`${x.slice(0,3)}-${x.slice(3,7)}-${x.slice(7,11)}`),d(j=>({...j,phone:x}))},_=()=>{const A={...h,id:h.id||ya(),hopefulDeposit:parseInt(h.hopefulDeposit,10)||0,hopefulMonthlyRent:parseInt(h.hopefulMonthlyRent,10)||0};rT(A)&&(i(A),e())};return E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-content",children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h3",{children:r?"고객 수정":"고객 추가"}),E.jsx("button",{onClick:e,className:"btn-close",children:"✕"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"고객명 *"}),E.jsx("input",{type:"text",name:"name",value:h.name,onChange:p,placeholder:"고객 이름 입력",required:!0})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"경로"}),E.jsx("select",{name:"source",value:h.source,onChange:p,children:cy.map(A=>E.jsx("option",{value:A,children:A},A))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"매물종류"}),E.jsx("select",{name:"propertyType",value:h.propertyType,onChange:p,children:hy.map(A=>E.jsx("option",{value:A,children:A},A))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"상태"}),E.jsx("select",{name:"status",value:h.status,onChange:p,children:Uf.map(A=>E.jsx("option",{value:A,children:A},A))})]}),(h.status==="신규"||h.status==="진행중")&&E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"진행상황"}),E.jsxs("select",{name:"progress",value:h.progress||"",onChange:p,children:[E.jsx("option",{value:"",children:"선택 안 함"}),A_.map(A=>E.jsx("option",{value:A,children:A},A))]})]})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"연락처"}),E.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:v,placeholder:"010-xxxx-xxxx"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"입주희망일"}),E.jsx("input",{type:"date",name:"moveInDate",value:h.moveInDate,onChange:p})]})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"희망보증금 (만원)"}),E.jsx("input",{type:"number",name:"hopefulDeposit",value:h.hopefulDeposit,onChange:p})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"희망월세 (만원)"}),E.jsx("input",{type:"number",name:"hopefulMonthlyRent",value:h.hopefulMonthlyRent,onChange:p})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"선호지역"}),E.jsx("textarea",{name:"preferredArea",value:h.preferredArea,onChange:p,rows:"2"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"메모"}),E.jsx("textarea",{name:"memo",value:h.memo,onChange:p})]}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:e,className:"btn-secondary",children:"취소"}),E.jsx("button",{onClick:_,className:"btn-primary",children:"저장"})]})]})})},oT=({customer:a})=>a?E.jsxs("div",{className:"basic-info-container",children:[E.jsxs("div",{className:"info-section",children:[E.jsx("h4",{children:"기본 정보"}),E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsx("span",{style:{fontWeight:"bold",color:"#555",display:"block",marginBottom:"4px",fontSize:"12px"},children:"고객명"}),E.jsx("p",{style:{margin:0},children:a.name})]}),E.jsxs("div",{className:"info-grid",children:[E.jsxs("div",{children:[E.jsx("span",{children:"경로"}),E.jsx("p",{children:a.source})]}),E.jsxs("div",{children:[E.jsx("span",{children:"매물종류"}),E.jsx("p",{children:a.propertyType})]}),E.jsxs("div",{children:[E.jsx("span",{children:"상태"}),E.jsx("p",{children:a.status})]}),E.jsxs("div",{children:[E.jsx("span",{children:"진행상황"}),E.jsx("p",{children:a.progress||"-"})]}),E.jsxs("div",{children:[E.jsx("span",{children:"연락처"}),E.jsx("p",{children:a.phone})]}),E.jsxs("div",{children:[E.jsx("span",{children:"입주희망일"}),E.jsx("p",{children:a.moveInDate})]}),E.jsxs("div",{children:[E.jsx("span",{children:"희망보증금"}),E.jsx("p",{children:a.hopefulDeposit?`${a.hopefulDeposit}만원`:"-"})]}),E.jsxs("div",{children:[E.jsx("span",{children:"희망월세"}),E.jsx("p",{children:a.hopefulMonthlyRent?`${a.hopefulMonthlyRent}만원`:"-"})]})]})]}),E.jsxs("div",{className:"info-section",children:[E.jsx("h4",{children:"선호 지역"}),E.jsx("p",{children:a.preferredArea||"-"})]}),E.jsxs("div",{className:"info-section",children:[E.jsx("h4",{children:"메모"}),E.jsx("p",{children:a.memo||"-"})]})]}):null,uT=({customerId:a,activities:e,onSaveActivity:i,onDeleteActivity:r})=>{const[o,h]=jt.useState(!1),[d,p]=jt.useState(null),[v,_]=jt.useState(null),A=e.filter(K=>K.customerId===a).sort((K,lt)=>new Date(lt.date)-new Date(K.date)),x=K=>{i(K),h(!1),p(null)},j=K=>K?K.slice(0,10):"",G=K=>{if(!K)return"";const lt=K.slice(11,16),[it,St]=lt.split(":"),ut=parseInt(it),_t=ut<12?"오전":"오후",V=ut===0?12:ut>12?ut-12:ut;return`${_t} ${V}:${St}`},Z=({activity:K,onClose:lt})=>{const[it,St]=jt.useState(K.followUps||[]),[ut,_t]=jt.useState(null),[V,b]=jt.useState(""),C=()=>{if(!V.trim())return;const ot={id:ya(),date:new Date().toISOString(),content:V,createdAt:new Date().toISOString()},gt=[...it,ot],z={...K,followUps:gt};x(z),St(gt),b("")},I=ot=>{ot.key==="Enter"&&ot.ctrlKey&&C()},N=ot=>{if(confirm("이 후속 기록을 삭제하시겠습니까?")){const gt=it.filter(W=>W.id!==ot),z={...K,followUps:gt};x(z),St(gt)}},M=(ot,gt)=>{const z=it.map(ft=>ft.id===ot?{...ft,content:gt}:ft),W={...K,followUps:z};x(W),St(z),_t(null)},w=[...it].sort((ot,gt)=>new Date(gt.date)-new Date(ot.date));return E.jsx("div",{className:"modal-overlay",onClick:lt,children:E.jsxs("div",{className:"modal-content",onClick:ot=>ot.stopPropagation(),style:{maxWidth:"700px"},children:[E.jsxs("div",{className:"modal-header",children:[E.jsxs("h3",{children:["활동 상세 - ",K.type]}),E.jsx("button",{className:"btn-close",onClick:lt,children:"×"})]}),E.jsxs("div",{style:{padding:"20px 0"},children:[E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsx("strong",{style:{color:"#7f8c8d",fontSize:"14px"},children:"활동유형"}),E.jsx("p",{style:{margin:"5px 0",fontSize:"16px"},children:K.type})]}),E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsx("strong",{style:{color:"#7f8c8d",fontSize:"14px"},children:"활동일시"}),E.jsx("p",{style:{margin:"5px 0",fontSize:"16px"},children:Lf(K.date)})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("strong",{style:{color:"#7f8c8d",fontSize:"14px"},children:"활동 내용"}),E.jsx("p",{style:{margin:"5px 0",fontSize:"16px",whiteSpace:"pre-line",lineHeight:"1.6"},children:K.content})]}),E.jsxs("div",{style:{borderTop:"2px solid #e0e0e0",paddingTop:"20px"},children:[E.jsx("div",{style:{marginBottom:"15px"},children:E.jsxs("strong",{style:{color:"#7f8c8d",fontSize:"14px"},children:["📝 후속 기록 (",it.length,")"]})}),E.jsxs("div",{style:{background:"#fff",border:"1px solid #e0e0e0",borderRadius:"5px",padding:"10px",marginBottom:"15px"},children:[E.jsx("textarea",{value:V,onChange:ot=>b(ot.target.value),onKeyDown:I,placeholder:"후속 기록을 입력하세요... (Ctrl+Enter로 입력)",style:{width:"100%",padding:"8px",minHeight:"60px",border:"none",outline:"none",resize:"vertical",fontFamily:"inherit"}}),E.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:E.jsx("button",{onClick:C,className:"btn-primary",style:{fontSize:"12px",padding:"6px 16px"},children:"입력"})})]}),w.length>0?w.map(ot=>E.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"5px",marginBottom:"10px",borderLeft:"3px solid var(--primary-blue)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[E.jsx("span",{style:{fontSize:"13px",color:"#7f8c8d"},children:Lf(ot.date)}),E.jsxs("div",{style:{display:"flex",gap:"5px"},children:[E.jsx("button",{onClick:()=>_t(ot.id),style:{fontSize:"11px",padding:"3px 8px"},children:"수정"}),E.jsx("button",{onClick:()=>N(ot.id),className:"btn-secondary",style:{fontSize:"11px",padding:"3px 8px"},children:"삭제"})]})]}),ut===ot.id?E.jsx("div",{children:E.jsx("textarea",{defaultValue:ot.content,onBlur:gt=>M(ot.id,gt.target.value),style:{width:"100%",padding:"8px",minHeight:"60px"},autoFocus:!0})}):E.jsx("p",{style:{margin:0,fontSize:"14px",whiteSpace:"pre-line",lineHeight:"1.5"},children:ot.content})]},ot.id)):E.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"후속 기록이 없습니다."})]})]}),E.jsx("div",{className:"modal-footer",children:E.jsx("button",{onClick:lt,className:"btn-primary",children:"닫기"})})]})})},st=({activity:K,onCancel:lt})=>{const[it,St]=jt.useState(K||{type:fy[0],date:new Date().toISOString().slice(0,16),content:""}),ut=V=>{const{name:b,value:C}=V.target;St(I=>({...I,[b]:C}))},_t=()=>{const V={...it,id:it.id||ya(),customerId:a};x(V)};return E.jsx("div",{className:"modal-overlay",onClick:lt,children:E.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h3",{children:"활동 추가 - 여의도근무 여성분(렌코양창룸방)"}),E.jsx("button",{className:"btn-close",onClick:lt,children:"×"})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"활동 유형 *"}),E.jsx("select",{name:"type",value:it.type,onChange:ut,children:fy.map(V=>E.jsx("option",{value:V,children:V},V))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"활동일시 *"}),E.jsx("input",{type:"datetime-local",name:"date",value:it.date,onChange:ut})]}),E.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[E.jsx("label",{children:"활동 내용 *"}),E.jsx("textarea",{name:"content",value:it.content,onChange:ut,placeholder:"활동 내용을 입력하세요"})]})]}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:lt,className:"btn-secondary",children:"취소"}),E.jsx("button",{onClick:_t,className:"btn-primary",children:"저장"})]})]})})},H=v?A.find(K=>K.id===v.id):null;return E.jsxs("div",{className:"activity-tab",children:[!o&&!d&&E.jsx("button",{onClick:()=>h(!0),children:"+ 활동 추가"}),o&&E.jsx(st,{onCancel:()=>h(!1)}),d?E.jsx(st,{activity:d,onCancel:()=>p(null)}):A.length>0?E.jsxs("table",{className:"customer-table",style:{marginTop:"15px"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"활동날짜"}),E.jsx("th",{children:"활동시간"}),E.jsx("th",{children:"활동유형"}),E.jsx("th",{children:"액션"})]})}),E.jsx("tbody",{children:A.map(K=>E.jsxs("tr",{children:[E.jsx("td",{children:j(K.date)}),E.jsx("td",{children:G(K.date)}),E.jsxs("td",{onClick:()=>_(K),style:{cursor:"pointer",color:"var(--primary-blue)",textDecoration:"underline"},children:[K.type,K.followUps&&K.followUps.length>0&&E.jsxs("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#7f8c8d"},children:["💬",K.followUps.length]})]}),E.jsxs("td",{children:[E.jsx("button",{onClick:()=>p(K),style:{fontSize:"12px",padding:"4px 8px",marginRight:"5px"},children:"수정"}),E.jsx("button",{onClick:()=>r(K.id),className:"btn-secondary",style:{fontSize:"12px",padding:"4px 8px"},children:"삭제"})]})]},K.id))})]}):E.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 활동이 없습니다."}),H&&E.jsx(Z,{activity:H,onClose:()=>_(null)})]})},cT=({customerId:a,meetings:e,onSaveMeeting:i,onDeleteMeeting:r})=>{const[o,h]=jt.useState(!1),[d,p]=jt.useState(null),[v,_]=jt.useState(null),A=e.filter(H=>H.customerId===a),x=({onCancel:H,meetingData:K})=>{const lt=()=>{if(K){const w=K.date||new Date().toISOString().slice(0,16);return{...K,date:w.slice(0,10),time:K.time||w.slice(11,16)}}return{date:new Date().toISOString().slice(0,10),time:new Date().toTimeString().slice(0,5),properties:[]}},[it,St]=jt.useState(lt()),[ut,_t]=jt.useState(!1),[V,b]=jt.useState(null),C=w=>{St({...it,[w.target.name]:w.target.value})},I=w=>{if(confirm("정말 이 매물을 삭제하시겠습니까?")){const ot=it.properties.filter((gt,z)=>z!==w);St({...it,properties:ot})}},N=()=>{const w={...it,id:it.id||ya(),customerId:a,date:`${it.date}T${it.time}:00`};i(w),h(!1),p(null),H()},M=({onClose:w,propertyToEdit:ot,editIndex:gt})=>{const[z,W]=jt.useState(ot||{roomName:"",visitTime:"",agency:"",agencyPhone:"",info:"",status:Nu[0]}),ft=R=>{const F=R.target.value,tt=F.split(`
`),et=tt.length>1?tt[1].trim():"";W({...z,info:F,roomName:et||z.roomName})},Nt=()=>{if(gt!=null){const R=[...it.properties];R[gt]={...z},St({...it,properties:R})}else St({...it,properties:[...it.properties,{...z,id:ya()}]});w()};return E.jsx("div",{className:"modal-overlay",onClick:w,children:E.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h3",{children:gt!=null?"매물 수정":"매물 추가"}),E.jsx("button",{className:"btn-close",onClick:w,children:"×"})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"호실명"}),E.jsx("input",{type:"text",placeholder:"예: 301호, 강남아파트",value:z.roomName,onChange:R=>W({...z,roomName:R.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"방문시간"}),E.jsx("input",{type:"time",value:z.visitTime,onChange:R=>W({...z,visitTime:R.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"준비상태"}),E.jsx("select",{value:z.status,onChange:R=>W({...z,status:R.target.value}),children:Nu.map(R=>E.jsx("option",{value:R,children:R},R))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"부동산"}),E.jsx("input",{type:"text",value:z.agency,onChange:R=>W({...z,agency:R.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"연락처"}),E.jsx("input",{type:"text",placeholder:"010-0000-0000",value:z.agencyPhone,onChange:R=>W({...z,agencyPhone:R.target.value})})]}),E.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[E.jsx("label",{children:"매물정보"}),E.jsx("textarea",{placeholder:"매물의 상세 정보를 입력하세요 (예: 아파트 84㎡, 3층 2호실)",value:z.info,onChange:ft})]})]}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:w,className:"btn-secondary",children:"취소"}),E.jsx("button",{onClick:Nt,className:"btn-primary",children:gt!=null?"수정":"추가"})]})]})})};return E.jsx("div",{className:"modal-overlay",onClick:H,children:E.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h3",{children:"미팅 추가 - 여의도근무 여성분(렌코양창룸방)"}),E.jsx("button",{className:"btn-close",onClick:H,children:"×"})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"미팅 날짜"}),E.jsx("input",{type:"date",name:"date",value:it.date,onChange:C})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"미팅 시간"}),E.jsx("input",{type:"time",name:"time",value:it.time,onChange:C})]})]}),E.jsx("h4",{style:{marginTop:"20px",marginBottom:"10px"},children:"매물 준비"}),it.properties.length===0?E.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"준비된 매물이 없습니다."}):it.properties.map((w,ot)=>E.jsxs("div",{className:"property-card",style:{marginBottom:"10px"},children:[E.jsxs("div",{className:"property-card-header",children:[E.jsxs("div",{className:"property-room-name",children:["🏠 ",w.roomName||"미지정"]}),E.jsx("span",{className:`property-status-badge status-${w.status}`,children:w.status})]}),E.jsxs("div",{className:"property-card-body",children:[E.jsx("div",{className:"property-info-label",children:"📋 매물정보"}),E.jsx("div",{className:"property-info-content",children:w.info})]}),E.jsxs("div",{className:"property-card-footer",children:[E.jsxs("span",{className:"property-detail",children:["🏢 ",w.agency]}),E.jsxs("span",{className:"property-detail",children:["📞 ",w.agencyPhone]}),E.jsxs("span",{className:"property-detail",children:["🕐 ",w.visitTime," 방문"]})]}),E.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #e0e0e0",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[E.jsx("button",{onClick:()=>{b(ot),_t(!0)},className:"btn-primary",style:{fontSize:"12px",padding:"6px 12px"},children:"수정"}),E.jsx("button",{onClick:()=>I(ot),className:"btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:"삭제"})]})]},w.id||ot)),E.jsx("div",{style:{textAlign:"center",margin:"20px 0",borderTop:"1px dashed #ccc",paddingTop:"20px"},children:E.jsx("button",{onClick:()=>{b(null),_t(!0)},className:"btn-primary",children:"+ 매물 추가"})}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:H,className:"btn-secondary",children:"취소"}),E.jsx("button",{onClick:N,className:"btn-primary",children:"저장"})]}),ut&&E.jsx(M,{onClose:()=>{_t(!1),b(null)},propertyToEdit:V!==null?it.properties[V]:null,editIndex:V})]})})},j=H=>{if(!H)return"";const[K,lt]=H.split(":"),it=parseInt(K),St=it<12?"오전":"오후",ut=it===0?12:it>12?it-12:it;return`${St} ${ut}:${lt}`},G=H=>H?H.slice(0,10):"",Z=H=>{if(!H)return"";const K=H.slice(11,16);return j(K)},st=({meeting:H,onClose:K})=>{const[lt,it]=jt.useState(null),[St,ut]=jt.useState(!1),_t=H.properties?H.properties.map((N,M)=>({prop:N,originalIndex:M})).sort((N,M)=>N.prop.visitTime?M.prop.visitTime?N.prop.visitTime.localeCompare(M.prop.visitTime):-1:1):[],V=N=>{it(N),ut(!0)},b=N=>{if(confirm("이 매물을 삭제하시겠습니까?")){const M=H.properties.filter((ot,gt)=>gt!==N),w={...H,properties:M};i(w),_(w)}},C=(N,M)=>{const w=[...H.properties];M!=null?w[M]=N:w.push({...N,id:ya()});const ot={...H,properties:w};i(ot),_(ot),ut(!1),it(null)},I=({propertyToEdit:N,editIndex:M,onClose:w})=>{const[ot,gt]=jt.useState(N||{roomName:"",visitTime:"",agency:"",agencyPhone:"",info:"",status:Nu[0]}),z=W=>{const ft=W.target.value,Nt=ft.split(`
`),R=Nt.length>1?Nt[1].trim():"";gt({...ot,info:ft,roomName:R||ot.roomName})};return E.jsx("div",{className:"modal-overlay",onClick:w,style:{zIndex:1100},children:E.jsxs("div",{className:"modal-content",onClick:W=>W.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h3",{children:"매물 수정"}),E.jsx("button",{className:"btn-close",onClick:w,children:"×"})]}),E.jsxs("div",{className:"form-grid",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"호실명"}),E.jsx("input",{type:"text",placeholder:"예: 301호, 강남아파트",value:ot.roomName,onChange:W=>gt({...ot,roomName:W.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"방문시간"}),E.jsx("input",{type:"time",value:ot.visitTime,onChange:W=>gt({...ot,visitTime:W.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"준비상태"}),E.jsx("select",{value:ot.status,onChange:W=>gt({...ot,status:W.target.value}),children:Nu.map(W=>E.jsx("option",{value:W,children:W},W))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"부동산"}),E.jsx("input",{type:"text",value:ot.agency,onChange:W=>gt({...ot,agency:W.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"연락처"}),E.jsx("input",{type:"text",placeholder:"010-0000-0000",value:ot.agencyPhone,onChange:W=>gt({...ot,agencyPhone:W.target.value})})]}),E.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[E.jsx("label",{children:"매물정보"}),E.jsx("textarea",{placeholder:"매물의 상세 정보를 입력하세요 (예: 아파트 84㎡, 3층 2호실)",value:ot.info,onChange:z})]})]}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{onClick:w,className:"btn-secondary",children:"취소"}),E.jsx("button",{onClick:()=>C(ot,M),className:"btn-primary",children:"수정"})]})]})})};return E.jsx("div",{className:"modal-overlay",onClick:K,children:E.jsxs("div",{className:"modal-content",onClick:N=>N.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsxs("h3",{children:["미팅 매물 - ",Lf(H.date)]}),E.jsx("button",{className:"btn-close",onClick:K,children:"×"})]}),E.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto",padding:"10px 0"},children:_t.length>0?_t.map(({prop:N,originalIndex:M})=>E.jsxs("div",{className:"property-card",style:{marginBottom:"15px"},children:[E.jsxs("div",{className:"property-card-header",children:[E.jsxs("div",{className:"property-room-name",children:["🏠 ",N.roomName||"미지정"]}),E.jsx("span",{className:`property-status-badge status-${N.status}`,children:N.status})]}),E.jsxs("div",{className:"property-card-body",children:[E.jsx("div",{className:"property-info-label",children:"📋 매물정보"}),E.jsx("div",{className:"property-info-content",children:N.info})]}),E.jsxs("div",{className:"property-card-footer",children:[E.jsxs("span",{className:"property-detail",children:["🏢 ",N.agency]}),E.jsxs("span",{className:"property-detail",children:["📞 ",N.agencyPhone]}),E.jsxs("span",{className:"property-detail",children:["🕐 ",j(N.visitTime)," 방문"]})]}),E.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #e0e0e0",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[E.jsx("button",{onClick:()=>V(M),className:"btn-primary",style:{fontSize:"12px",padding:"6px 12px"},children:"수정"}),E.jsx("button",{onClick:()=>b(M),className:"btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:"삭제"})]})]},N.id)):E.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 매물이 없습니다."})}),E.jsx("div",{className:"modal-footer",children:E.jsx("button",{onClick:K,className:"btn-primary",children:"닫기"})}),St&&E.jsx(I,{propertyToEdit:lt!==null?H.properties[lt]:null,editIndex:lt,onClose:()=>{ut(!1),it(null)}})]})})};return E.jsxs("div",{className:"meeting-tab",children:[!o&&!d&&E.jsx("button",{onClick:()=>h(!0),children:"+ 미팅 추가"}),o&&E.jsx(x,{onCancel:()=>h(!1)}),d?E.jsx(x,{meetingData:d,onCancel:()=>p(null)},d.id):A.length>0?E.jsxs("table",{className:"customer-table",style:{marginTop:"15px"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"미팅날짜"}),E.jsx("th",{children:"미팅시간"}),E.jsx("th",{children:"매물수"}),E.jsx("th",{children:"액션"})]})}),E.jsx("tbody",{children:A.map(H=>E.jsxs("tr",{children:[E.jsx("td",{children:G(H.date)}),E.jsx("td",{children:Z(H.date)}),E.jsxs("td",{onClick:()=>_(H),style:{cursor:"pointer",color:"var(--primary-blue)",textDecoration:"underline"},children:[H.properties?.length||0,"개 매물"]}),E.jsxs("td",{children:[E.jsx("button",{onClick:()=>p(H),style:{fontSize:"12px",padding:"4px 8px",marginRight:"5px"},children:"수정"}),E.jsx("button",{onClick:()=>r(H.id),className:"btn-secondary",style:{fontSize:"12px",padding:"4px 8px"},children:"삭제"})]})]},H.id))})]}):E.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 미팅이 없습니다."}),v&&E.jsx(st,{meeting:v,onClose:()=>_(null)})]})},hT=({selectedCustomer:a,onClose:e,onEditCustomer:i,onDeleteCustomer:r,activities:o,onSaveActivity:h,onDeleteActivity:d,meetings:p,onSaveMeeting:v,onDeleteMeeting:_})=>{const[A,x]=jt.useState("기본정보"),j=!!a;return E.jsx("aside",{className:`detail-panel ${j?"open":""}`,children:j&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"panel-header",children:[E.jsxs("div",{children:[E.jsx("h3",{children:"고객 상세"}),E.jsxs("span",{className:"created-date",children:["접수일자: ",new Date(a.createdAt).toLocaleDateString()]})]}),E.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[E.jsx("button",{onClick:G=>{G.stopPropagation(),i(a)},className:"btn-primary",style:{padding:"8px 16px"},children:"수정"}),E.jsx("button",{onClick:G=>{G.stopPropagation(),r(a)},className:"btn-secondary",style:{padding:"8px 16px"},children:"삭제"}),E.jsx("button",{onClick:e,className:"btn-close",children:"✕"})]})]}),E.jsxs("div",{className:"panel-content",children:[E.jsxs("div",{className:"tab-nav",children:[E.jsx("div",{onClick:()=>x("기본정보"),className:`tab-item ${A==="기본정보"?"active":""}`,children:"기본정보"}),E.jsx("div",{onClick:()=>x("활동 내역"),className:`tab-item ${A==="활동 내역"?"active":""}`,children:"활동 내역 +"}),E.jsx("div",{onClick:()=>x("미팅 내역"),className:`tab-item ${A==="미팅 내역"?"active":""}`,children:"미팅 내역 +"})]}),E.jsxs("div",{className:"tab-content",children:[A==="기본정보"&&E.jsx(oT,{customer:a}),A==="활동 내역"&&E.jsx(uT,{customerId:a.id,activities:o,onSaveActivity:h,onDeleteActivity:d}),A==="미팅 내역"&&E.jsx(cT,{customerId:a.id,meetings:p,onSaveMeeting:v,onDeleteMeeting:_})]})]})]})})},fT=()=>{};var dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},dT=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,x=(h&3)<<4|p>>4;let j=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(j=64)),r.push(i[A],i[x],i[j],i[G])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(S_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):dT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const x=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||_==null||x==null)throw new mT;const j=h<<2|p>>4;if(r.push(j),_!==64){const G=p<<4&240|_>>2;if(r.push(G),x!==64){const Z=_<<6&192|x;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(a){const e=S_(a);return b_.encodeByteArray(e,!0)},qu=function(a){return gT(a).replace(/\./g,"")},pT=function(a){try{return b_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=()=>yT().__FIREBASE_DEFAULTS__,vT=()=>{if(typeof process>"u"||typeof dy>"u")return;const a=dy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},ET=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&pT(a[1]);return e&&JSON.parse(e)},ad=()=>{try{return fT()||_T()||vT()||ET()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},TT=a=>ad()?.emulatorHosts?.[a],AT=a=>{const e=TT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},R_=()=>ad()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[qu(JSON.stringify(i)),qu(JSON.stringify(d)),""].join(".")}const Ql={};function wT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?a.emulator.push(e):a.prod.push(e);return a}function CT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let my=!1;function xT(a,e){if(typeof window>"u"||typeof document>"u"||!ld(window.location.host)||Ql[a]===e||Ql[a]||my)return;Ql[a]=e;function i(j){return`__firebase__banner__${j}`}const r="__firebase__banner",h=wT().prod.length>0;function d(){const j=document.getElementById(r);j&&j.remove()}function p(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function v(j,G){j.setAttribute("width","24"),j.setAttribute("id",G),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function _(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{my=!0,d()},j}function A(j,G){j.setAttribute("id",G),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function x(){const j=CT(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),H=document.getElementById(st)||document.createElement("a"),K=i("preprendIcon"),lt=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const it=j.element;p(it),A(H,st);const St=_();v(lt,K),it.append(lt,Z,H,St),document.body.appendChild(it)}h?(Z.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NT(){const a=ad()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VT(){return!NT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IT(){try{return typeof indexedDB=="object"}catch{return!1}}function MT(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="FirebaseError";class xa extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=OT,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w_.prototype.create)}}class w_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?jT(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new xa(o,p,r)}}function jT(a,e){return a.replace(UT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const UT=/\{\$([^}]+)}/g;function Hu(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(gy(h)&&gy(d)){if(!Hu(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function gy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(a){return a&&a._delegate?a._delegate:a}class Zl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ST;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zT(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PT(a){return a===hr?void 0:a}function zT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const kT={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},qT=Bt.INFO,HT={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},GT=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=HT[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C_{constructor(e){this.name=e,this._logLevel=qT,this._logHandler=GT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const QT=(a,e)=>e.some(i=>a instanceof i);let py,yy;function FT(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YT(){return yy||(yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x_=new WeakMap,Pf=new WeakMap,D_=new WeakMap,Cf=new WeakMap,od=new WeakMap;function XT(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(ys(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&x_.set(i,a)}).catch(()=>{}),od.set(e,a),e}function KT(a){if(Pf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Pf.set(a,e)}let zf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Pf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||D_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ys(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function ZT(a){zf=a(zf)}function $T(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(xf(this),e,...i);return D_.set(r,e.sort?e.sort():[e]),ys(r)}:YT().includes(a)?function(...e){return a.apply(xf(this),e),ys(x_.get(this))}:function(...e){return ys(a.apply(xf(this),e))}}function JT(a){return typeof a=="function"?$T(a):(a instanceof IDBTransaction&&KT(a),QT(a,FT())?new Proxy(a,zf):a)}function ys(a){if(a instanceof IDBRequest)return XT(a);if(Cf.has(a))return Cf.get(a);const e=JT(a);return e!==a&&(Cf.set(a,e),od.set(e,a)),e}const xf=a=>od.get(a);function WT(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=ys(d);return r&&d.addEventListener("upgradeneeded",v=>{r(ys(d.result),v.oldVersion,v.newVersion,ys(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const t1=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],Df=new Map;function _y(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=e1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||t1.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Df.set(e,h),h}ZT(a=>({...a,get:(e,i,r)=>_y(e,i)||a.get(e,i,r),has:(e,i)=>!!_y(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(i1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function i1(a){return a.getComponent()?.type==="VERSION"}const Bf="@firebase/app",vy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new C_("@firebase/app"),s1="@firebase/app-compat",r1="@firebase/analytics-compat",a1="@firebase/analytics",l1="@firebase/app-check-compat",o1="@firebase/app-check",u1="@firebase/auth",c1="@firebase/auth-compat",h1="@firebase/database",f1="@firebase/data-connect",d1="@firebase/database-compat",m1="@firebase/functions",g1="@firebase/functions-compat",p1="@firebase/installations",y1="@firebase/installations-compat",_1="@firebase/messaging",v1="@firebase/messaging-compat",E1="@firebase/performance",T1="@firebase/performance-compat",A1="@firebase/remote-config",S1="@firebase/remote-config-compat",b1="@firebase/storage",R1="@firebase/storage-compat",w1="@firebase/firestore",C1="@firebase/ai",x1="@firebase/firestore-compat",D1="firebase",N1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",V1={[Bf]:"fire-core",[s1]:"fire-core-compat",[a1]:"fire-analytics",[r1]:"fire-analytics-compat",[o1]:"fire-app-check",[l1]:"fire-app-check-compat",[u1]:"fire-auth",[c1]:"fire-auth-compat",[h1]:"fire-rtdb",[f1]:"fire-data-connect",[d1]:"fire-rtdb-compat",[m1]:"fire-fn",[g1]:"fire-fn-compat",[p1]:"fire-iid",[y1]:"fire-iid-compat",[_1]:"fire-fcm",[v1]:"fire-fcm-compat",[E1]:"fire-perf",[T1]:"fire-perf-compat",[A1]:"fire-rc",[S1]:"fire-rc-compat",[b1]:"fire-gcs",[R1]:"fire-gcs-compat",[w1]:"fire-fst",[x1]:"fire-fst-compat",[C1]:"fire-vertex","fire-js":"fire-js",[D1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,I1=new Map,qf=new Map;function Ey(a,e){try{a.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Qu(a){const e=a.name;if(qf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,a);for(const i of Gu.values())Ey(i,a);for(const i of I1.values())Ey(i,a);return!0}function M1(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function O1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new w_("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=N1;function N_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:kf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(i||(i=R_()),!i)throw _s.create("no-options");const h=Gu.get(o);if(h){if(Hu(i,h.options)&&Hu(r,h.config))return h;throw _s.create("duplicate-app",{appName:o})}const d=new BT(o);for(const v of qf.values())d.addComponent(v);const p=new U1(i,r,d);return Gu.set(o,p),p}function P1(a=kf){const e=Gu.get(a);if(!e&&a===kf&&R_())return N_();if(!e)throw _s.create("no-app",{appName:a});return e}function _a(a,e,i){let r=V1[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(d.join(" "));return}Qu(new Zl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebase-heartbeat-database",B1=1,$l="firebase-heartbeat-store";let Nf=null;function V_(){return Nf||(Nf=WT(z1,B1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(a=>{throw _s.create("idb-open",{originalErrorMessage:a.message})})),Nf}async function k1(a){try{const i=(await V_()).transaction($l),r=await i.objectStore($l).get(I_(a));return await i.done,r}catch(e){if(e instanceof xa)Di.warn(e.message);else{const i=_s.create("idb-get",{originalErrorMessage:e?.message});Di.warn(i.message)}}}async function Ty(a,e){try{const r=(await V_()).transaction($l,"readwrite");await r.objectStore($l).put(e,I_(a)),await r.done}catch(i){if(i instanceof xa)Di.warn(i.message);else{const r=_s.create("idb-set",{originalErrorMessage:i?.message});Di.warn(r.message)}}}function I_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1024,H1=30;class G1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new F1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ay();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>H1){const o=Y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ay(),{heartbeatsToSend:i,unsentEntries:r}=Q1(this._heartbeatsCache.heartbeats),o=qu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Di.warn(e),""}}}function Ay(){return new Date().toISOString().substring(0,10)}function Q1(a,e=q1){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Sy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Sy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class F1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IT()?MT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await k1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ty(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sy(a){return qu(JSON.stringify({version:2,heartbeats:a})).length}function Y1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(a){Qu(new Zl("platform-logger",e=>new n1(e),"PRIVATE")),Qu(new Zl("heartbeat",e=>new G1(e),"PRIVATE")),_a(Bf,vy,a),_a(Bf,vy,"esm2020"),_a("fire-js","")}X1("");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,M_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,b){function C(){}C.prototype=b.prototype,V.F=b.prototype,V.prototype=new C,V.prototype.constructor=V,V.D=function(I,N,M){for(var w=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)w[ot-2]=arguments[ot];return b.prototype[N].apply(I,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,C){C||(C=0);const I=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)I[N]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(N=0;N<16;++N)I[N]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=V.g[0],C=V.g[1],N=V.g[2];let M=V.g[3],w;w=b+(M^C&(N^M))+I[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=M+(N^b&(C^N))+I[1]+3905402710&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(C^M&(b^C))+I[2]+606105819&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(b^N&(M^b))+I[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(M^C&(N^M))+I[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=M+(N^b&(C^N))+I[5]+1200080426&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(C^M&(b^C))+I[6]+2821735955&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(b^N&(M^b))+I[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(M^C&(N^M))+I[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=M+(N^b&(C^N))+I[9]+2336552879&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(C^M&(b^C))+I[10]+4294925233&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(b^N&(M^b))+I[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(M^C&(N^M))+I[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=M+(N^b&(C^N))+I[13]+4254626195&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(C^M&(b^C))+I[14]+2792965006&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(b^N&(M^b))+I[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(N^M&(C^N))+I[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(b^C))+I[6]+3225465664&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(M^b))+I[11]+643717713&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^b&(N^M))+I[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(N^M&(C^N))+I[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(b^C))+I[10]+38016083&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(M^b))+I[15]+3634488961&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^b&(N^M))+I[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(N^M&(C^N))+I[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(b^C))+I[14]+3275163606&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(M^b))+I[3]+4107603335&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^b&(N^M))+I[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(N^M&(C^N))+I[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(b^C))+I[2]+4243563512&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(M^b))+I[7]+1735328473&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^b&(N^M))+I[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(C^N^M)+I[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=M+(b^C^N)+I[8]+2272392833&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^C)+I[11]+1839030562&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^b)+I[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(C^N^M)+I[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=M+(b^C^N)+I[4]+1272893353&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^C)+I[7]+4139469664&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^b)+I[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(C^N^M)+I[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=M+(b^C^N)+I[0]+3936430074&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^C)+I[3]+3572445317&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^b)+I[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(C^N^M)+I[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=M+(b^C^N)+I[12]+3873151461&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^C)+I[15]+530742520&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^b)+I[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(N^(C|~M))+I[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=M+(C^(b|~N))+I[7]+1126891415&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~C))+I[14]+2878612391&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~b))+I[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=b+(N^(C|~M))+I[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=M+(C^(b|~N))+I[3]+2399980690&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~C))+I[10]+4293915773&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~b))+I[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=b+(N^(C|~M))+I[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=M+(C^(b|~N))+I[15]+4264355552&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~C))+I[6]+2734768916&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~b))+I[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=b+(N^(C|~M))+I[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=M+(C^(b|~N))+I[11]+3174756917&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~C))+I[2]+718787259&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~b))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+M&4294967295}r.prototype.v=function(V,b){b===void 0&&(b=V.length);const C=b-this.blockSize,I=this.C;let N=this.h,M=0;for(;M<b;){if(N==0)for(;M<=C;)o(this,V,M),M+=this.blockSize;if(typeof V=="string"){for(;M<b;)if(I[N++]=V.charCodeAt(M++),N==this.blockSize){o(this,I),N=0;break}}else for(;M<b;)if(I[N++]=V[M++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;b=this.o*8;for(var C=V.length-8;C<V.length;++C)V[C]=b&255,b/=256;for(this.v(V),V=Array(16),b=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)V[b++]=this.g[C]>>>I&255;return V};function h(V,b){var C=p;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=b(V)}function d(V,b){this.h=b;const C=[];let I=!0;for(let N=V.length-1;N>=0;N--){const M=V[N]|0;I&&M==b||(C[N]=M,I=!1)}this.g=C}var p={};function v(V){return-128<=V&&V<128?h(V,function(b){return new d([b|0],b<0?-1:0)}):new d([V|0],V<0?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return x;if(V<0)return H(_(-V));const b=[];let C=1;for(let I=0;V>=C;I++)b[I]=V/C|0,C*=4294967296;return new d(b,0)}function A(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return H(A(V.substring(1),b));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let I=x;for(let M=0;M<V.length;M+=8){var N=Math.min(8,V.length-M);const w=parseInt(V.substring(M,M+N),b);N<8?(N=_(Math.pow(b,N)),I=I.j(N).add(_(w))):(I=I.j(C),I=I.add(_(w)))}return I}var x=v(0),j=v(1),G=v(16777216);a=d.prototype,a.m=function(){if(st(this))return-H(this).m();let V=0,b=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);V+=(I>=0?I:4294967296+I)*b,b*=4294967296}return V},a.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(Z(this))return"0";if(st(this))return"-"+H(this).toString(V);const b=_(Math.pow(V,6));var C=this;let I="";for(;;){const N=St(C,b).g;C=K(C,N.j(b));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(V);if(C=N,Z(C))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},a.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function Z(V){if(V.h!=0)return!1;for(let b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function st(V){return V.h==-1}a.l=function(V){return V=K(this,V),st(V)?-1:Z(V)?0:1};function H(V){const b=V.g.length,C=[];for(let I=0;I<b;I++)C[I]=~V.g[I];return new d(C,~V.h).add(j)}a.abs=function(){return st(this)?H(this):this},a.add=function(V){const b=Math.max(this.g.length,V.g.length),C=[];let I=0;for(let N=0;N<=b;N++){let M=I+(this.i(N)&65535)+(V.i(N)&65535),w=(M>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);I=w>>>16,M&=65535,w&=65535,C[N]=w<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function K(V,b){return V.add(H(b))}a.j=function(V){if(Z(this)||Z(V))return x;if(st(this))return st(V)?H(this).j(H(V)):H(H(this).j(V));if(st(V))return H(this.j(H(V)));if(this.l(G)<0&&V.l(G)<0)return _(this.m()*V.m());const b=this.g.length+V.g.length,C=[];for(var I=0;I<2*b;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<V.g.length;N++){const M=this.i(I)>>>16,w=this.i(I)&65535,ot=V.i(N)>>>16,gt=V.i(N)&65535;C[2*I+2*N]+=w*gt,lt(C,2*I+2*N),C[2*I+2*N+1]+=M*gt,lt(C,2*I+2*N+1),C[2*I+2*N+1]+=w*ot,lt(C,2*I+2*N+1),C[2*I+2*N+2]+=M*ot,lt(C,2*I+2*N+2)}for(V=0;V<b;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=b;V<2*b;V++)C[V]=0;return new d(C,0)};function lt(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function it(V,b){this.g=V,this.h=b}function St(V,b){if(Z(b))throw Error("division by zero");if(Z(V))return new it(x,x);if(st(V))return b=St(H(V),b),new it(H(b.g),H(b.h));if(st(b))return b=St(V,H(b)),new it(H(b.g),b.h);if(V.g.length>30){if(st(V)||st(b))throw Error("slowDivide_ only works with positive integers.");for(var C=j,I=b;I.l(V)<=0;)C=ut(C),I=ut(I);var N=_t(C,1),M=_t(I,1);for(I=_t(I,2),C=_t(C,2);!Z(I);){var w=M.add(I);w.l(V)<=0&&(N=N.add(C),M=w),I=_t(I,1),C=_t(C,1)}return b=K(V,N.j(b)),new it(N,b)}for(N=x;V.l(b)>=0;){for(C=Math.max(1,Math.floor(V.m()/b.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=_(C),w=M.j(b);st(w)||w.l(V)>0;)C-=I,M=_(C),w=M.j(b);Z(M)&&(M=j),N=N.add(M),V=K(V,w)}return new it(N,V)}a.B=function(V){return St(this,V).h},a.and=function(V){const b=Math.max(this.g.length,V.g.length),C=[];for(let I=0;I<b;I++)C[I]=this.i(I)&V.i(I);return new d(C,this.h&V.h)},a.or=function(V){const b=Math.max(this.g.length,V.g.length),C=[];for(let I=0;I<b;I++)C[I]=this.i(I)|V.i(I);return new d(C,this.h|V.h)},a.xor=function(V){const b=Math.max(this.g.length,V.g.length),C=[];for(let I=0;I<b;I++)C[I]=this.i(I)^V.i(I);return new d(C,this.h^V.h)};function ut(V){const b=V.g.length+1,C=[];for(let I=0;I<b;I++)C[I]=V.i(I)<<1|V.i(I-1)>>>31;return new d(C,V.h)}function _t(V,b){const C=b>>5;b%=32;const I=V.g.length-C,N=[];for(let M=0;M<I;M++)N[M]=b>0?V.i(M+C)>>>b|V.i(M+C+1)<<32-b:V.i(M+C);return new d(N,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,M_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,vs=d}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O_,kl,j_,Uu,Hf,U_,L_,P_;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in g))break t;g=g[P]}u=u[u.length-1],S=g[u],m=m(S),m!=S&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var g=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&g.push([S,m[S]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,g){return u.call.apply(u.bind,arguments)}function _(u,m,g){return _=v,_.apply(null,arguments)}function A(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(S,P,Q){for(var rt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)rt[Ct-2]=arguments[Ct];return m.prototype[P].apply(S,rt)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const g=Array(m);for(let S=0;S<m;S++)g[S]=u[S];return g}return[]}function Z(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var g=typeof P;if(g=g!="object"?g:P?Array.isArray(P)?"array":g:"null",g=="array"||g=="object"&&typeof P.length=="number"){g=u.length||0;const Q=P.length||0;u.length=g+Q;for(let rt=0;rt<Q;rt++)u[g+rt]=P[rt]}else u.push(P)}}class st{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){d.setTimeout(()=>{throw u},0)}function K(){var u=V;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,g){const S=it.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new st(()=>new St,u=>u.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,_t=!1,V=new lt,b=()=>{const u=Promise.resolve(void 0);ut=()=>{u.then(C)}};function C(){for(var u;u=K();){try{u.h.call(u.g)}catch(g){H(g)}var m=it;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_t=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(ot,N),ot.prototype.init=function(u,m){const g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),z=0;function W(u,m,g,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=P,this.key=++z,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,g){for(const S in u)m.call(g,u[S],S,u)}function R(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function F(u){const m={};for(const g in u)m[g]=u[g];return m}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let g,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(g in S)u[g]=S[g];for(let Q=0;Q<tt.length;Q++)g=tt[Q],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,g,S,P){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const rt=dt(u,m,S,P);return rt>-1?(m=u[rt],g||(m.fa=!1)):(m=new W(m,this.src,Q,!!S,P),m.fa=g,u.push(m)),m};function ht(u,m){const g=m.type;if(g in u.g){var S=u.g[g],P=Array.prototype.indexOf.call(S,m,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(S,P,1),Q&&(ft(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function dt(u,m,g,S){for(let P=0;P<u.length;++P){const Q=u[P];if(!Q.da&&Q.listener==m&&Q.capture==!!g&&Q.ha==S)return P}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),Rt={};function Qt(u,m,g,S,P){if(Array.isArray(m)){for(let Q=0;Q<m.length;Q++)Qt(u,m[Q],g,S,P);return null}return g=co(g),u&&u[gt]?u.J(m,g,p(S)?!!S.capture:!1,P):Cs(u,m,g,!1,S,P)}function Cs(u,m,g,S,P,Q){if(!m)throw Error("Invalid event type");const rt=p(P)?!!P.capture:!!P;let Ct=Oa(u);if(Ct||(u[Gt]=Ct=new at(u)),g=Ct.add(m,g,S,rt,Q),g.proxy)return g;if(S=Ar(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)M||(P=rt),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(br(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ar(){function u(g){return m.call(u.src,u.listener,g)}const m=Tc;return u}function Sr(u,m,g,S,P){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Sr(u,m[Q],g,S,P);else S=p(S)?!!S.capture:!!S,g=co(g),u&&u[gt]?(u=u.i,Q=String(m).toString(),Q in u.g&&(m=u.g[Q],g=dt(m,g,S,P),g>-1&&(ft(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[Q],u.h--)))):u&&(u=Oa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=dt(m,g,S,P)),(g=u>-1?m[u]:null)&&xs(g))}function xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[gt])ht(m.i,u);else{var g=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(g,S,u.capture):m.detachEvent?m.detachEvent(br(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=Oa(m))?(ht(g,u),g.h==0&&(g.src=null,m[Gt]=null)):ft(u)}}}function br(u){return u in Rt?Rt[u]:Rt[u]="on"+u}function Tc(u,m){if(u.da)u=!0;else{m=new ot(m,this);const g=u.listener,S=u.ha||u.src;u.fa&&xs(u),u=g.call(S,m)}return u}function Oa(u){return u=u[Gt],u instanceof at?u:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function Ae(){I.call(this),this.i=new at(this),this.M=this,this.G=null}x(Ae,I),Ae.prototype[gt]=!0,Ae.prototype.removeEventListener=function(u,m,g,S){Sr(this,u,m,g,S)};function De(u,m){var g,S=u.G;if(S)for(g=[];S;S=S.G)g.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(S,u),et(m,P)}P=!0;let Q,rt;if(g)for(rt=g.length-1;rt>=0;rt--)Q=m.g=g[rt],P=oi(Q,S,!0,m)&&P;if(Q=m.g=u,P=oi(Q,S,!0,m)&&P,P=oi(Q,S,!1,m)&&P,g)for(rt=0;rt<g.length;rt++)Q=m.g=g[rt],P=oi(Q,S,!1,m)&&P}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let S=0;S<g.length;S++)ft(g[S]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,g,S){return this.i.add(String(u),m,!1,g,S)},Ae.prototype.K=function(u,m,g,S){return this.i.add(String(u),m,!0,g,S)};function oi(u,m,g,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let Q=0;Q<m.length;++Q){const rt=m[Q];if(rt&&!rt.da&&rt.capture==g){const Ct=rt.listener,ne=rt.ha||rt.src;rt.fa&&ht(u.i,rt),P=Ct.call(ne,S)!==!1&&P}}return P&&!S.defaultPrevented}function Ac(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ja(u){u.g=Ac(()=>{u.g=null,u.i&&(u.i=!1,ja(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Sc extends I{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ja(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(u){I.call(this),this.h=u,this.g={}}x(Ds,I);var Mi=[];function qe(u){Nt(u.g,function(m,g){this.g.hasOwnProperty(g)&&xs(m)},u),u.g={}}Ds.prototype.N=function(){Ds.Z.N.call(this),qe(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=d.JSON.stringify,Ke=d.JSON.parse,bc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ho(){}function fo(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oi(){N.call(this,"d")}x(Oi,N);function Dn(){N.call(this,"c")}x(Dn,N);var gn={},ji=null;function Rr(){return ji=ji||new Ae}gn.Ia="serverreachability";function Ua(u){N.call(this,gn.Ia,u)}x(Ua,N);function Ui(u){const m=Rr();De(m,new Ua(m))}gn.STAT_EVENT="statevent";function wr(u,m){N.call(this,gn.STAT_EVENT,u),this.stat=m}x(wr,N);function he(u){const m=Rr();De(m,new wr(m,u))}gn.Ja="timingevent";function mo(u,m){N.call(this,gn.Ja,u),this.size=m}x(mo,N);function Li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pi(){this.g=!0}Pi.prototype.ua=function(){this.g=!1};function La(u,m,g,S,P,Q){u.info(function(){if(u.g)if(Q){var rt="",Ct=Q.split("&");for(let Ft=0;Ft<Ct.length;Ft++){var ne=Ct[Ft].split("=");if(ne.length>1){const me=ne[0];ne=ne[1];const an=me.split("_");rt=an.length>=2&&an[1]=="type"?rt+(me+"="+ne+"&"):rt+(me+"=redacted&")}}}else rt=null;else rt=Q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+g+`
`+rt})}function Pa(u,m,g,S,P,Q,rt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+g+`
`+Q+" "+rt})}function ui(u,m,g,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kn(u,g)+(S?" "+S:"")})}function Rc(u,m){u.info(function(){return"TIMEOUT: "+m})}Pi.prototype.info=function(){};function kn(u,m){if(!u.g)return m;if(!m)return null;try{const Q=JSON.parse(m);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var g=Q[u];if(!(g.length<2)){var S=g[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let rt=1;rt<S.length;rt++)S[rt]=""}}}}return mn(Q)}catch{return m}}var fe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},je={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ci;function Ns(){}x(Ns,ho),Ns.prototype.g=function(){return new XMLHttpRequest},ci=new Ns;function Vs(u){return encodeURIComponent(String(u))}function wc(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function Nn(u,m,g,S){this.j=u,this.i=m,this.l=g,this.S=S||1,this.V=new Ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var Cr={},qn={};function Hn(u,m,g){u.M=1,u.A=fi(ae(m)),u.u=g,u.R=!0,Bi(u,null)}function Bi(u,m){u.F=Date.now(),Is(u),u.B=ae(u.A);var g=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),_o(g.i,"t",S),u.C=0,g=u.j.L,u.h=new zi,u.g=Lr(u.j,g?m:null,!u.u),u.P>0&&(u.O=new Sc(_(u.Y,u,u.g),u.P)),m=u.V,g=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Mi[0]=P.toString()),P=Mi);for(let Q=0;Q<P.length;Q++){const rt=Qt(g,P[Q],S||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?F(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ui(),La(u.i,u.v,u.B,u.l,u.S,u.u)}Nn.prototype.ba=function(u){u=u.target;const m=this.O;m&&He(u)==3?m.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=He(this.g),ne=this.g.ya(),Ft=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Hs(this.g)))){this.K||Ct!=4||ne==7||(ne==8||Ft<=0?Ui(3):Ui(2)),Qn(this);var m=this.g.ca();this.X=m;var g=ki(this);if(this.o=m==200,Pa(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var Q=S;break e}}Q=null}if(u=Q)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xr(this,u);else{this.o=!1,this.m=3,he(12),Fn(this),Ms(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<g.length;)if(me=go(this,g),me==qn){Ct==4&&(this.m=4,he(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Cr){this.m=4,he(15),ui(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,me,null),xr(this,me);if(de(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||g.length!=0||this.h.h||(this.m=1,he(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,g,"[Invalid Chunked Response]"),Fn(this),Ms(this);else if(g.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Xa(rt),rt.P=!0,he(11))}}else ui(this.i,this.l,g,null),xr(this,g);Ct==4&&Fn(this),this.o&&!this.K&&(Ct==4?Ka(this.j,this):(this.o=!1,Is(this)))}else Gs(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,he(12)):(this.m=0,he(13)),Fn(this),Ms(this)}}}catch{}finally{}};function ki(u){if(!de(u))return u.g.la();const m=Hs(u.g);if(m==="")return"";let g="";const S=m.length,P=He(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Fn(u),Ms(u),"";u.h.i=new d.TextDecoder}for(let Q=0;Q<S;Q++)u.h.h=!0,g+=u.h.i.decode(m[Q],{stream:!(P&&Q==S-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function de(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function go(u,m){var g=u.C,S=m.indexOf(`
`,g);return S==-1?qn:(g=Number(m.substring(g,S)),isNaN(g)?Cr:(S+=1,S+g>m.length?qn:(m=m.slice(S,S+g),u.C=S+g,m)))}Nn.prototype.cancel=function(){this.K=!0,Fn(this)};function Is(u){u.T=Date.now()+u.H,Gn(u,u.H)}function Gn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Li(_(u.aa,u),m)}function Qn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Nn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rc(this.i,this.B),this.M!=2&&(Ui(),he(17)),Fn(this),this.m=2,Ms(this)):Gn(this,this.T-u)};function Ms(u){u.j.I==0||u.K||Ka(u.j,u)}function Fn(u){Qn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xr(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||Us(g.h,u))){if(!u.L&&Us(g.h,u)&&g.I==3){try{var S=g.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)Ur(g),Yn(g);else break t;Ya(g),he(18)}}else g.xa=P[1],0<g.xa-g.K&&P[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Li(_(g.Va,g),6e3));pn(g.h)<=1&&g.ta&&(g.ta=void 0)}else gi(g,11)}else if((u.L||g.g==u)&&Ur(g),!w(m))for(P=g.Ba.g.parse(m),m=0;m<P.length;m++){let Ft=P[m];const me=Ft[0];if(!(me<=g.K))if(g.K=me,Ft=Ft[1],g.I==2)if(Ft[0]=="c"){g.M=Ft[1],g.ba=Ft[2];const an=Ft[3];an!=null&&(g.ka=an,g.j.info("VER="+g.ka));const Xn=Ft[4];Xn!=null&&(g.za=Xn,g.j.info("SVER="+g.za));const Mn=Ft[5];Mn!=null&&typeof Mn=="number"&&Mn>0&&(S=1.5*Mn,g.O=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const On=u.g;if(On){const jn=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jn){var Q=S.h;Q.g||jn.indexOf("spdy")==-1&&jn.indexOf("quic")==-1&&jn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Dr(Q,Q.h),Q.h=null))}if(S.G){const $a=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(S.wa=$a,Kt(S.J,S.G,$a))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),S=g;var rt=u;if(S.na=Co(S,S.L?S.ba:null,S.W),rt.L){hi(S.h,rt);var Ct=rt,ne=S.O;ne&&(Ct.H=ne),Ct.D&&(Qn(Ct),Is(Ct)),S.g=rt}else So(S);g.i.length>0&&Xs(g)}else Ft[0]!="stop"&&Ft[0]!="close"||gi(g,7);else g.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?gi(g,7):Fs(g):Ft[0]!="noop"&&g.l&&g.l.qa(Ft),g.A=0)}}Ui(4)}catch{}}var Cc=class{constructor(u,m){this.g=u,this.map=m}};function Os(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function js(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pn(u){return u.h?1:u.g?u.g.size:0}function Us(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dr(u,m){u.g?u.g.add(m):u.h=m}function hi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Os.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return G(u.i)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const S=u[g].indexOf("=");let P,Q=null;S>=0?(P=u[g].substring(0,S),Q=u[g].substring(S+1)):P=u[g],m(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,qi(this,u.j),this.o=u.o,this.g=u.g,Ls(this,u.u),this.h=u.h,Hi(this,vo(u.i)),this.m=u.m):u&&(m=String(u).match(Vr))?(this.l=!1,qi(this,m[1]||"",!0),this.o=Ps(m[2]||""),this.g=Ps(m[3]||"",!0),Ls(this,m[4]),this.h=Ps(m[5]||"",!0),Hi(this,m[6]||"",!0),this.m=Ps(m[7]||"")):(this.l=!1,this.i=new yn(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ne(m,Ba,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ne(m,Ba,!0),"@"),u.push(Vs(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ne(g,g.charAt(0)=="/"?Gi:ka,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ne(g,yo)),u.join("")},Vn.prototype.resolve=function(u){const m=ae(this);let g=!!u.j;g?qi(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var S=u.h;if(g)Ls(m,u.u);else if(g=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let rt=0;rt<P.length;){const Ct=P[rt++];Ct=="."?S&&rt==P.length&&Q.push(""):Ct==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&rt==P.length&&Q.push("")):(Q.push(Ct),S=!0)}S=Q.join("/")}else S=P}return g?m.h=S:g=u.i.toString()!=="",g?Hi(m,vo(u.i)):g=!!u.m,g&&(m.m=u.m),m};function ae(u){return new Vn(u)}function qi(u,m,g){u.j=g?Ps(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Hi(u,m,g){m instanceof yn?(u.i=m,Ga(u.i,u.l)):(g||(m=Ne(m,po)),u.i=new yn(m,u.l))}function Kt(u,m,g){u.i.set(m,g)}function fi(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ps(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ne(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,za),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function za(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ba=/[#\/\?@]/g,ka=/[#\?:]/g,Gi=/[#\?]/g,po=/[#\?@]/g,yo=/#/g;function yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function di(u){u.g||(u.g=new Map,u.h=0,u.i&&xc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}a=yn.prototype,a.add=function(u,m){di(this),this.i=null,u=In(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function qa(u,m){di(u),m=In(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ha(u,m){return di(u),m=In(u,m),u.g.has(m)}a.forEach=function(u,m){di(this),this.g.forEach(function(g,S){g.forEach(function(P){u.call(m,P,S,this)},this)},this)};function Ir(u,m){di(u);let g=[];if(typeof m=="string")Ha(u,m)&&(g=g.concat(u.g.get(In(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}a.set=function(u,m){return di(this),this.i=null,u=In(this,u),Ha(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Ir(this,u),u.length>0?String(u[0]):m):m};function _o(u,m,g){qa(u,m),g.length>0&&(u.i=null,u.g.set(In(u,m),G(g)),u.h+=g.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var g=m[S];const P=Vs(g);g=Ir(this,g);for(let Q=0;Q<g.length;Q++){let rt=P;g[Q]!==""&&(rt+="="+Vs(g[Q])),u.push(rt)}}return this.i=u.join("&")};function vo(u){const m=new yn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function In(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ga(u,m){m&&!u.j&&(di(u),u.i=null,u.g.forEach(function(g,S){const P=S.toLowerCase();S!=P&&(qa(this,S),_o(this,P,g))},u)),u.j=m}function Qa(u,m){const g=new Pi;if(d.Image){const S=new Image;S.onload=A(Ze,g,"TestLoadImage: loaded",!0,m,S),S.onerror=A(Ze,g,"TestLoadImage: error",!1,m,S),S.onabort=A(Ze,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(Ze,g,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Qi(u,m){const g=new Pi,S=new AbortController,P=setTimeout(()=>{S.abort(),Ze(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(Q=>{clearTimeout(P),Q.ok?Ze(g,"TestPingServer: ok",!0,m):Ze(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Ze(g,"TestPingServer: error",!1,m)})}function Ze(u,m,g,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(g)}catch{}}function Eo(){this.g=new bc}function zs(u){this.i=u.Sb||null,this.h=u.ab||!1}x(zs,ho),zs.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Bs,Ae),a=Bs.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,mi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$e(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$e(this):mi(this),this.readyState==3&&Fi(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,$e(this))},a.Na=function(u){this.g&&(this.response=u,$e(this))},a.ga=function(){this.g&&$e(this)};function $e(u){u.readyState=4,u.l=null,u.j=null,u.B=null,mi(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function mi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yi(u){let m="";return Nt(u,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function _n(u,m,g){t:{for(S in g){var S=!1;break t}S=!0}S||(g=Yi(g),typeof u=="string"?g!=null&&Vs(g):Kt(u,m,g))}function te(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(te,Ae);var Mr=/^https?$/i,To=["POST","PUT"];a=te.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ci.g(),this.g.onreadystatechange=j(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){ks(this,Q);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)g.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())g.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(To,m,void 0)>=0)||S||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,rt]of g)this.g.setRequestHeader(Q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){ks(this,Q)}};function ks(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qs(u),Se(u)}function qs(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Se(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Se(this,!0)),te.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Fa(this):this.Xa())},a.Xa=function(){Fa(this)};function Fa(u){if(u.h&&typeof h<"u"){if(u.v&&He(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),He(u)==4){u.h=!1;try{const Q=u.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var S;if(S=Q===0){let rt=String(u.D).match(Vr)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),S=!Mr.test(rt?rt.toLowerCase():"")}g=S}if(g)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=He(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",qs(u)}}finally{Se(u)}}}}function Se(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||De(u,"ready");try{g.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function He(u){return u.g?u.g.readyState:0}a.ca=function(){try{return He(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ke(m)}};function Hs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const m={};u=(u.g&&He(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var g=wc(u[S]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const Q=m[P]||[];m[P]=Q,Q.push(g)}R(m,function(S){return S.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Or(u){this.za=0,this.i=[],this.j=new Pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qs("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qs("baseRetryDelayMs",5e3,u),this.Za=Qs("retryDelaySeedMs",1e4,u),this.Ta=Qs("forwardChannelMaxRetries",2,u),this.va=Qs("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Os(u&&u.concurrentRequestLimit),this.Ba=new Eo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Or.prototype,a.ka=8,a.I=1,a.connect=function(u,m,g,S){he(0),this.W=u,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.J=Co(this,null,this.W),Xs(this)};function Fs(u){if(Ys(u),u.I==3){var m=u.V++,g=ae(u.J);if(Kt(g,"SID",u.M),Kt(g,"RID",m),Kt(g,"TYPE","terminate"),Ks(u,g),m=new Nn(u,u.j,m),m.M=2,m.A=fi(ae(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=Lr(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Is(m)}wo(u)}function Yn(u){u.g&&(Xa(u),u.g.cancel(),u.g=null)}function Ys(u){Yn(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ur(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Xs(u){if(!js(u.h)&&!u.m){u.m=!0;var m=u.Ea;ut||b(),_t||(ut(),_t=!0),V.add(m,u),u.D=0}}function Dc(u,m){return pn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Li(_(u.Ea,u,m),Ro(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Nn(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=F(Q),et(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=jr(this,P,m),g=ae(this.J),Kt(g,"RID",u),Kt(g,"CVER",22),this.G&&Kt(g,"X-HTTP-Session-Id",this.G),Ks(this,g),Q&&(this.R?m="headers="+Vs(Yi(Q))+"&"+m:this.u&&_n(g,this.u,Q)),Dr(this.h,P),this.Ra&&Kt(g,"TYPE","init"),this.S?(Kt(g,"$req",m),Kt(g,"SID","null"),P.U=!0,Hn(P,g,null)):Hn(P,g,m),this.I=2}}else this.I==3&&(u?Ao(this,u):this.i.length==0||js(this.h)||Ao(this))};function Ao(u,m){var g;m?g=m.l:g=u.V++;const S=ae(u.J);Kt(S,"SID",u.M),Kt(S,"RID",g),Kt(S,"AID",u.K),Ks(u,S),u.u&&u.o&&_n(S,u.u,u.o),g=new Nn(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=jr(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dr(u.h,g),Hn(g,S,m)}function Ks(u,m){u.H&&Nt(u.H,function(g,S){Kt(m,S,g)}),u.l&&Nt({},function(g,S){Kt(m,S,g)})}function jr(u,m,g){g=Math.min(u.i.length,g);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Ct=-1;for(;;){const ne=["count="+g];Ct==-1?g>0?(Ct=P[0].g,ne.push("ofs="+Ct)):Ct=0:ne.push("ofs="+Ct);let Ft=!0;for(let me=0;me<g;me++){var Q=P[me].g;const an=P[me].map;if(Q-=Ct,Q<0)Ct=Math.max(0,P[me].g-100),Ft=!1;else try{Q="req"+Q+"_"||"";try{var rt=an instanceof Map?an:Object.entries(an);for(const[Xn,Mn]of rt){let On=Mn;p(Mn)&&(On=mn(Mn)),ne.push(Q+Xn+"="+encodeURIComponent(On))}}catch(Xn){throw ne.push(Q+"type="+encodeURIComponent("_badmap")),Xn}}catch{S&&S(an)}}if(Ft){rt=ne.join("&");break t}}rt=void 0}return u=u.i.splice(0,g),m.G=u,rt}function So(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ut||b(),_t||(ut(),_t=!0),V.add(m,u),u.A=0}}function Ya(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Li(_(u.Da,u),Ro(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,bo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Li(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,he(10),Yn(this),bo(this))};function Xa(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bo(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ae(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Ks(u,m),u.u&&u.o&&_n(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=fi(ae(m)),g.u=null,g.R=!0,Bi(g,u)}a.Va=function(){this.C!=null&&(this.C=null,Yn(this),Ya(this),he(19))};function Ur(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ka(u,m){var g=null;if(u.g==m){Ur(u),Xa(u),u.g=null;var S=2}else if(Us(u.h,m))g=m.G,hi(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=Rr(),De(S,new mo(S,g)),Xs(u)}else So(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&Dc(u,m)||S==2&&Ya(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Ro(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var g=_(u.bb,u),S=u.Ua;const P=!S;S=new Vn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qi(S,"https"),fi(S),P?Qa(S.toString(),g):Qi(S.toString(),g)}else he(2);u.I=0,u.l&&u.l.pa(m),wo(u),Ys(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function wo(u){if(u.I=0,u.ja=[],u.l){const m=Nr(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Co(u,m,g){var S=g instanceof Vn?ae(g):new Vn(g);if(S.g!="")m&&(S.g=m+"."+S.g),Ls(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const Q=new Vn(null);S&&qi(Q,S),m&&(Q.g=m),P&&Ls(Q,P),g&&(Q.h=g),S=Q}return g=u.G,m=u.wa,g&&m&&Kt(S,g,m),Kt(S,"VER",u.ka),Ks(u,S),S}function Lr(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new zs({ab:g})):new te(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}a=xo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Pr(){}Pr.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){Ae.call(this),this.g=new Or(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}x(Je,Ae),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Fs(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=mn(u),u=g);m.i.push(new Cc(m.Ya++,u)),m.I==3&&Xs(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Je.Z.N.call(this)};function Za(u){Oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Za,Oi);function Do(){Dn.call(this),this.status=1}x(Do,Dn);function Xi(u){this.g=u}x(Xi,xo),Xi.prototype.ra=function(){De(this.g,"a")},Xi.prototype.qa=function(u){De(this.g,new Za(u))},Xi.prototype.pa=function(u){De(this.g,new Do)},Xi.prototype.oa=function(){De(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,P_=function(){return new Pr},L_=function(){return Rr()},U_=gn,Hf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,Uu=fe,je.COMPLETE="complete",j_=je,fo.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,kl=fo,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,O_=te}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore",wy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new C_("@firebase/firestore");function da(){return pr.logLevel}function ct(a,...e){if(pr.logLevel<=Bt.DEBUG){const i=e.map(ud);pr.debug(`Firestore (${Da}): ${a}`,...i)}}function Ni(a,...e){if(pr.logLevel<=Bt.ERROR){const i=e.map(ud);pr.error(`Firestore (${Da}): ${a}`,...i)}}function Aa(a,...e){if(pr.logLevel<=Bt.WARN){const i=e.map(ud);pr.warn(`Firestore (${Da}): ${a}`,...i)}}function ud(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,z_(a,r,i)}function z_(a,e,i){let r=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ni(r),new Error(r)}function Ht(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||z_(e,o,r)}function xt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends xa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class Z1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new dr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new dr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new B_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class J1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new J1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,O1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const r=h=>{h.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=eA(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Ut(a,e){return a<e?-1:a>e?1:0}function Gf(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Vf(o)===Vf(h)?Ut(o,h):Vf(o)?1:-1}return Ut(a.length,e.length)}const nA=55296,iA=57343;function Vf(a){const e=a.charCodeAt(0);return e>=nA&&e<=iA}function Sa(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="__name__";class ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&At(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&At(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ut(e.length,i.length)}static compareSegments(e,i){const r=ti.isNumericId(e),o=ti.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Gf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class ie extends ti{construct(e,i,r){return new ie(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new pt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const sA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,r){return new Be(e,i,r)}static isValidIdentifier(e){return sA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xy}static keyField(){return new Be([xy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new pt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new pt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new pt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(ie.fromString(e))}static fromName(e){return new vt(ie.fromString(e).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(a,e,i){if(!i)throw new pt(nt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function rA(a,e,i,r){if(e===!0&&r===!0)throw new pt(nt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Dy(a){if(!vt.isDocumentKey(a))throw new pt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ny(a){if(vt.isDocumentKey(a))throw new pt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function q_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function hd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":At(12329,{type:typeof a})}function mr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new pt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hd(a);throw new pt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(a,e){const i={typeString:a};return e&&(i.value=e),i}function ro(a,e){if(!q_(a))throw new pt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new pt(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-62135596800,Iy=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Iy);return new se(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Vy)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iy}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ro(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Te("string",se._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(e){return new wt(e)}static min(){return new wt(new se(0,0))}static max(){return new wt(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function aA(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Ts(o,vt.empty(),e)}function lA(a){return new Ts(a.readTime,a.key,Jl)}class Ts{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ts(wt.min(),vt.empty(),Jl)}static max(){return new Ts(wt.max(),vt.empty(),Jl)}}function oA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(a.documentKey,e.documentKey),i!==0?i:Ut(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(a){if(a.code!==nt.FAILED_PRECONDITION||a.message!==uA)throw a;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++p,p===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new J(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function hA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Va(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function rc(a){return a==null}function Fu(a){return a===0&&1/a==-1/0}function fA(a){return typeof a=="number"&&Number.isInteger(a)&&!Fu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="";function dA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=My(e)),e=mA(a.get(i),e);return My(e)}function mA(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case H_:i+="";break;default:i+=h}}return i}function My(a){return a+H_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function _r(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function G_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new ze(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new zn([])}unionWith(e){let i=new xe(Be.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Q_("Invalid base64 string: "+h):h}})(e);return new ke(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const gA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(a){if(Ht(!!a,39018),typeof a=="string"){let e=0;const i=gA.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ss(a){return typeof a=="string"?ke.fromBase64String(a):ke.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="server_timestamp",Y_="__type__",X_="__previous_value__",K_="__local_write_time__";function dd(a){return(a?.mapValue?.fields||{})[Y_]?.stringValue===F_}function ac(a){const e=a.mapValue.fields[X_];return dd(e)?ac(e):e}function Wl(a){const e=As(a.mapValue.fields[K_].timestampValue);return new se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i,r,o,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yu="(default)";class to{constructor(e,i){this.projectId=e,this.database=i||Yu}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="__type__",yA="__max__",Mu={mapValue:{}},$_="__vector__",Xu="value";function bs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?dd(a)?4:vA(a)?9007199254740991:_A(a)?10:11:At(28295,{value:a})}function ai(a,e){if(a===e)return!0;const i=bs(a);if(i!==bs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Wl(a).isEqual(Wl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=As(o.timestampValue),p=As(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Ss(o.bytesValue).isEqual(Ss(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ye(o.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ye(o.integerValue)===ye(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ye(o.doubleValue),p=ye(h.doubleValue);return d===p?Fu(d)===Fu(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return Sa(a.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Oy(d)!==Oy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ai(d[v],p[v])))return!1;return!0})(a,e);default:return At(52216,{left:a})}}function eo(a,e){return(a.values||[]).find((i=>ai(i,e)))!==void 0}function ba(a,e){if(a===e)return 0;const i=bs(a),r=bs(e);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=ye(h.integerValue||h.doubleValue),v=ye(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,e);case 3:return Uy(a.timestampValue,e.timestampValue);case 4:return Uy(Wl(a),Wl(e));case 5:return Gf(a.stringValue,e.stringValue);case 6:return(function(h,d){const p=Ss(h),v=Ss(d);return p.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Ut(p[_],v[_]);if(A!==0)return A}return Ut(p.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Ut(ye(h.latitude),ye(d.latitude));return p!==0?p:Ut(ye(h.longitude),ye(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Ly(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Xu]?.arrayValue,A=v[Xu]?.arrayValue,x=Ut(_?.values?.length||0,A?.values?.length||0);return x!==0?x:Ly(_,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Mu.mapValue&&d===Mu.mapValue)return 0;if(h===Mu.mapValue)return 1;if(d===Mu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let x=0;x<v.length&&x<A.length;++x){const j=Gf(v[x],A[x]);if(j!==0)return j;const G=ba(p[v[x]],_[A[x]]);if(G!==0)return G}return Ut(v.length,A.length)})(a.mapValue,e.mapValue);default:throw At(23264,{he:i})}}function Uy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ut(a,e);const i=As(a),r=As(e),o=Ut(i.seconds,r.seconds);return o!==0?o:Ut(i.nanos,r.nanos)}function Ly(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=ba(i[o],r[o]);if(h)return h}return Ut(i.length,r.length)}function Ra(a){return Qf(a)}function Qf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=As(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ss(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return vt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Qf(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Qf(i.fields[d])}`;return o+"}"})(a.mapValue):At(61005,{value:a})}function Lu(a){switch(bs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ac(a);return e?16+Lu(e):16;case 5:return 2*a.stringValue.length;case 6:return Ss(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Lu(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return _r(r.fields,((h,d)=>{o+=h.length+Lu(d)})),o})(a.mapValue);default:throw At(13486,{value:a})}}function Ff(a){return!!a&&"integerValue"in a}function md(a){return!!a&&"arrayValue"in a}function Py(a){return!!a&&"nullValue"in a}function zy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Pu(a){return!!a&&"mapValue"in a}function _A(a){return(a?.mapValue?.fields||{})[Z_]?.stringValue===$_}function Fl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return _r(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(a.arrayValue.values[i]);return e}return{...a}}function vA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===yA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Pu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Be.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Fl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Pu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){_r(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new wn(Fl(this.value))}}function J_(a){const e=[];return _r(a.fields,((i,r)=>{const o=new Be([i]);if(Pu(r)){const h=J_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,wt.min(),wt.min(),wt.min(),wn.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,wt.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,wt.min(),wt.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,wt.min(),wt.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,i){this.position=e,this.inclusive=i}}function By(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=vt.comparator(vt.fromName(d.referenceValue),i.key):r=ba(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function ky(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i="asc"){this.field=e,this.dir=i}}function EA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{}class we extends W_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new AA(e,i,r):i==="array-contains"?new RA(e,r):i==="in"?new wA(e,r):i==="not-in"?new CA(e,r):i==="array-contains-any"?new xA(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new SA(e,r):new bA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ba(i,this.value)):i!==null&&bs(this.value)===bs(i)&&this.matchesComparison(ba(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends W_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new li(e,i)}matches(e){return tv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tv(a){return a.op==="and"}function ev(a){return TA(a)&&tv(a)}function TA(a){for(const e of a.filters)if(e instanceof li)return!1;return!0}function Yf(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+Ra(a.value);if(ev(a))return a.filters.map((e=>Yf(e))).join(",");{const e=a.filters.map((i=>Yf(i))).join(",");return`${a.op}(${e})`}}function nv(a,e){return a instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&ai(r.value,o.value)})(a,e):a instanceof li?(function(r,o){return o instanceof li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&nv(d,o.filters[p])),!0):!1})(a,e):void At(19439)}function iv(a){return a instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ra(i.value)}`})(a):a instanceof li?(function(i){return i.op.toString()+" {"+i.getFilters().map(iv).join(" ,")+"}"})(a):"Filter"}class AA extends we{constructor(e,i,r){super(e,i,r),this.key=vt.fromName(r.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class SA extends we{constructor(e,i){super(e,"in",i),this.keys=sv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class bA extends we{constructor(e,i){super(e,"not-in",i),this.keys=sv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function sv(a,e){return(e.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class RA extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return md(i)&&eo(i.arrayValue,this.value)}}class wA extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eo(this.value.arrayValue,i)}}class CA extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eo(this.value.arrayValue,i)}}class xA extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!md(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function qy(a,e=null,i=[],r=[],o=null,h=null,d=null){return new DA(a,e,i,r,o,h,d)}function gd(a){const e=xt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Yf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ra(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ra(r))).join(",")),e.Te=i}return e.Te}function pd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!EA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!nv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!ky(a.startAt,e.startAt)&&ky(a.endAt,e.endAt)}function Xf(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NA(a,e,i,r,o,h,d,p){return new lc(a,e,i,r,o,h,d,p)}function yd(a){return new lc(a)}function Hy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function VA(a){return a.collectionGroup!==null}function Yl(a){const e=xt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Be.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Zu(h,r))})),i.has(Be.keyField().canonicalString())||e.Ie.push(new Zu(Be.keyField(),r))}return e.Ie}function ei(a){const e=xt(a);return e.Ee||(e.Ee=IA(e,Yl(a))),e.Ee}function IA(a,e){if(a.limitType==="F")return qy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Zu(o.field,h)}));const i=a.endAt?new Ku(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Ku(a.startAt.position,a.startAt.inclusive):null;return qy(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Kf(a,e,i){return new lc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function oc(a,e){return pd(ei(a),ei(e))&&a.limitType===e.limitType}function rv(a){return`${gd(ei(a))}|lt:${a.limitType}`}function ma(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>iv(o))).join(", ")}]`),rc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ra(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ra(o))).join(",")),`Target(${r})`})(ei(a))}; limitType=${a.limitType})`}function uc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):vt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of Yl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const _=By(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(d,p,v){const _=By(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,Yl(r),o))})(a,e)}function MA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function av(a){return(e,i)=>{let r=!1;for(const o of Yl(a)){const h=OA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function OA(a,e,i){const r=a.field.isKeyField()?vt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?ba(v,_):At(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return G_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new oe(vt.comparator);function Vi(){return jA}const lv=new oe(vt.comparator);function ql(...a){let e=lv;for(const i of a)e=e.insert(i.key,i);return e}function ov(a){let e=lv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function fr(){return Xl()}function uv(){return Xl()}function Xl(){return new vr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const UA=new oe(vt.comparator),LA=new xe(vt.comparator);function Lt(...a){let e=LA;for(const i of a)e=e.add(i);return e}const PA=new xe(Ut);function zA(){return PA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function cv(a){return{integerValue:""+a}}function BA(a,e){return fA(e)?cv(e):_d(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this._=void 0}}function kA(a,e,i){return a instanceof $u?(function(o,h){const d={fields:{[Y_]:{stringValue:F_},[K_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&dd(h)&&(h=ac(h)),h&&(d.fields[X_]=h),{mapValue:d}})(i,e):a instanceof no?fv(a,e):a instanceof io?dv(a,e):(function(o,h){const d=hv(o,h),p=Gy(d)+Gy(o.Ae);return Ff(d)&&Ff(o.Ae)?cv(p):_d(o.serializer,p)})(a,e)}function qA(a,e,i){return a instanceof no?fv(a,e):a instanceof io?dv(a,e):i}function hv(a,e){return a instanceof Ju?(function(r){return Ff(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class $u extends cc{}class no extends cc{constructor(e){super(),this.elements=e}}function fv(a,e){const i=mv(e);for(const r of a.elements)i.some((o=>ai(o,r)))||i.push(r);return{arrayValue:{values:i}}}class io extends cc{constructor(e){super(),this.elements=e}}function dv(a,e){let i=mv(e);for(const r of a.elements)i=i.filter((o=>!ai(o,r)));return{arrayValue:{values:i}}}class Ju extends cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Gy(a){return ye(a.integerValue||a.doubleValue)}function mv(a){return md(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function HA(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof no&&o instanceof no||r instanceof io&&o instanceof io?Sa(r.elements,o.elements,ai):r instanceof Ju&&o instanceof Ju?ai(r.Ae,o.Ae):r instanceof $u&&o instanceof $u})(a.transform,e.transform)}class GA{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class hc{}function gv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new vd(a.key,ni.none()):new ao(a.key,a.data,ni.none());{const i=a.data,r=wn.empty();let o=new xe(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Er(a.key,r,new zn(o.toArray()),ni.none())}}function QA(a,e,i){a instanceof ao?(function(o,h,d){const p=o.value.clone(),v=Fy(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Er?(function(o,h,d){if(!zu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Fy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(pv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(a,e,i,r){return a instanceof ao?(function(h,d,p,v){if(!zu(h.precondition,d))return p;const _=h.value.clone(),A=Yy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof Er?(function(h,d,p,v){if(!zu(h.precondition,d))return p;const _=Yy(h.fieldTransforms,v,d),A=d.data;return A.setAll(pv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(a,e,i,r):(function(h,d,p){return zu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function FA(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=hv(r.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(r.field,h))}return i||null}function Qy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Sa(r,o,((h,d)=>HA(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ao extends hc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends hc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function pv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function Fy(a,e,i){const r=new Map;Ht(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,qA(d,p,i[o]))}return r}function Yy(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,kA(h,d,e))}return r}class vd extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YA extends hc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&QA(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=uv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=gv(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(wt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,((i,r)=>Qy(i,r)))&&Sa(this.baseMutations,e.baseMutations,((i,r)=>Qy(i,r)))}}class Ed{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return UA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Ed(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,zt;function $A(a){switch(a){case nt.OK:return At(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return At(15467,{code:a})}}function yv(a){if(a===void 0)return Ni("GRPC error has no .code"),nt.UNKNOWN;switch(a){case Ee.OK:return nt.OK;case Ee.CANCELLED:return nt.CANCELLED;case Ee.UNKNOWN:return nt.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return nt.INTERNAL;case Ee.UNAVAILABLE:return nt.UNAVAILABLE;case Ee.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ee.NOT_FOUND:return nt.NOT_FOUND;case Ee.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ee.ABORTED:return nt.ABORTED;case Ee.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ee.DATA_LOSS:return nt.DATA_LOSS;default:return At(39323,{code:a})}}(zt=Ee||(Ee={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new vs([4294967295,4294967295],0);function Xy(a){const e=JA().encode(a),i=new M_;return i.update(e),new Uint8Array(i.digest())}function Ky(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new vs([i,r],0),new vs([o,h],0)]}class Td{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(vs.fromNumber(r)));return o.compare(WA)===1&&(o=new vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Xy(e),[r,o]=Ky(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Td(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Xy(e),[r,o]=Ky(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,lo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new fc(wt.min(),o,new oe(Ut),Vi(),Lt())}}class lo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new lo(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class _v{constructor(e,i){this.targetId=e,this.Ce=i}}class vv{constructor(e,i,r=ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Zy{constructor(){this.ve=0,this.Fe=$y(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:At(38017,{changeType:h})}})),new lo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=$y()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=Ou(),this.He=Ou(),this.Ye=new oe(Ut)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:At(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Xf(h))if(r===0){const d=new vt(h.path);this.et(i,d,Xe.newNoDocument(d,wt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Ss(r).toUint8Array()}catch(v){if(v instanceof Q_)return Aa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Td(d,o,h)}catch(v){return Aa(v instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Xf(p.target)){const v=new vt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Lt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new fc(e,i,this.Ye,this.je,r);return this.je=Vi(),this.Je=Ou(),this.He=Ou(),this.Ye=new oe(Ut),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Zy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new xe(Ut),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new xe(Ut),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ou(){return new oe(vt.comparator)}function $y(){return new oe(vt.comparator)}const eS={asc:"ASCENDING",desc:"DESCENDING"},nS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iS={and:"AND",or:"OR"};class sS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Zf(a,e){return a.useProto3Json||rc(e)?e:{value:e}}function Wu(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ev(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function rS(a,e){return Wu(a,e.toTimestamp())}function ii(a){return Ht(!!a,49232),wt.fromTimestamp((function(i){const r=As(i);return new se(r.seconds,r.nanos)})(a))}function Ad(a,e){return $f(a,e).canonicalString()}function $f(a,e){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Tv(a){const e=ie.fromString(a);return Ht(wv(e),10190,{key:e.toString()}),e}function Jf(a,e){return Ad(a.databaseId,e.path)}function If(a,e){const i=Tv(e);if(i.get(1)!==a.databaseId.projectId)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new pt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new vt(Sv(i))}function Av(a,e){return Ad(a.databaseId,e)}function aS(a){const e=Tv(a);return e.length===4?ie.emptyPath():Sv(e)}function Wf(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Sv(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Jy(a,e,i){return{name:Jf(a,e),fields:i.value.mapValue.fields}}function lS(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:At(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?nt.UNKNOWN:yv(_.code);return new pt(A,_.message||"")})(d);i=new vv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=If(a,r.document.name),h=ii(r.document.updateTime),d=r.document.createTime?ii(r.document.createTime):wt.min(),p=new wn({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Bu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=If(a,r.document),h=r.readTime?ii(r.readTime):wt.min(),d=Xe.newNoDocument(o,h),p=r.removedTargetIds||[];i=new Bu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=If(a,r.document),h=r.removedTargetIds||[];i=new Bu([],h,o,null)}else{if(!("filter"in e))return At(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new ZA(o,h),p=r.targetId;i=new _v(p,d)}}return i}function oS(a,e){let i;if(e instanceof ao)i={update:Jy(a,e.key,e.value)};else if(e instanceof vd)i={delete:Jf(a,e.key)};else if(e instanceof Er)i={update:Jy(a,e.key,e.data),updateMask:yS(e.fieldMask)};else{if(!(e instanceof YA))return At(16599,{Vt:e.type});i={verify:Jf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof $u)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ju)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw At(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:rS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:At(27497)})(a,e.precondition)),i}function uS(a,e){return a&&a.length>0?(Ht(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(wt.min())&&(d=ii(h)),new GA(d,o.transformResults||[])})(i,e)))):[]}function cS(a,e){return{documents:[Av(a,e.path)]}}function hS(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Av(a,o);const h=(function(_){if(_.length!==0)return Rv(li.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(j){return{field:ga(j.field),direction:mS(j.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Zf(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function fS(a){let e=aS(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(x){const j=bv(x);return j instanceof li&&ev(j)?j.getFilters():[j]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((j=>(function(Z){return new Zu(pa(Z.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(j)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let j;return j=typeof x=="object"?x.value:x,rc(j)?null:j})(i.limit));let v=null;i.startAt&&(v=(function(x){const j=!!x.before,G=x.values||[];return new Ku(G,j)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const j=!x.before,G=x.values||[];return new Ku(G,j)})(i.endAt)),NA(e,o,d,h,p,"F",v,_)}function dS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function bv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=pa(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=pa(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=pa(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=pa(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(a):a.fieldFilter!==void 0?(function(i){return we.create(pa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return li.create(i.compositeFilter.filters.map((r=>bv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(i.compositeFilter.op))})(a):At(30097,{filter:a})}function mS(a){return eS[a]}function gS(a){return nS[a]}function pS(a){return iS[a]}function ga(a){return{fieldPath:a.canonicalString()}}function pa(a){return Be.fromServerFormat(a.fieldPath)}function Rv(a){return a instanceof we?(function(i){if(i.op==="=="){if(zy(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NAN"}};if(Py(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(zy(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NOT_NAN"}};if(Py(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(i.field),op:gS(i.op),value:i.value}}})(a):a instanceof li?(function(i){const r=i.getFilters().map((o=>Rv(o)));return r.length===1?r[0]:{compositeFilter:{op:pS(i.op),filters:r}}})(a):At(54877,{filter:a})}function yS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function wv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i,r,o,h=wt.min(),d=wt.min(),p=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.yt=e}}function vS(a){const e=fS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.Cn=new TS}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Ts.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class TS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new xe(ie.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new xe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cv=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Cv,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wa(0)}static cr(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",AS=1048576;function e_([a,e],[i,r]){const o=Ut(a,i);return o===0?Ut(e,r):o}class SS{constructor(e){this.Ir=e,this.buffer=new xe(e_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();e_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ct(t_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Va(i)?ct(t_,"Ignoring IndexedDB error during garbage collection: ",i):await Na(i)}await this.Vr(3e5)}))}}class RS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(sc.ce);const r=new SS(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Wy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wy):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,p=Date.now(),this.removeTargets(e,r,i)))).next((x=>(h=x,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(_=Date.now(),da()<=Bt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${x} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:x}))))}}function wS(a,e){return new RS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.changes=new vr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Kl(r.mutation,o,zn.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Lt()){const o=fr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=ql();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=fr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Lt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=Vi();const d=Xl(),p=(function(){return Xl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Er)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,zn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new xS(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Xl();let o=new oe(((d,p)=>d-p)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||zn.empty();A=p.applyToLocalView(_,A),r.set(v,A);const x=(o.get(p.batchId)||Lt()).add(v);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,x=uv();A.forEach((j=>{if(!h.has(j)){const G=gv(i.get(j),r.get(j));G!==null&&x.set(j,G),h=h.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):VA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):J.resolve(fr());let p=Jl,v=h;return d.next((_=>J.forEach(_,((A,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),h.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((j=>{v=v.insert(A,j)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Lt()))).next((A=>({batchId:p,changes:ov(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next((r=>{let o=ql();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,h).next((p=>J.forEach(p,(v=>{const _=(function(x,j){return new lc(j,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((x,j)=>{d=d.insert(x,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=ql();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Kl(A.mutation,_,zn.empty(),se.now()),uc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:vS(o.bundledQuery),readTime:ii(o.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.overlays=new oe(vt.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=fr();return J.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=fr(),h=i.length+1,d=new vt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=fr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=fr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return J.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new KA(i,r));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.Qr=new xe(Oe.$r),this.Ur=new xe(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Oe(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new vt(new ie([])),r=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new vt(new ie([])),r=new Oe(i,e),o=new Oe(i,e+1);let h=Lt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Oe(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return vt.comparator(e.key,i.key)||Ut(e.Yr,i.Yr)}static Kr(e,i){return Ut(e.Yr,i.Yr)||vt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Oe.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new XA(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Oe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?fd:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new xe(Ut);return i.forEach((o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;vt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new vt(h),0);let p=new xe(Ut);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const h=new Oe(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Oe(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.ri=e,this.docs=(function(){return new oe(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Vi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Vi();const d=i.path,p=new vt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||oA(lA(A),r)<=0||(o.has(A.key)||uc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,r,o){At(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new jS(this)}getSize(e){return J.resolve(this.size)}}class jS extends CS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.persistence=e,this.si=new vr((i=>gd(i)),pd),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new Sd,this.targetCount=0,this.ai=wa.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new sc(0),this.li=!1,this.li=!0,this.hi=new IS,this.referenceDelegate=e(this),this.Pi=new US(this),this.indexManager=new ES,this.remoteDocumentCache=(function(o){return new OS(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _S(i),this.Ii=new NS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new VS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new MS(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ct("MemoryPersistence","Starting transaction:",e);const o=new LS(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class LS extends cA{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Ri=new Sd,this.Vi=null}static mi(e){return new bd(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=vt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,wt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tc{constructor(e,i){this.persistence=e,this.pi=new vr((r=>dA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=wS(this,i)}static mi(e,i){return new tc(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,h.removeEntry(d,wt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lu(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Lt(),o=Lt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Rd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VT()?8:hA(DT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new PS;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(da()<=Bt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(da()<=Bt.DEBUG&&ct("QueryEngine","Query:",ma(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(da()<=Bt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):J.resolve())}ys(e,i){if(Hy(i))return J.resolve(null);let r=ei(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Kf(i,null,"F"),r=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,Kf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return Hy(i)||o.isEqual(wt.min())?J.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?J.resolve(null):(da()<=Bt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ma(i)),this.vs(e,d,i,aA(o,Jl)).next((p=>p)))}))}Ds(e,i){let r=new xe(av(e));return i.forEach(((o,h)=>{uc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return da()<=Bt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ma(i)),this.ps.getDocumentsMatchingQuery(e,i,Ts.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="LocalStore",BS=3e8;class kS{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Ut),this.xs=new vr((h=>gd(h)),pd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function qS(a,e,i,r){return new kS(a,e,i,r)}async function Dv(a,e){const i=xt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=Lt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function HS(a,e){const i=xt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const x=_.batch,j=x.keys();let G=J.resolve();return j.forEach((Z=>{G=G.next((()=>A.getEntry(v,Z))).next((st=>{const H=_.docVersions.get(Z);Ht(H!==null,48541),st.version.compareTo(H)<0&&(x.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,x)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Nv(a){const e=xt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function GS(a,e){const i=xt(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,x)=>{const j=o.get(x);if(!j)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,x))));let G=j.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(x)!==null?G=G.withResumeToken(ke.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),o=o.insert(x,G),(function(st,H,K){return st.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=BS?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(j,G,A)&&p.push(i.Pi.updateTargetData(h,G))}));let v=Vi(),_=Lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(QS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(wt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((x=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(A)}return J.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function QS(a,e,i){let r=Lt(),o=Lt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=Vi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(wt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ct(wd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function FS(a,e){const i=xt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function YS(a,e){const i=xt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new ps(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function td(a,e,i){const r=xt(a),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Va(d))throw d;ct(wd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function n_(a,e,i){const r=xt(a);let o=wt.min(),h=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const x=xt(v),j=x.xs.get(A);return j!==void 0?J.resolve(x.Ms.get(j)):x.Pi.getTargetData(_,A)})(r,d,ei(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:wt.min(),i?h:Lt()))).next((p=>(XS(r,MA(e),p),{documents:p,Qs:h})))))}function XS(a,e,i){let r=a.Os.get(e)||wt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(e,r)}class i_{constructor(){this.activeTargetIds=zA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KS{constructor(){this.Mo=new i_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="ConnectivityMonitor";class r_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(s_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ct(s_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function ed(){return ju===null?ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",$S={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Yu?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=ed(),p=this.zo(e,i.toUriEncodedString());ct(Mf,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),A=ld(_);return this.Jo(e,p,v,r,A).then((x=>(ct(Mf,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Aa(Mf,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",r),x}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Da})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=$S[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class tb extends JS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=ed();return new Promise(((p,v)=>{const _=new O_;_.setWithCredentials(!0),_.listenOnce(j_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uu.NO_ERROR:const x=_.getResponseJson();ct(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Uu.TIMEOUT:ct(Fe,`RPC '${e}' ${d} timed out`),v(new pt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const j=_.getStatus();if(ct(Fe,`RPC '${e}' ${d} failed with status:`,j,"response text:",_.getResponseText()),j>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const st=(function(K){const lt=K.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(lt)>=0?lt:nt.UNKNOWN})(Z.status);v(new pt(st,Z.message))}else v(new pt(nt.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new pt(nt.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ct(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ct(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=ed(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=P_(),p=L_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");ct(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const x=d.createWebChannel(A,v);this.I_(x);let j=!1,G=!1;const Z=new WS({Yo:H=>{G?ct(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(j||(ct(Fe,`Opening RPC '${e}' stream ${o} transport.`),x.open(),j=!0),ct(Fe,`RPC '${e}' stream ${o} sending:`,H),x.send(H))},Zo:()=>x.close()}),st=(H,K,lt)=>{H.listen(K,(it=>{try{lt(it)}catch(St){setTimeout((()=>{throw St}),0)}}))};return st(x,kl.EventType.OPEN,(()=>{G||(ct(Fe,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),st(x,kl.EventType.CLOSE,(()=>{G||(G=!0,ct(Fe,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(x))})),st(x,kl.EventType.ERROR,(H=>{G||(G=!0,Aa(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Z.a_(new pt(nt.UNAVAILABLE,"The operation could not be completed")))})),st(x,kl.EventType.MESSAGE,(H=>{if(!G){const K=H.data[0];Ht(!!K,16349);const lt=K,it=lt?.error||lt[0]?.error;if(it){ct(Fe,`RPC '${e}' stream ${o} received error:`,it);const St=it.status;let ut=(function(b){const C=Ee[b];if(C!==void 0)return yv(C)})(St),_t=it.message;ut===void 0&&(ut=nt.INTERNAL,_t="Unknown error status: "+St+" with message "+it.message),G=!0,Z.a_(new pt(ut,_t)),x.close()}else ct(Fe,`RPC '${e}' stream ${o} received:`,K),Z.u_(K)}})),st(p,U_.STAT_EVENT,(H=>{H.stat===Hf.PROXY?ct(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Hf.NOPROXY&&ct(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(a){return new sS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="PersistentStream";class Iv{constructor(e,i,r,o,h,d,p,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Ni(i.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new pt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ct(a_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ct(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eb extends Iv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=lS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return wt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?ii(d.readTime):wt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Wf(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Xf(v)?{documents:cS(h,v)}:{query:hS(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Ev(h,d.resumeToken);const _=Zf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(wt.min())>0){p.readTime=Wu(h,d.snapshotVersion.toTimestamp());const _=Zf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=dS(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Wf(this.serializer),i.removeTarget=e,this.q_(i)}}class nb extends Iv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=uS(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Wf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>oS(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{}class sb extends ib{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,$f(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pt(nt.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,$f(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pt(nt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ni(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="RemoteStore";class ab{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Tr(this)&&(ct(yr,"Restarting streams for network reachability change."),await(async function(v){const _=xt(v);_.Ea.add(4),await oo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await mc(_)})(this))}))})),this.Ra=new rb(r,o)}}async function mc(a){if(Tr(a))for(const e of a.da)await e(!0)}async function oo(a){for(const e of a.da)await e(!1)}function Mv(a,e){const i=xt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Nd(i)?Dd(i):Ia(i).O_()&&xd(i,e))}function Cd(a,e){const i=xt(a),r=Ia(i);i.Ia.delete(e),r.O_()&&Ov(i,e),i.Ia.size===0&&(r.O_()?r.L_():Tr(i)&&i.Ra.set("Unknown"))}function xd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ia(a).Y_(e)}function Ov(a,e){a.Va.Ue(e),Ia(a).Z_(e)}function Dd(a){a.Va=new tS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ia(a).start(),a.Ra.ua()}function Nd(a){return Tr(a)&&!Ia(a).x_()&&a.Ia.size>0}function Tr(a){return xt(a).Ea.size===0}function jv(a){a.Va=void 0}async function lb(a){a.Ra.set("Online")}async function ob(a){a.Ia.forEach(((e,i)=>{xd(a,e)}))}async function ub(a,e){jv(a),Nd(a)?(a.Ra.ha(e),Dd(a)):a.Ra.set("Unknown")}async function cb(a,e,i){if(a.Ra.set("Online"),e instanceof vv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(r){ct(yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ec(a,r)}else if(e instanceof Bu?a.Va.Ze(e):e instanceof _v?a.Va.st(e):a.Va.tt(e),!i.isEqual(wt.min()))try{const r=await Nv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Ov(h,v);const x=new ps(A.target,v,_,A.sequenceNumber);xd(h,x)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){ct(yr,"Failed to raise snapshot:",r),await ec(a,r)}}async function ec(a,e,i){if(!Va(e))throw e;a.Ea.add(1),await oo(a),a.Ra.set("Offline"),i||(i=()=>Nv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ct(yr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await mc(a)}))}function Uv(a,e){return e().catch((i=>ec(a,i,e)))}async function gc(a){const e=xt(a),i=Rs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fd;for(;hb(e);)try{const o=await FS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,fb(e,o)}catch(o){await ec(e,o)}Lv(e)&&Pv(e)}function hb(a){return Tr(a)&&a.Ta.length<10}function fb(a,e){a.Ta.push(e);const i=Rs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Lv(a){return Tr(a)&&!Rs(a).x_()&&a.Ta.length>0}function Pv(a){Rs(a).start()}async function db(a){Rs(a).ra()}async function mb(a){const e=Rs(a);for(const i of a.Ta)e.ea(i.mutations)}async function gb(a,e,i){const r=a.Ta.shift(),o=Ed.from(r,e,i);await Uv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await gc(a)}async function pb(a,e){e&&Rs(a).X_&&await(async function(r,o){if((function(d){return $A(d)&&d!==nt.ABORTED})(o.code)){const h=r.Ta.shift();Rs(r).B_(),await Uv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await gc(r)}})(a,e),Lv(a)&&Pv(a)}async function l_(a,e){const i=xt(a);i.asyncQueue.verifyOperationInProgress(),ct(yr,"RemoteStore received new credentials");const r=Tr(i);i.Ea.add(3),await oo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await mc(i)}async function yb(a,e){const i=xt(a);e?(i.Ea.delete(2),await mc(i)):e||(i.Ea.add(2),await oo(i),i.Ra.set("Unknown"))}function Ia(a){return a.ma||(a.ma=(function(i,r,o){const h=xt(i);return h.sa(),new eb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:lb.bind(null,a),t_:ob.bind(null,a),r_:ub.bind(null,a),H_:cb.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Nd(a)?Dd(a):a.Ra.set("Unknown")):(await a.ma.stop(),jv(a))}))),a.ma}function Rs(a){return a.fa||(a.fa=(function(i,r,o){const h=xt(i);return h.sa(),new nb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:db.bind(null,a),r_:pb.bind(null,a),ta:mb.bind(null,a),na:gb.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await gc(a)):(await a.fa.stop(),a.Ta.length>0&&(ct(yr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new Vd(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Id(a,e){if(Ni("AsyncQueue",`${e}: ${a}`),Va(a))return new pt(nt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=ql(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.ga=new oe(vt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):At(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ca{constructor(e,i,r,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ca(e,i,va.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vb{constructor(){this.queries=u_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=xt(i),h=o.queries;o.queries=u_(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new pt(nt.ABORTED,"Firestore shutting down"))}}function u_(){return new vr((a=>rv(a)),oc)}async function Eb(a,e){const i=xt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new _b,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Id(d,`Initialization of query '${ma(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Md(i)}async function Tb(a,e){const i=xt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Ab(a,e){const i=xt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Md(i)}function Sb(a,e,i){const r=xt(a),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Md(a){a.Ca.forEach((e=>{e.next()}))}var nd,c_;(c_=nd||(nd={})).Ma="default",c_.Cache="cache";class bb{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.key=e}}class Bv{constructor(e){this.key=e}}class Rb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=av(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new o_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,x)=>{const j=o.get(A),G=uc(this.query,x)?x:null,Z=!!j&&this.mutatedKeys.has(j.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let H=!1;j&&G?j.data.isEqual(G.data)?Z!==st&&(r.track({type:3,doc:G}),H=!0):this.su(j,G)||(r.track({type:2,doc:G}),H=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(p=!0)):!j&&G?(r.track({type:0,doc:G}),H=!0):j&&!G&&(r.track({type:1,doc:j}),H=!0,(v||_)&&(p=!0)),H&&(G?(d=d.add(G),h=st?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,x)=>(function(G,Z){const st=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:H})}};return st(G)-st(Z)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ca(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new o_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Bv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new zv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Od="SyncEngine";class wb{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Cb{constructor(e){this.key=e,this.hu=!1}}class xb{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new vr((p=>rv(p)),oc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(vt.comparator),this.Au=new Map,this.Ru=new Sd,this.Vu={},this.mu=new Map,this.fu=wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Db(a,e,i=!0){const r=Fv(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await kv(r,e,i,!0),o}async function Nb(a,e){const i=Fv(a);await kv(i,e,!0,!1)}async function kv(a,e,i,r){const o=await YS(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await Vb(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Mv(a.remoteStore,o),p}async function Vb(a,e,i,r,o){a.pu=(x,j,G)=>(async function(st,H,K,lt){let it=H.view.ru(K);it.Cs&&(it=await n_(st.localStore,H.query,!1).then((({documents:V})=>H.view.ru(V,it))));const St=lt&&lt.targetChanges.get(H.targetId),ut=lt&&lt.targetMismatches.get(H.targetId)!=null,_t=H.view.applyChanges(it,st.isPrimaryClient,St,ut);return f_(st,H.targetId,_t.au),_t.snapshot})(a,x,j,G);const h=await n_(a.localStore,e,!0),d=new Rb(e,h.Qs),p=d.ru(h.documents),v=lo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(p,a.isPrimaryClient,v);f_(a,i,_.au);const A=new wb(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function Ib(a,e,i){const r=xt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!oc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await td(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Cd(r.remoteStore,o.targetId),id(r,o.targetId)})).catch(Na)):(id(r,o.targetId),await td(r.localStore,o.targetId,!0))}async function Mb(a,e){const i=xt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Cd(i.remoteStore,r.targetId))}async function Ob(a,e,i){const r=kb(a);try{const o=await(function(d,p){const v=xt(d),_=se.now(),A=p.reduce(((G,Z)=>G.add(Z.key)),Lt());let x,j;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=Vi(),st=Lt();return v.Ns.getEntries(G,A).next((H=>{Z=H,Z.forEach(((K,lt)=>{lt.isValidDocument()||(st=st.add(K))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,Z))).next((H=>{x=H;const K=[];for(const lt of p){const it=FA(lt,x.get(lt.key).overlayedDocument);it!=null&&K.push(new Er(lt.key,it,J_(it.value.mapValue),ni.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,K,p)})).next((H=>{j=H;const K=H.applyToLocalDocumentSet(x,st);return v.documentOverlayCache.saveOverlays(G,H.batchId,K)}))})).then((()=>({batchId:j.batchId,changes:ov(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Ut)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await uo(r,o.changes),await gc(r.remoteStore)}catch(o){const h=Id(o,"Failed to persist write");i.reject(h)}}async function qv(a,e){const i=xt(a);try{const r=await GS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await uo(i,r,e)}catch(r){await Na(r)}}function h_(a,e,i){const r=xt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=xt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,x)=>{for(const j of x.Sa)j.va(p)&&(_=!0)})),_&&Md(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jb(a,e,i){const r=xt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new oe(vt.comparator);d=d.insert(h,Xe.newNoDocument(h,wt.min()));const p=Lt().add(h),v=new fc(wt.min(),new Map,new oe(Ut),d,p);await qv(r,v),r.du=r.du.remove(h),r.Au.delete(e),jd(r)}else await td(r.localStore,e,!1).then((()=>id(r,e,i))).catch(Na)}async function Ub(a,e){const i=xt(a),r=e.batch.batchId;try{const o=await HS(i.localStore,e);Gv(i,r,null),Hv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await uo(i,o)}catch(o){await Na(o)}}async function Lb(a,e,i){const r=xt(a);try{const o=await(function(d,p){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((x=>(Ht(x!==null,37113),A=x.keys(),v.mutationQueue.removeMutationBatch(_,x)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);Gv(r,e,i),Hv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await uo(r,o)}catch(o){await Na(o)}}function Hv(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Gv(a,e,i){const r=xt(a);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function id(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||Qv(a,r)}))}function Qv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Cd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),jd(a))}function f_(a,e,i){for(const r of i)r instanceof zv?(a.Ru.addReference(r.key,e),Pb(a,r)):r instanceof Bv?(ct(Od,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||Qv(a,r.key)):At(19791,{wu:r})}function Pb(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ct(Od,"New document in limbo: "+i),a.Eu.add(r),jd(a))}function jd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new vt(ie.fromString(e)),r=a.fu.next();a.Au.set(r,new Cb(i)),a.du=a.du.insert(i,r),Mv(a.remoteStore,new ps(ei(yd(i.path)),r,"TargetPurposeLimboResolution",sc.ce))}}async function uo(a,e,i){const r=xt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Rd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=xt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(_,(j=>J.forEach(j.Es,(G=>A.persistence.referenceDelegate.addReference(x,j.targetId,G))).next((()=>J.forEach(j.ds,(G=>A.persistence.referenceDelegate.removeReference(x,j.targetId,G)))))))))}catch(x){if(!Va(x))throw x;ct(wd,"Failed to update sequence numbers: "+x)}for(const x of _){const j=x.targetId;if(!x.fromCache){const G=A.Ms.get(j),Z=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(j,st)}}})(r.localStore,h))}async function zb(a,e){const i=xt(a);if(!i.currentUser.isEqual(e)){ct(Od,"User change. New user:",e.toKey());const r=await Dv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new pt(nt.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uo(i,r.Ls)}}function Bb(a,e){const i=xt(a),r=i.Au.get(e);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Fv(a){const e=xt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=qv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jb.bind(null,e),e.Pu.H_=Ab.bind(null,e.eventManager),e.Pu.yu=Sb.bind(null,e.eventManager),e}function kb(a){const e=xt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ub.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lb.bind(null,e),e}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return qS(this.persistence,new zS,e.initialUser,this.serializer)}Cu(e){return new xv(bd.mi,this.serializer)}Du(e){return new KS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class qb extends nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof tc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new xv((r=>tc.mi(r,i)),this.serializer)}}class sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zb.bind(null,this.syncEngine),await yb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vb})()}createDatastore(e){const i=dc(e.databaseInfo.databaseId),r=(function(h){return new tb(h)})(e.databaseInfo);return(function(h,d,p,v){return new sb(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new ab(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>h_(this.syncEngine,i,0)),(function(){return r_.v()?new r_:new ZS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,A){const x=new xb(o,h,d,p,v,_);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=xt(i);ct(yr,"RemoteStore shutting down."),r.Ea.add(5),await oo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sd.provider={build:()=>new sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class Gb{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ct(ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ct(ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Id(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jf(a,e){a.asyncQueue.verifyOperationInProgress(),ct(ws,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Dv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function d_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Qb(a);ct(ws,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>l_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>l_(e.remoteStore,o))),a._onlineComponents=e}async function Qb(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ct(ws,"Using user provided OfflineComponentProvider");try{await jf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Aa("Error using user provided cache. Falling back to memory cache: "+i),await jf(a,new nc)}}else ct(ws,"Using default OfflineComponentProvider"),await jf(a,new qb(void 0));return a._offlineComponents}async function Yv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ct(ws,"Using user provided OnlineComponentProvider"),await d_(a,a._uninitializedComponentsProvider._online)):(ct(ws,"Using default OnlineComponentProvider"),await d_(a,new sd))),a._onlineComponents}function Fb(a){return Yv(a).then((e=>e.syncEngine))}async function m_(a){const e=await Yv(a),i=e.eventManager;return i.onListen=Db.bind(null,e.syncEngine),i.onUnlisten=Ib.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Nb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Mb.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="firestore.googleapis.com",p_=!0;class y_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kv,this.ssl=p_}else this.host=e.host,this.ssl=e.ssl??p_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AS)throw new pt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new K1;switch(r.type){case"firstParty":return new W1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=g_.get(i);r&&(ct("ComponentProvider","Removing Datastore"),g_.delete(i),r.terminate())})(this),Promise.resolve()}}function Yb(a,e,i,r={}){a=mr(a,pc);const o=ld(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(bT(`https://${p}`),xT("Firestore",!0)),h.host!==Kv&&h.host!==p&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:r};if(!Hu(v,d)&&(a._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ye.MOCK_USER;else{_=RT(r.mockUserToken,a._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new pt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(x)}a._authCredentials=new Z1(new B_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yc(this.firestore,e,this._query)}}class Ce{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ce(this.firestore,e,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ro(i,Ce._jsonSchema))return new Ce(e,r||null,new vt(ie.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Te("string",Ce._jsonSchemaVersion),referencePath:Te("string")};class Es extends yc{constructor(e,i,r){super(e,i,yd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ce(this.firestore,null,new vt(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Ud(a,e,...i){if(a=Ta(a),k_("collection","path",e),a instanceof pc){const r=ie.fromString(e,...i);return Ny(r),new Es(a,null,r)}{if(!(a instanceof Ce||a instanceof Es))throw new pt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(e,...i));return Ny(r),new Es(a.firestore,null,r)}}function Ii(a,e,...i){if(a=Ta(a),arguments.length===1&&(e=cd.newId()),k_("doc","path",e),a instanceof pc){const r=ie.fromString(e,...i);return Dy(r),new Ce(a,null,new vt(r))}{if(!(a instanceof Ce||a instanceof Es))throw new pt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(e,...i));return Dy(r),new Ce(a.firestore,a instanceof Es?a.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class v_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vv(this,"async_queue_retry"),this._c=()=>{const r=Of();r&&ct(__,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Of();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Of();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Va(e))throw e;ct(__,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ni("INTERNAL UNHANDLED ERROR: ",E_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Vd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:E_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function E_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class so extends pc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new v_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v_(e),this._firestoreClient=void 0,await e}}}function Xb(a,e){const i=typeof a=="object"?a:P1(),r=typeof a=="string"?a:Yu,o=M1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=AT("firestore");h&&Yb(o,...h)}return o}function Zv(a){if(a._terminated)throw new pt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Kb(a),a._firestoreClient}function Kb(a){const e=a._freezeSettings(),i=(function(o,h,d,p){return new pA(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Xv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Gb(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(ke.fromBase64String(e))}catch(i){throw new pt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ro(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Te("string",Cn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(ro(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Te("string",si._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ro(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ri(e.vectorValues);throw new pt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Te("string",ri._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=/^__.*__$/;class $b{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,i,this.fieldTransforms):new ao(e,this.data,i,this.fieldTransforms)}}function Jv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:a})}}class Pd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jv(this.Ac)&&Zb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||dc(e)}Cc(e,i,r,o=!1){return new Pd({Ac:e,methodName:i,Dc:r,path:Be.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wb(a){const e=a._freezeSettings(),i=dc(a._databaseId);return new Jb(a._databaseId,!!e.ignoreUndefinedProperties,i)}function t2(a,e,i,r,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);n0("Data must be an object, but it was:",d,r);const p=t0(r,d);let v,_;if(h.merge)v=new zn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const x of h.mergeFields){const j=e2(e,x,i);if(!d.contains(j))throw new pt(nt.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);i2(A,j)||A.push(j)}v=new zn(A),_=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,_=d.fieldTransforms;return new $b(new wn(p),v,_)}function Wv(a,e){if(e0(a=Ta(a)))return n0("Unsupported field value:",e,a),t0(a,e);if(a instanceof $v)return(function(r,o){if(!Jv(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let v=Wv(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=Ta(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=se.fromDate(r);return{timestampValue:Wu(o.serializer,h)}}if(r instanceof se){const h=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wu(o.serializer,h)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cn)return{bytesValue:Ev(o.serializer,r._byteString)};if(r instanceof Ce){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ad(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ri)return(function(d,p){return{mapValue:{fields:{[Z_]:{stringValue:$_},[Xu]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return _d(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${hd(r)}`)})(a,e)}function t0(a,e){const i={};return G_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(a,((r,o)=>{const h=Wv(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function e0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof se||a instanceof si||a instanceof Cn||a instanceof Ce||a instanceof $v||a instanceof ri)}function n0(a,e,i){if(!e0(i)||!q_(i)){const r=hd(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function e2(a,e,i){if((e=Ta(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return i0(a,e);throw ic("Field path arguments must be of type string or ",a,!1,void 0,i)}const n2=new RegExp("[~\\*/\\[\\]]");function i0(a,e,i){if(e.search(n2)>=0)throw ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ld(...e.split("."))._internalPath}catch{throw ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function ic(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new pt(nt.INVALID_ARGUMENT,p+a+v)}function i2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(r0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class s2 extends s0{data(){return super.data()}}function r0(a,e){return typeof e=="string"?i0(a,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new pt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a2{convertValue(e,i="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return _r(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[Xu].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new ri(i)}convertGeoPoint(e){return new si(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=ac(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=As(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ie.fromString(e);Ht(wv(r),9688,{name:e});const o=new to(r.get(1),r.get(3)),h=new vt(r.popFirst(5));return o.isEqual(i)||Ni(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class Gl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gr extends s0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(r0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",gr._jsonSchema={type:Te("string",gr._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class ku extends gr{data(e={}){return super.data(e)}}class Ea{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ku(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:o2(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:a})}}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:Te("string",Ea._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class a0 extends a2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function Ma(a,e,i){a=mr(a,Ce);const r=mr(a.firestore,so),o=l2(a.converter,e);return l0(r,[t2(Wb(r),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,ni.none())])}function zd(a){return l0(mr(a.firestore,so),[new vd(a._key,ni.none())])}function Bd(a,...e){a=Ta(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||T_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(T_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,d,p;if(a instanceof Ce)d=mr(a.firestore,so),p=yd(a._key.path),h={next:v=>{e[r]&&e[r](u2(d,a,v))},error:e[r+1],complete:e[r+2]};else{const v=mr(a,yc);d=mr(v.firestore,so),p=v._query;const _=new a0(d);h={next:A=>{e[r]&&e[r](new Ea(d,_,v,A))},error:e[r+1],complete:e[r+2]},r2(a._query)}return(function(_,A,x,j){const G=new Hb(j),Z=new bb(A,G,x);return _.asyncQueue.enqueueAndForget((async()=>Eb(await m_(_),Z))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>Tb(await m_(_),Z)))}})(Zv(d),p,o,h)}function l0(a,e){return(function(r,o){const h=new dr;return r.asyncQueue.enqueueAndForget((async()=>Ob(await Fb(r),o,h))),h.promise})(Zv(a),e)}function u2(a,e,i){const r=i.docs.get(e._key),o=new a0(a);return new gr(a,o,e._key,r,new Gl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Da=o})(L1),Qu(new Zl("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new so(new $1(r.getProvider("auth-internal")),new tA(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),_a(Ry,wy,e),_a(Ry,wy,"esm2020")})();var c2="firebase",h2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(c2,h2,"app");const f2={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:43ad484af7c6616780088a"},d2=N_(f2),xn=Xb(d2),_c="customers",vc="activities",Ec="meetings",m2=async a=>{try{const e=a.map(i=>Ma(Ii(xn,_c,i.id),i));await Promise.all(e)}catch(e){console.error("Error saving customers:",e)}},o0=async a=>{try{await Ma(Ii(xn,_c,a.id),a)}catch(e){console.error("Error saving customer:",e)}},u0=async a=>{try{await zd(Ii(xn,_c,a))}catch(e){console.error("Error deleting customer:",e)}},c0=a=>Bd(Ud(xn,_c),e=>{const i=e.docs.map(r=>({id:r.id,...r.data()}));a(i)},e=>{console.error("Error in customers subscription:",e)}),g2=async a=>{try{const e=a.map(i=>Ma(Ii(xn,vc,i.id),i));await Promise.all(e)}catch(e){console.error("Error saving activities:",e)}},h0=async a=>{try{await Ma(Ii(xn,vc,a.id),a)}catch(e){console.error("Error saving activity:",e)}},f0=async a=>{try{await zd(Ii(xn,vc,a))}catch(e){console.error("Error deleting activity:",e)}},d0=a=>Bd(Ud(xn,vc),e=>{const i=e.docs.map(r=>({id:r.id,...r.data()}));a(i)},e=>{console.error("Error in activities subscription:",e)}),p2=async a=>{try{const e=a.map(i=>Ma(Ii(xn,Ec,i.id),i));await Promise.all(e)}catch(e){console.error("Error saving meetings:",e)}},m0=async a=>{try{await Ma(Ii(xn,Ec,a.id),a)}catch(e){console.error("Error saving meeting:",e)}},g0=async a=>{try{await zd(Ii(xn,Ec,a))}catch(e){console.error("Error deleting meeting:",e)}},p0=a=>Bd(Ud(xn,Ec),e=>{const i=e.docs.map(r=>({id:r.id,...r.data()}));a(i)},e=>{console.error("Error in meetings subscription:",e)}),y2=Object.freeze(Object.defineProperty({__proto__:null,deleteActivity:f0,deleteCustomer:u0,deleteMeeting:g0,saveActivities:g2,saveActivity:h0,saveCustomer:o0,saveCustomers:m2,saveMeeting:m0,saveMeetings:p2,subscribeToActivities:d0,subscribeToCustomers:c0,subscribeToMeetings:p0},Symbol.toStringTag,{value:"Module"}));new Date().toISOString(),new Date().toISOString(),new Date().toISOString();function _2(){const[a,e]=jt.useState([]),[i,r]=jt.useState([]),[o,h]=jt.useState([]),[d,p]=jt.useState(null),[v,_]=jt.useState(!1),[A,x]=jt.useState(null),[j,G]=jt.useState("전체"),[Z,st]=jt.useState(null),[H,K]=jt.useState(!1),lt=jt.useRef(null);jt.useEffect(()=>{const R=c0(et=>{e(et)}),F=d0(et=>{r(et)}),tt=p0(et=>{h(et)});return()=>{R(),F(),tt()}},[]);const it=R=>{G(R),st(null)},St=R=>{st(R)},ut=R=>{p(R.id)},_t=(R=null)=>{x(R),_(!0),R&&R.id===d&&p(null)},V=()=>{_(!1),x(null)},b=async R=>{await o0(R)},C=async R=>{confirm(`"${R.name}" 고객을 정말 삭제하시겠습니까?`)&&(await u0(R.id),d===R.id&&p(null))},I=async R=>{await h0(R)},N=async R=>{confirm("정말 이 활동을 삭제하시겠습니까?")&&await f0(R)},M=async R=>{await m0(R)},w=async R=>{confirm("정말 이 미팅을 삭제하시겠습니까?")&&await g0(R)},ot=()=>{const R={customers:a,activities:i,meetings:o},F=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),tt=URL.createObjectURL(F),et=document.createElement("a");et.href=tt,et.download=`customer-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(et),et.click(),document.body.removeChild(et),URL.revokeObjectURL(tt)},gt=async R=>{const F=R.target.files[0];if(!F)return;const tt=new FileReader;tt.onload=async et=>{try{const at=JSON.parse(et.target.result);if(at&&Array.isArray(at.customers)&&Array.isArray(at.activities)){const{saveCustomers:ht,saveActivities:dt,saveMeetings:Gt}=await nT(async()=>{const{saveCustomers:Rt,saveActivities:Qt,saveMeetings:Cs}=await Promise.resolve().then(()=>y2);return{saveCustomers:Rt,saveActivities:Qt,saveMeetings:Cs}},void 0,import.meta.url);await ht(at.customers||[]),await dt(at.activities||[]),await Gt(at.meetings||[]),alert("데이터가 성공적으로 복원되었습니다.")}else throw new Error("잘못된 파일 형식입니다.")}catch(at){alert(`복원 실패: ${at.message}`)}},tt.readAsText(F),R.target.value=null},z=R=>{const F=i.filter(et=>et.customerId===R);if(F.length===0)return null;const tt=F.sort((et,at)=>new Date(at.date)-new Date(et.date));return new Date(tt[0].date)},W=(R,F)=>{const tt=Math.abs(R-F);return Math.floor(tt/(1e3*60*60*24))},ft=(()=>{const R=new Date;R.setHours(0,0,0,0);let F=a.filter(tt=>{if(j==="오늘미팅")return o.filter(dt=>dt.customerId===tt.id).some(dt=>{const Gt=new Date(dt.date);return Gt.setHours(0,0,0,0),Gt.getTime()===R.getTime()});if(j==="미팅일확정")return o.filter(dt=>dt.customerId===tt.id).some(dt=>{const Gt=new Date(dt.date);return Gt.setHours(0,0,0,0),Gt>R});if(j==="오늘접촉"){const ht=z(tt.id);if(!ht)return!1;const dt=new Date(ht);return dt.setHours(0,0,0,0),dt.getTime()===R.getTime()}if(j==="연락할고객"){const ht=z(tt.id);return ht?W(R,ht)>=2:!1}if(j==="일주일무접촉"){const ht=z(tt.id);return ht?W(R,ht)>=7:!1}if(j==="신규무접촉")return tt.status==="신규"&&i.filter(ht=>ht.customerId===tt.id).length===0;if(j==="진행중무접촉"){if(tt.status!=="진행중")return!1;const ht=z(tt.id);return ht?W(R,ht)>=3:!0}const et=j==="전체"||tt.status===j,at=!Z||tt.progress===Z;return et&&at});return j==="오늘미팅"?F.sort((tt,et)=>{const at=o.filter(Rt=>{const Qt=new Date(Rt.date);return Qt.setHours(0,0,0,0),Rt.customerId===tt.id&&Qt.getTime()===R.getTime()}),ht=o.filter(Rt=>{const Qt=new Date(Rt.date);return Qt.setHours(0,0,0,0),Rt.customerId===et.id&&Qt.getTime()===R.getTime()});if(at.length===0)return 1;if(ht.length===0)return-1;const dt=new Date(at[0].date).getTime(),Gt=new Date(ht[0].date).getTime();return dt-Gt}):j==="미팅일확정"?F.sort((tt,et)=>{const at=o.filter(Rt=>{const Qt=new Date(Rt.date);return Qt.setHours(0,0,0,0),Rt.customerId===tt.id&&Qt>R}),ht=o.filter(Rt=>{const Qt=new Date(Rt.date);return Qt.setHours(0,0,0,0),Rt.customerId===et.id&&Qt>R});if(at.length===0)return 1;if(ht.length===0)return-1;const dt=at.sort((Rt,Qt)=>new Date(Rt.date)-new Date(Qt.date))[0],Gt=ht.sort((Rt,Qt)=>new Date(Rt.date)-new Date(Qt.date))[0];return new Date(dt.date)-new Date(Gt.date)}):j==="오늘접촉"?F.sort((tt,et)=>{const at=z(tt.id),ht=z(et.id);return at?ht?ht-at:-1:1}):j==="연락할고객"||j==="일주일무접촉"||j==="진행중무접촉"?F.sort((tt,et)=>{const at=z(tt.id),ht=z(et.id);return at?ht?at-ht:-1:1}):j==="신규무접촉"&&F.sort((tt,et)=>new Date(tt.createdAt)-new Date(et.createdAt)),F})(),Nt=a.find(R=>R.id===d);return E.jsxs("div",{className:"app-container",children:[H&&E.jsx("div",{className:"mobile-overlay",onClick:()=>K(!1)}),E.jsx(iT,{activeFilter:j,onFilterChange:it,customers:a,meetings:o,activities:i,isMobileOpen:H,onMobileClose:()=>K(!1)}),E.jsxs("div",{className:"main-content",children:[E.jsxs("header",{className:"main-header",children:[E.jsx("button",{className:"hamburger-btn",onClick:()=>K(!0),children:"☰"}),E.jsx("h1",{children:"고객 목록"}),E.jsxs("div",{className:"header-actions",children:[E.jsx("button",{onClick:()=>_t(),className:"btn-primary",children:"+ 고객 추가"}),E.jsx("button",{onClick:ot,className:"btn-secondary",children:"백업"}),E.jsx("button",{onClick:()=>lt.current?.click(),className:"btn-secondary",children:"복원"}),E.jsx("input",{type:"file",ref:lt,onChange:gt,style:{display:"none"},accept:".json"})]})]}),E.jsx("main",{className:"table-container",children:E.jsx(sT,{customers:ft,onSelectCustomer:ut,onEdit:_t,onDelete:C,selectedCustomerId:d,activeFilter:j,activeProgressFilter:Z,onProgressFilterChange:St,allCustomers:a})})]}),E.jsx(hT,{selectedCustomer:Nt,onClose:()=>p(null),onEditCustomer:_t,onDeleteCustomer:C,activities:i,onSaveActivity:I,onDeleteActivity:N,meetings:o,onSaveMeeting:M,onDeleteMeeting:w}),E.jsx(lT,{isOpen:v,onClose:V,onSave:b,editData:A})]})}WE.createRoot(document.getElementById("root")).render(E.jsx(jt.StrictMode,{children:E.jsx(_2,{})}));
